/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojdvt-axis",["exports","ojs/ojconverter-number"],function(e,t){"use strict";class i{constructor(e,t,i){this._context=e,this.Position=t.position,this._radius=t._radius,"top"===this.Position||"bottom"===this.Position?(this.StartCoord=i.x,this.EndCoord=i.x+i.w):"left"===this.Position||"right"===this.Position?(this.StartCoord=i.y,this.EndCoord=i.y+i.h):"radial"===this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"===this.Position&&(t.isRTL?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=2*Math.PI)),this.MinValue=null,this.MaxValue=null,this.GlobalMin=null,this.GlobalMax=null,this.DataMin=null,this.DataMax=null,this.StartOverflow=0,this.EndOverflow=0,null==t.leftBuffer&&(t.leftBuffer=1/0),null==t.rightBuffer&&(t.rightBuffer=1/0),this.Options=t}getCtx(){return this._context}getOptions(){return this.Options}getValAt(e){if(null==e)return null;var t=Math.min(this.StartCoord,this.EndCoord),i=Math.max(this.StartCoord,this.EndCoord);return e<t||e>i?null:this.getUnboundedValAt(e)}getCoordAt(e){return null==e||e<this.MinValue||e>this.MaxValue?null:this.getUnboundedCoordAt(e)}getBoundedValAt(e){if(null==e)return null;var t=e,i=Math.min(this.StartCoord,this.EndCoord),r=Math.max(this.StartCoord,this.EndCoord);return e<i?t=i:e>r&&(t=r),this.getUnboundedValAt(t)}getBoundedCoordAt(e){if(null==e)return null;var t=e;return e<this.MinValue?t=this.MinValue:e>=this.MaxValue&&(t=this.MaxValue),this.getUnboundedCoordAt(t)}getUnboundedValAt(e){return null}getUnboundedCoordAt(e){return null}}i.MIN_AXIS_BUFFER=10;e.BaseAxisInfo=i,e.DataAxisInfoMixin=e=>class extends e{constructor(e,t,r){super(e,t,r),this.MAX_NUMBER_OF_GRIDS_AUTO=10,this.MINOR_TICK_COUNT=2,this.MAJOR_TICK_INCREMENT_BUFFER=1e-10,this.MIN_BAR_SIZE_IN_LOG=10,"top"===this.Position||"bottom"===this.Position?("off"!==t.tickLabel.rendered&&"off"!==t.rendered&&(this.StartOverflow=Math.max(i.MIN_AXIS_BUFFER-t.leftBuffer,0),this.EndOverflow=Math.max(i.MIN_AXIS_BUFFER-t.rightBuffer,0)),t.isRTL?(this.MinCoord=this.EndCoord-this.EndOverflow,this.MaxCoord=this.StartCoord+this.StartOverflow):(this.MinCoord=this.StartCoord+this.StartOverflow,this.MaxCoord=this.EndCoord-this.EndOverflow)):"tangential"===this.Position||"radial"===this.Position?(this.MinCoord=this.StartCoord,this.MaxCoord=this.EndCoord):(this.MinCoord=this.EndCoord,this.MaxCoord=this.StartCoord),this.DataMin=t.dataMin,this.DataMax=t.dataMax,this.utilsLogOptions=t._utils&&"log"===t.scale,this.IsLog=this.utilsLogOptions||"log"===t.scale&&this.DataMin>0&&this.DataMax>0,this.LinearGlobalMin=this.actualToLinear(t.min),this.LinearGlobalMax=this.actualToLinear(t.max),this.LinearMinValue=null==t.viewportMin?this.LinearGlobalMin:this.actualToLinear(t.viewportMin),this.LinearMaxValue=null==t.viewportMax?this.LinearGlobalMax:this.actualToLinear(t.viewportMax),this._dataMin=this.actualToLinear(this.DataMin),this._dataMax=this.actualToLinear(this.DataMax),this.MajorIncrement=this.actualToLinear(t.step),this.MinorIncrement=this.actualToLinear(t.minorStep),this._minMajorIncrement=this.actualToLinear(t.minStep),this.MajorTickCount=t._majorTickCount,this.MinorTickCount=t._minorTickCount,this.LogScaleUnit=t._logScaleUnit,this.ZeroBaseline=!this.IsLog&&"zero"===t.baselineScaling,this._continuousExtent=this.Options?"on"===this.Options._continuousExtent:null,this.Converter=null,null!=t.tickLabel&&(this.Converter=t.tickLabel.converter),this._calcAxisExtents(),this.GlobalMin=this.linearToActual(this.LinearGlobalMin),this.GlobalMax=this.linearToActual(this.LinearGlobalMax),this.MinValue=this.linearToActual(this.LinearMinValue),this.MaxValue=this.linearToActual(this.LinearMaxValue)}getBaselineCoord(){return this.IsLog?this.MinCoord:this.getBoundedCoordAt(0)}getUnboundedValAt(e){if(null==e)return null;var t=(e-this.MinCoord)/(this.MaxCoord-this.MinCoord),i=this.LinearMinValue+t*(this.LinearMaxValue-this.LinearMinValue);return this.linearToActual(i)}getUnboundedCoordAt(e){return this.GetUnboundedCoordAt(this.actualToLinear(e))}GetUnboundedCoordAt(e){if(null==e)return null;var t=this.LinearMaxValue===this.LinearMinValue?0:(e-this.LinearMinValue)/(this.LinearMaxValue-this.LinearMinValue);return t=Math.max(Math.min(1e3,t),-1e3),this.MinCoord+t*(this.MaxCoord-this.MinCoord)}CalcMajorMinorIncr(e){this.MajorIncrement||(this.MajorTickCount?this.MajorIncrement=(this.LinearMaxValue-this.LinearMinValue)/this.MajorTickCount:this.MajorIncrement=Math.max(e,this._minMajorIncrement)),this.MajorTickCount||(this.MajorTickCount=(this.LinearMaxValue-this.LinearMinValue)/this.MajorIncrement,Math.ceil(this.MajorTickCount)-this.MajorTickCount<this.MAJOR_TICK_INCREMENT_BUFFER&&(this.MajorTickCount=Math.ceil(this.MajorTickCount))),this.MinorTickCount||(this.MinorIncrement?this.MinorTickCount=this.MajorIncrement/this.MinorIncrement:this.IsLog?this.MinorTickCount=this.MajorIncrement:this.MinorTickCount=this.MINOR_TICK_COUNT),this.MinorIncrement||(this.MinorIncrement=this.MajorIncrement/this.MinorTickCount)}_calcAxisExtents(){this.ZeroBaseline&&(this._dataMin=Math.min(0,this._dataMin),this._dataMax=Math.max(0,this._dataMax));var e=null!=this.LinearGlobalMax?this.LinearGlobalMax:this._dataMax,t=null!=this.LinearGlobalMin?this.LinearGlobalMin:this._dataMin,i=Math.max(this._calcAxisScale(t,e),this._minMajorIncrement);this._dataMin===this._dataMax&&(0===this._dataMin?this._dataMax+=5*i:(this._dataMin-=2*i,this._dataMax+=2*i)),null==this.LinearGlobalMin&&(this.ZeroBaseline&&this._dataMin>=0?this.LinearGlobalMin=0:this._continuousExtent?this.LinearGlobalMin=this._dataMin-.1*(this._dataMax-this._dataMin):this.ZeroBaseline||null==this.LinearGlobalMax?this.LinearGlobalMin=(Math.ceil(this._dataMin/i)-1)*i:(this.LinearGlobalMin=this.LinearGlobalMax,this.LinearGlobalMin-=i*(Math.floor((this.LinearGlobalMin-this._dataMin)/i)+1)),this._dataMin>=0&&!this.IsLog&&(this.LinearGlobalMin=Math.max(this.LinearGlobalMin,0))),null==this.LinearGlobalMax&&(this.MajorTickCount?(this.LinearGlobalMax=this.LinearGlobalMin+this.MajorTickCount*i,this.LinearGlobalMax<this._dataMax&&(i=Math.max(this._calcAxisScale(t,e+i),this._minMajorIncrement),this.LinearGlobalMax=this.LinearGlobalMin+this.MajorTickCount*i)):this.ZeroBaseline&&this._dataMax<=0?this.LinearGlobalMax=0:this._continuousExtent?this.LinearGlobalMax=this._dataMax+.1*(this._dataMax-this._dataMin):this.ZeroBaseline?this.LinearGlobalMax=(Math.floor(this._dataMax/i)+1)*i:(this.LinearGlobalMax=this.LinearGlobalMin,this.LinearGlobalMax+=i*(Math.floor((this._dataMax-this.LinearGlobalMax)/i)+1)),this._dataMax<=0&&(this.LinearGlobalMax=Math.min(this.LinearGlobalMax,0))),this.LinearGlobalMax===this.LinearGlobalMin&&(this.LinearGlobalMax=100,this.LinearGlobalMin=0,i=(this.LinearGlobalMax-this.LinearGlobalMin)/this.MAX_NUMBER_OF_GRIDS_AUTO),null==this.LinearMinValue&&(this.LinearMinValue=this.LinearGlobalMin),null==this.LinearMaxValue&&(this.LinearMaxValue=this.LinearGlobalMax);var r=Math.abs(this.GetUnboundedCoordAt(this.LinearGlobalMin)-this.GetUnboundedCoordAt(this._dataMin));(this.IsLog&&r<this.MIN_BAR_SIZE_IN_LOG||this.utilsLogOptions)&&(this.LinearGlobalMin-=i,this.LinearMinValue=this.LinearGlobalMin),this.LinearMinValue===this.LinearGlobalMin&&this.LinearMaxValue===this.LinearGlobalMax||(i=this._calcAxisScale(this.LinearMinValue,this.LinearMaxValue)),this.LinearGlobalMin>this.LinearMinValue&&(this.LinearGlobalMin=this.LinearMinValue),this.LinearGlobalMax<this.LinearMaxValue&&(this.LinearGlobalMax=this.LinearMaxValue),this.CalcMajorMinorIncr(i)}_calcAxisScale(e,t){if(this.MajorIncrement)return this.MajorIncrement;var i,r=t-e;if(this.IsLog){var s=Math.floor(r/8)+1;return(!this.LogScaleUnit||this.LogScaleUnit<s)&&(this.LogScaleUnit=s),this.LogScaleUnit}if(0===r)return 0===e?10:Math.pow(10,Math.floor(Math.log10(e))-1);if(this.MajorTickCount){var a=r/this.MajorTickCount,n=a/(i=Math.pow(10,Math.ceil(Math.log10(a)-1)));return(n=n>1&&n<=1.5?1.5:n>5?10:Math.ceil(n))*i}var o=Math.log10(r);i=Math.pow(10,Math.ceil(o)-2);var l=Math.round(r/i),h=1;return h=l>=10&&l<=14?2:l>=15&&l<=19?3:l>=20&&l<=24?4:l>=25&&l<=45?5:l>=46&&l<=80?10:20,Math.max(Number.MIN_VALUE,h*i)}linearToActual(e){return null==e?null:this.IsLog?Math.pow(10,e):e}actualToLinear(e){return null==e?null:this.IsLog?e>0?Math.log10(e):null:e}getAxisData(){return{isLog:this.IsLog,max:this.LinearGlobalMax,min:this.LinearGlobalMin,step:this.MajorIncrement,numSteps:this.MajorTickCount}}},e.LinearScaleAxisValueFormatter=class{constructor(e,t,i,r,s,a){this.SCALE_NONE="none",this.SCALE_AUTO="auto",this.SCALE_THOUSAND="thousand",this.SCALE_MILLION="million",this.SCALE_BILLION="billion",this.SCALE_TRILLION="trillion",this.SCALE_QUADRILLION="quadrillion",this.SCALING_FACTOR_DIFFERENCE=3,this._translations=a,this._scales={},this._scalesOrder=[],this._factorToScaleMapping={},this.InitScales(),this.InitFormatter(e,t,i,r,s)}InitScales(){const e=(e,t,i)=>{var r;i&&(r=this._translations?this._translations[i]:null);var s={scaleFactor:t,localizedSuffix:r};this._scales[e]=s,this._scalesOrder.push(s),this._factorToScaleMapping[t]=s};var t=this.SCALING_FACTOR_DIFFERENCE;e(this.SCALE_NONE,0*t),e(this.SCALE_THOUSAND,1*t,"labelScalingSuffixThousand"),e(this.SCALE_MILLION,2*t,"labelScalingSuffixMillion"),e(this.SCALE_BILLION,3*t,"labelScalingSuffixBillion"),e(this.SCALE_TRILLION,4*t,"labelScalingSuffixTrillion"),e(this.SCALE_QUADRILLION,5*t,"labelScalingSuffixQuadrillion"),this._scalesOrder.sort((e,t)=>e.scaleFactor<t.scaleFactor?-1:e.scaleFactor>t.scaleFactor?1:0)}InitFormatter(e,t,i,r,s){var a,n,o=!1,l=!1;if("off"!==s&&(l=!0),"number"!=typeof(n=this._getScaleFactor(r))&&(o=!0),o){var h=Math.max(Math.abs(e),Math.abs(t)),g=this._getPowerOfTen(h);n=this._findNearestLEScaleFactor(g)}if(!0===l)if(0===i&&e===t){var d=n-this._getPowerOfTen(t);a=d<=0?Math.max(d+3,0):Math.max(d,4)}else{var u=this._getPowerOfTen(i);a=Math.max(n-u,0)}this._useAutoPrecision=l,this._scaleFactor=n,this._decimalPlaces=a}_findNearestLEScaleFactor(e){var t=0;if(e<=this._scalesOrder[0].scaleFactor)t=this._scalesOrder[0].scaleFactor;else if(e>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)t=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var i=this._scalesOrder.length-1;i>=0;i--)if(this._scalesOrder[i].scaleFactor<=e){t=this._scalesOrder[i].scaleFactor;break}return t}_getScaleFactor(e){var t,i=e||this.SCALE_AUTO,r=this._scales[i];return r&&(t=r.scaleFactor),t}format(e,i){var r=null!=e?parseFloat(e):e;if("number"==typeof r){var s=Math.pow(10,this._scaleFactor),a={style:"decimal",decimalFormat:"unit"===(i&&i.getOptions&&i.getOptions()&&i.getOptions().style)?"standard":"short",nu:"latn",useGrouping:!1},n=new t.IntlNumberConverter(a).format(s,a),o=/(\d+)(.*$)/.exec(n),l=o[2],h=Number(o[1])/s*r;if(i&&i.format)h=i.format(h);else{var g={style:"decimal",minimumFractionDigits:this._decimalPlaces,maximumFractionDigits:this._decimalPlaces};h=new t.IntlNumberConverter(g).format(h,g)}return"string"==typeof l&&0!==e&&(h+=l),h}return e}_formatFraction(e){var t=e.toString();if(-1!==t.indexOf("e"))return t;if(this._decimalPlaces>0){-1===t.indexOf(".")&&(t+=".");for(var i=t.substring(t.indexOf(".")+1).length;i<this._decimalPlaces;)t+="0",i+=1}return t}_getPowerOfTen(e){var t=e>=0?e:-e,i=0;if(t<1e-15)return 0;if(t===1/0)return Number.MAX_VALUE;if(t>=10)for(;t>=10;)i+=1,t/=10;else if(t<1)for(;t<1;)i-=1,t*=10;return i}getDecimalPlaces(){return this._decimalPlaces}},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojlegend-toolkit",["exports","ojs/ojdvt-toolkit"],function(e,t){"use strict";const i=(e,t)=>{var i=null,r=null!=t.getOptions().data;return e.categories&&e.categories.length>0?i=e.categories[0]:r||(i=e.id?e.id:e.text),i},r=(e,t)=>{var i=t.getOptions().hiddenCategories;return!(!i||i.length<=0)&&-1!==i.indexOf(e)},s=(e,t)=>{var i=t.getOptions();return"off"==e.expanded||0==e.expanded||i.expanded&&0==i.expanded.has(e.id)},a=e=>!e||0===Object.keys(e).length;class n{constructor(e,r,s,a,n,o){if(this._legend=e,this._displayables=r,this._item=s,this._category=i(this._item,this._legend),this._id=this._category?this._category:s.title?s.title:s.id,this._drillable=o,this._tooltip=a,this._datatip=n,this._isShowingKeyboardFocusEffect=!1,this._hoverBorderRadius=parseInt(e.getOptions()._hoverBorderRadius),this._drillable)for(var l=0;l<this._displayables.length;l++)this._displayables[l].setCursor(t.SelectionEffectUtils.getSelectingCursor())}static associate(e,t,i,r,s,a){if(!e||!i)return null;var o=new n(t,e,i,r,s,a);t.__registerObject(o);for(var l=0;l<e.length;l++)t.getEventManager().associate(e[l],o);return o}getData(){return this._item}getColor(){return this._item.color}getId(){return this._id}getDisplayables(){return this._displayables}getCategories(){return null!=this._category?[this._category]:null}isDrillable(){return this._drillable}getAriaLabel(){var e=[],i=this._legend.getOptions().translations,a=this._legend.getOptions().hideAndShowBehavior,n=r(this._category,this._legend),o=this.getData();return this._displayables[0]instanceof t.IconButton?(e.push(i[s(o,this._legend)?"stateCollapsed":"stateExpanded"]),t.Displayable.generateAriaLabel(o.title,e)):("off"!=a&&"none"!=a&&e.push(i[n?"stateHidden":"stateVisible"]),this.isDrillable()&&e.push(i.stateDrillable),null!=o.shortDesc?t.Displayable.generateAriaLabel(o.shortDesc,e):e.length>0?t.Displayable.generateAriaLabel(o.text,e):null)}updateAriaLabel(){!t.Agent.deferAriaCreation()&&this._displayables[0]&&this._displayables[0].setAriaProperty("label",this.getAriaLabel())}getNextNavigable(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._legend.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!0,this._legend,!0)}getKeyboardBoundingBox(e){return this._displayables[0]?this._displayables[0].getDimensions(e):new t.Rectangle(0,0,0,0)}getTargetElem(){return this._displayables[0]?this._displayables[0].getElem():null}showKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!0,this._displayables[0]&&(this._displayables[0]instanceof t.IconButton?this._displayables[0].showKeyboardFocusEffect():this._displayables[0].addClassName("oj-legend-focus"))}hideKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!1,this._displayables[0]&&(this._displayables[0]instanceof t.IconButton?this._displayables[0].hideKeyboardFocusEffect():this._displayables[0].removeClassName("oj-legend-focus"))}isShowingKeyboardFocusEffect(){return this._isShowingKeyboardFocusEffect}getTooltip(){return this._tooltip}getDatatip(){return this._datatip}getDatatipColor(){return this._item.color}isDragAvailable(){return!0}getDragTransferable(){return[this.getId()]}getDragFeedback(){return this.getDisplayables()}showHoverEffect(){this._displayables[0]&&this._displayables[0]instanceof t.Rect&&(this._displayables[0].addClassName("oj-legend-hover"),this._displayables[0].setRx(this._hoverBorderRadius))}hideHoverEffect(){this._displayables[0]&&this._displayables[0]instanceof t.Rect&&(this._displayables[0].removeClassName("oj-legend-hover"),this._displayables[0].setRx(0))}}class o extends t.Automation{GetSubIdForDomElement(e){var t=this._comp.getEventManager().GetLogicalObject(e);if(t&&t instanceof n){var i=t.getData(),r=this._getIndicesFromItem(i,this._comp.getOptions());if(r)return"section"+r}return null}_getIndicesFromItem(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){if(t.sections[i]==e)return"["+i+"]";var r=this._getIndicesFromItem(e,t.sections[i]);if(r)return"["+i+"]"+r}return null}if(t.items&&t.items.length>0){for(var s=0;s<t.items.length;s++)if(t.items[s]==e)return":item["+s+"]";return null}return null}getIndicesFromSeries(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){var r=this.getIndicesFromSeries(e,t.sections[i]);if(r)return"["+i+"]"+r}return null}if(t.items&&t.items.length>0){for(var s=0;s<t.items.length;s++)if(t.items[s].text==e.name)return":item["+s+"]";return null}return null}getLegendItem(e,t){var i=t.indexOf("["),r=t.indexOf("]");if(i>=0&&r>=0){var s=t.substring(i+1,r),a=t.indexOf(":"),n=(t=t.substring(r+1)).indexOf("["),o=t.indexOf("]");return n>=0&&o>=0?this.getLegendItem(e.sections[s],t):0==a?e.items[s]:e.sections[s]}}getDomElementForSubId(e){if(e==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._comp);for(var i=this.getLegendItem(this._comp.getOptions(),e),r=this._comp.__getObjects(),s=0;s<r.length;s++){if(i==r[s].getData())return r[s].getDisplayables()[0].getElem()}return null}getTitle(){return this._comp.getOptions().title}getItem(e){var t,i=e.shift(),r=this._comp.getOptions();if(!r.sections||0===r.sections.length)return null;for(;null!=i;)e.length>0?r=r.sections[i]:t=r.items[i],i=e.shift();return t?{text:t.text?t.text:null}:null}getSection(e){var t,i=e.shift(),r=this._comp.getOptions();if(!r.sections||0===r.sections.length)return null;for(;null!=i;)e.length>0?r=r.sections[i]:t=r.sections[i],i=e.shift();return{title:t&&t.title?t.title:null,items:t&&t.items?this._generateItemObjects(t.items):null,sections:t&&t.sections?this._generateSectionObjects(t.sections):null}}_generateItemObjects(e){for(var t=[],i=0;i<e.length;i++)t.push({text:e[i].text});return t}_generateSectionObjects(e){for(var t=[],i=0;i<e.length;i++)t.push({title:e[i].title?e[i].title:null,items:e[i].items?this._generateItemObjects(e[i].items):null,sections:e[i].sections?this._generateSectionObjects(e[i].sections):null});return t}_getLogicalObject(e){for(var t=this._comp._peers,i=0;i<t.length;i++)if(e===t[i]._id)return t[i];return null}dispatchDrillEvent(e){var t=this._getLogicalObject(e);this._comp.getEventManager().processDrillEvent(t)}}class l extends t.BaseComponentDefaults{constructor(e){super({alta:{skin:t.CSSStyle.SKIN_ALTA,orientation:"vertical",position:null,backgroundColor:null,borderColor:null,textStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),_sectionTitleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),titleHalign:"",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",dnd:{drag:{series:{}},drop:{legend:{}}},_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24},isLayout:!1}},e)}static getGapSize(e,i){var r=Math.min(t.TextUtils.getTextStringHeight(e.getCtx(),e.getOptions().textStyle)/14,1);return Math.ceil(i*r)}getNoCloneObject(){return{sections:{items:{_getDataContext:!0}}}}}class h extends t.EventManager{constructor(e){super(e.getCtx(),e.processEvent,e,e),this._legend=e}OnClick(e){super.OnClick(e);var t=this.GetLogicalObject(e.target);if(t){var i=this.processHideShowEvent(t),r=this.handleClick(t,e);(i||r)&&e.stopPropagation()}}OnMouseOver(e){super.OnMouseOver(e);var t=this.GetLogicalObject(e.target);t&&this.UpdateActiveElement(t)}HandleTouchClickInternal(e){var t=this.GetLogicalObject(e.target);if(t){var i=e.touchEvent,r=this.processHideShowEvent(t),s=this.handleClick(t,e);(r||s)&&i&&i.preventDefault()}}processHideShowEvent(e){var i=this._legend.getOptions().hideAndShowBehavior;if("none"==i||"off"==i)return!1;var s=e.getCategories?e.getCategories():null;if(!s||s.length<=0)return!1;var a=e.getCategories()[0],n=this._legend.getOptions().hiddenCategories||[];n=n.slice();for(var o=e.getDisplayables(),l=0;l<o.length;l++){var h=o[l];h instanceof t.SimpleMarker?h.setHollow(e.getColor()):h instanceof t.Rect&&e.updateAriaLabel()}var g,d=s[0];return r(a,this._legend)?(n.splice(n.indexOf(a),1),g=t.EventFactory.newCategoryShowEvent(d,n)):(n.push(a),g=t.EventFactory.newCategoryHideEvent(d,n)),this._legend.getOptions().hiddenCategories=n,this.FireEvent(g,this._legend),!0}processDrillEvent(e){if(e&&e instanceof n&&e.isDrillable()){var i=e.getId();return this.FireEvent(t.EventFactory.newDrillEvent(i),this._legend),!0}return!1}handleClick(e,i){if(this.processDrillEvent(e))return!0;var r=e instanceof t.SimpleObjPeer?e.getParams():null;return!(!r||!r.isCollapsible)&&(this.toggleSectionCollapse(i,r.id),!0)}ProcessRolloverEvent(e,i,r){var s=this._legend.getOptions();if(("off"!==s.drilling||"none"!==s.hoverBehavior||"none"!==s.hideAndShowBehavior&&"off"!==s.hideAndShowBehavior)&&!(i.getDisplayables&&i.getDisplayables()[0]instanceof t.IconButton)){if("none"!==s.hoverBehavior){var a=i.getCategories?i.getCategories():[];s.highlightedCategories=r&&a?a.slice():null;var n=t.EventFactory.newCategoryHighlightEvent(s.highlightedCategories,r),o=t.CSSStyle.getTimeMilliseconds(s.hoverBehaviorDelay);this.RolloverHandler.processEvent(n,this._legend.__getObjects(),o,!0)}("none"!==s.drilling||"none"!==s.hideAndShowBehavior&&"off"!==s.hideAndShowBehavior)&&(r?i.showHoverEffect&&i.showHoverEffect():i.hideHoverEffect&&i.hideHoverEffect())}}onCollapseButtonClick(e,t){var i=t.getId();this.toggleSectionCollapse(e,i)}toggleSectionCollapse(e,i){for(var r=this._legend.getOptions(),s=r.expanded,a=this._legend.getOptions(),n=null,o=0;o<i.length;o++)a=a.sections[i[o]];if(s?s.has(a.id)?(r.expanded=s.delete([a.id]),n=!1):(r.expanded=s.add([a.id]),n=!0):a.expanded="off"==a.expanded?"on":"off",e.type==t.MouseEvent.CLICK){var l=this.GetLogicalObject(e.target);l.getNextNavigable&&this.setFocusObj(l.getNextNavigable(e))}var h=this._legend.getKeyboardFocus(),g=!!h&&h.isShowingKeyboardFocusEffect();this._legend.render(),h&&this._legend.setKeyboardFocus(h,g),this.hideTooltip(),null!=n&&(e=new t.EventFactory.newExpandCollapseEvent(n?"expand":"collapse",a.id,a,this._legend.getOptions()._widgetConstructor,r.expanded),this.FireEvent(e,this._legend))}GetTouchResponse(){return this._legend.getOptions()._isScrollingLegend?t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:t.EventManager.TOUCH_RESPONSE_TOUCH_START}isDndSupported(){return!0}GetDragSourceType(e){var t=this.DragSource.getDragObject();return t instanceof n&&null!=t.getData()._getDataContext?"series":null}GetDragDataContexts(e){var i=this.DragSource.getDragObject();if(i instanceof n){var r=i.getData()._getDataContext();return e&&(r=t.JsonUtils.clone(r,null,{component:!0,componentElement:!0}),t.ToolkitUtils.cleanDragDataContext(r)),[r]}return[]}GetDropTargetType(e){var t=this._legend.stageToLocal(this.getCtx().pageToStageCoords(e.pageX,e.pageY)),i=this._legend.getOptions().dnd.drop,r=this._legend.__getBounds();return Object.keys(i.legend).length>0&&r.containsPoint(t.x,t.y)?"legend":null}GetDropEventPayload(e){return{}}ShowDropEffect(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getOptions()._dropColor,i=this._legend.getCache().getFromCache("background");i&&(i.setSolidFill(t),i.setClassName("oj-active-drop"))}}ClearDropEffect(){var e=this._legend.getCache().getFromCache("background");if(e){var i=this._legend.getOptions().backgroundColor;i?e.setSolidFill(i):e.setInvisibleFill(),t.ToolkitUtils.removeClassName(e.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(e.getElem(),"oj-active-drop")}}ShowRejectedDropEffect(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getCache().getFromCache("background");t&&t.setClassName("oj-invalid-drop")}}}class g extends t.KeyboardHandler{constructor(e,t){super(e),this._legend=t}processKeyDown(e){var i=e.keyCode,r=this._eventManager.getFocus(),s=r&&r.getDisplayables()[0]instanceof t.IconButton,a=null;if(null==r&&i==t.KeyboardEvent.TAB){var n=this._legend.__getKeyboardObjects();n.length>0&&(t.EventManager.consumeEvent(e),a=this.getDefaultNavigable(n))}else r&&(i==t.KeyboardEvent.TAB?(t.EventManager.consumeEvent(e),a=r):i==t.KeyboardEvent.ENTER||i==t.KeyboardEvent.SPACE?(i==t.KeyboardEvent.ENTER&&this._eventManager.handleClick(r,e),s?this._eventManager.onCollapseButtonClick(e,r.getDisplayables()[0]):this._eventManager.processHideShowEvent(r),t.EventManager.consumeEvent(e)):!s||i!=t.KeyboardEvent.LEFT_ARROW&&i!=t.KeyboardEvent.RIGHT_ARROW?a=super.processKeyDown(e):(this._eventManager.onCollapseButtonClick(e,r.getDisplayables()[0]),t.EventManager.consumeEvent(e)));return a&&this._legend.container.scrollIntoView(a.getDisplayables()[0]),a}}const d={_DEFAULT_LINE_WIDTH_WITH_MARKER:2,_LINE_MARKER_SIZE_FACTOR:.6,_DEFAULT_SYMBOL_SIZE:10,_BUTTON_SIZE:12,_FOCUS_GAP:2,render:(e,i)=>{var r=e.getOptions(),s=e.getCtx(),a=t.Agent.isRightToLeft(s);e.__setBounds(i),r.isLayout||d._renderBackground(e,i);var n="redwood"===s.getThemeBehavior()?"always":"asNeeded",o=new t.SimpleScrollableContainer(s,i.w,i.h,n),h=new t.Container(s);o.getScrollingPane().addChild(h),e.addChild(o),e.container=o;var g=l.getGapSize(e,r.layout.outerGapWidth),u=l.getGapSize(e,r.layout.outerGapHeight);if(i.x+=g,i.y+=u,i.w-=2*g,i.h-=2*u,i.w<=0||i.h<=0)return new t.Dimension(0,0);var c=d._renderContents(e,h,new t.Rectangle(i.x,i.y,i.w,i.h));if(0==c.w||0==c.h)return new t.Dimension(0,0);o.prepareContentPane(),c.h>i.h?(c.h=i.h,r._isScrollingLegend=!0):r._isScrollingLegend=!1;var p=0,_=0,m=null!=r.hAlign?r.hAlign:r.halign;"center"==m?p=i.x-c.x+(i.w-c.w)/2:"end"==m&&(p=a?i.x-c.x:i.x-c.x+i.w-c.w);var v=null!=r.vAlign?r.vAlign:r.valign;"middle"==v?_=i.y-c.y+(i.h-c.h)/2:"bottom"==v&&(_=i.y-c.y+i.h-c.h);var f=new t.Rectangle(c.x+p-g,c.y+_-u,c.w+2*g,c.h+2*u);if(r.isLayout)return f;(p||_)&&h.setTranslate(p,_);for(var y=e.__getTitles(),C=0;C<y.length;C++)t.LayoutUtils.align(c,y[C].halign,y[C].text,y[C].text.getDimensions().w);return f},_renderContents:(e,t,i)=>{var r=e.getOptions();i=i.clone();var s=d._renderTitle(e,t,r.title,i,null,!0);if(s){var a=s.getDimensions(),n=l.getGapSize(e,r.layout.titleGapHeight);i.y+=a.h+n,i.h-=Math.floor(a.h+n)}var o=d._renderSections(e,t,r.sections,i,[]);return s?a.getUnion(o):o},_renderBackground:(e,i)=>{var r=e.getOptions(),s=r.backgroundColor,a=r.borderColor,n=r.dnd?r.dnd.drop.legend:{},o=r.dnd?r.dnd.drag.series:{};if(s||a||Object.keys(n).length>0||Object.keys(o).length>0){var l=new t.Rect(e.getCtx(),i.x,i.y,i.w,i.h);s?l.setSolidFill(s):l.setInvisibleFill(),a&&(l.setSolidStroke(a),l.setPixelHinting(!0)),e.addChild(l),e.getCache().putToCache("background",l)}},_renderTitle:(e,i,r,s,n,o,l,h)=>{var g=e.getOptions(),d=i.getCtx(),u=t.Agent.isRightToLeft(d);if(!r)return null;var c=new t.OutputText(d,r,s.x,s.y),p=g.titleStyle;const _=a(g.sectionTitleStyle);if(_||(p=new t.CSSStyle(g.sectionTitleStyle)),n){var m=g._sectionTitleStyle.clone();_||(m=m.merge(p)),p=n.titleStyle?m.merge(new t.CSSStyle(n.titleStyle)):m}if(c.setCSSStyle(p),t.TextUtils.fitText(c,s.w,1/0,i)){if(u&&c.setX(s.x+s.w-c.getDimensions().w),g.isLayout)i.removeChild(c);else{var v={id:l,button:h};if(v.isCollapsible=n&&("on"===n.collapsible||"boolean"==typeof n.collapsible&&n.collapsible),e.getEventManager().associate(c,new t.SimpleObjPeer(c.getUntruncatedTextString(),null,null,v)),o){var f=n&&n.titleHalign?n.titleHalign:g.titleHalign||g.sectionTitleHalign;e.__registerTitle({text:c,halign:f})}}return c}return null},_renderSections:(e,i,r,a,n)=>{if(!r||0==r.length)return new t.Rectangle(0,0,0,0);var o=e.getOptions();o.symbolWidth||o.symbolHeight?(o.symbolWidth?o.symbolHeight||(o.symbolHeight=o.symbolWidth):o.symbolWidth=o.symbolHeight,o.symbolWidth=parseInt(o.symbolWidth),o.symbolHeight=parseInt(o.symbolHeight)):(o.symbolWidth=d._DEFAULT_SYMBOL_SIZE,o.symbolHeight=d._DEFAULT_SYMBOL_SIZE);for(var h,g=l.getGapSize(e,o.layout.sectionGapHeight),u=l.getGapSize(e,o.layout.titleGapHeight),c=l.getGapSize(e,o.layout.sectionGapWidth),p=d._getRowHeight(e),_="vertical"!=o.orientation,m=null,v=a.clone(),f=0;f<r.length;f++){var y=n.concat([f]),C=s(r[f],e)?u:g;_?(h=d._renderHorizontalSection(e,i,r[f],v,p)).w>v.w?(v.w<a.w&&(a.y+=h.h+C,a.h-=h.h+C),h=h.w<=a.w?d._renderHorizontalSection(e,i,r[f],a,p):d._renderVerticalSection(e,i,r[f],a,p,y,!0),a.y+=h.h+C,a.h-=h.h+C,v=a.clone()):(v.w-=h.w+c,t.Agent.isRightToLeft(e.getCtx())||(v.x+=h.w+c)):(h=d._renderVerticalSection(e,i,r[f],a,p,y,!1),a.y+=h.h+C,a.h-=h.h+C),m=m?m.getUnion(h):h}return m},_createButton:(e,i,r,s,a,o,l,h,g,u,c)=>{var p=t.ToolkitUtils.getIconStyle(e,s[a]),_=new t.IconButton(e,"borderless",{style:p,size:d._BUTTON_SIZE},null,g,u,c);_.setTranslate(o,l);var m=n.associate([_],i,r,h,null,!1);return _.setAriaRole("button"),m.updateAriaLabel(),_},_renderVerticalSection:(e,i,r,a,n,o,h)=>{if(r){var g,u=e.getOptions(),c=l.getGapSize(e,u.layout.symbolGapWidth),p=l.getGapSize(e,u.layout.rowGap),_=l.getGapSize(e,u.layout.columnGap),m=e.getCtx(),v=t.Agent.isRightToLeft(m),f=null!=r.sections&&r.sections.length>0,y=null!=r.items&&r.items.length>0,C=a.clone();"off"!=u.scrolling&&(C.h=1/0);var x,S="on"===r.collapsible||"boolean"==typeof r.collapsible&&r.collapsible;if(S){var b=v?C.x+C.w-d._BUTTON_SIZE:C.x;if(!u.isLayout){var A=s(r,e),M=A?"closed":"open",T=u.translations[A?"tooltipExpand":"tooltipCollapse"],w=e.getEventManager();x=d._createButton(m,e,r,u._resources,M,b,C.y,T,o,w.onCollapseButtonClick,w),i.addChild(x)}g=new t.Rectangle(b,C.y,d._BUTTON_SIZE,d._BUTTON_SIZE);var D=l.getGapSize(e,u.layout.symbolGapWidth);v||(C.x+=d._BUTTON_SIZE+D),C.w-=d._BUTTON_SIZE+D}var O=d._renderTitle(e,i,r.title,C,r,!S&&o.length<=1,o,x),P=v?C.x+C.w:C.x,E=O?O.getDimensions():new t.Rectangle(P,C.y,0,0),I=g?E.getUnion(g):E;if(!y&&!f||s(r,e))return I;if(I.h>0){var L=l.getGapSize(e,u.layout.titleGapHeight);C.y+=I.h+L,C.h-=I.h+L}if(f){var R=d._renderSections(e,i,r.sections,C,o);I=I.getUnion(R)}if(!y)return I;var k=d._calcColumns(e,C,n,r.items,h),B=k.numCols,F=k.numRows,H=k.width,N=C.y;if(0==F||0==B)return I;var G=F*(n+p)-p,j=Math.min(B*(H+_)-_,C.w),V=new t.Rectangle(v?C.x+C.w-j:C.x,C.y,j,G);if(I=I.getUnion(V),u.isLayout)return I;for(var U=H-u.symbolWidth-c,W=0,Y=1,z=r.items.length,X=0;X<z;X++){var K=r.items[X];if(d._createLegendItem(e,i,K,C,U,n,X),C.y+=n+p,++W===F&&Y!==B&&(C.y=N,C.w-=H+_,v||(C.x+=H+_),W=0,Y++),W===F)break}return I}},_renderHorizontalSection:(e,i,r,s,a)=>{if(r){var n=e.getOptions(),o=n.symbolWidth,h=l.getGapSize(e,n.layout.symbolGapWidth),g=l.getGapSize(e,n.layout.columnGap),u=l.getGapSize(e,n.layout.titleGapWidth),c=null!=r.items&&r.items.length>0,p=t.Agent.isRightToLeft(e.getCtx()),_=s.clone(),m=d._renderTitle(e,i,r.title,s,r,!1),v=p?s.x+s.w:s.x,f=m?m.getDimensions():new t.Rectangle(v,s.y,0,0);if(!c)return f;f.w>0&&(_.w-=f.w+u,p||(_.x+=f.w+u));var y,C,x,S=[],b=s.w-_.w,A=r.items.length;for(x=0;x<A;x++)y=r.items[x],b+=(C=Math.ceil(t.TextUtils.getTextStringWidth(e.getCtx(),y.text,n.textStyle)))+o+h+g,S.push(C);A>0&&(b-=g);var M,T=new t.Rectangle(p?s.x+s.w-b:s.x,s.y,b,Math.max(a,f.h));if(n.isLayout||b>s.w)return i.removeChild(m),T;if(m){e.getCache().putToCache("horizRowAlign",!0),e.getCache().putToCache("sectionRect",T);var w=m.getDimensions(),D=T.y+T.h/2-w.h/2-w.y;m.setTranslate(0,D)}for(x=0;x<A;x++)y=r.items[x],d._createLegendItem(e,i,y,_,S[x],a,x),M=S[x]+o+h,_.w-=M+g,p||(_.x+=M+g);return e.getCache().putToCache("horizRowAlign",!1),e.getCache().putToCache("sectionRect",null),T}},_calcColumns:(e,i,r,s,a)=>{for(var n=e.getOptions(),o=[],h=0;h<s.length;h++)o.push(s[h].text);var g,d,u,c=t.TextUtils.getMaxTextStringWidth(e.getCtx(),o,n.textStyle),p=n.symbolWidth,_=l.getGapSize(e,n.layout.symbolGapWidth),m=l.getGapSize(e,n.layout.rowGap),v=l.getGapSize(e,n.layout.columnGap),f=Math.ceil(p+_+c);a?(u=Math.min(Math.max(Math.floor((i.w+v)/(f+v)),1),s.length),g=Math.min(Math.floor((i.h+m)/(r+m)),Math.ceil(s.length/u)),u=Math.ceil(s.length/g),g=Math.ceil(s.length/u)):i.h==1/0?(u=1,g=s.length):(g=Math.min(Math.floor((i.h+m)/(r+m)),s.length),u=Math.ceil(s.length/g),g=Math.ceil(s.length/u));var y=(i.w-v*(u-1))/u;return(d=Math.min(f,y))<p?{width:0,numCols:0,numRows:0}:{width:d,numCols:u,numRows:g}},_getRowHeight:e=>{var i=e.getOptions(),r=t.TextUtils.getTextStringHeight(e.getCtx(),i.textStyle),s=i.symbolHeight+l.getGapSize(e,i.layout.symbolGapHeight);return Math.ceil(Math.max(r,s))},_createLegendItem:(e,s,a,o,h,g,u)=>{var c,p=e.getOptions(),_=e.getCtx(),m=t.Agent.isRightToLeft(_),v=p.symbolWidth,f=l.getGapSize(e,p.layout.symbolGapWidth),y=m?o.x+o.w-v:o.x,C=m?o.x+o.w-v-f:o.x+v+f,x=d._createLegendSymbol(e,y,o.y,g,a,u),S=a.text;if(null!=S){var b=p.textStyle;(c=d._createLegendText(s,h,S,b))&&(c.setX(C),t.TextUtils.centerTextVertically(c,o.y+g/2),m&&c.alignRight());var A=e.getCache().getFromCache("sectionRect");if(e.getCache().getFromCache("horizRowAlign")&&A&&"vertical"!=p.orientation){var M=c.getDimensions().h,T=A.y+A.h/2-Math.max(p.symbolHeight,M)/2-o.y;x.setTranslate(0,T),c.setTranslate(0,T)}}s.addChild(x);var w=new t.Rect(_,m?C-h-d._FOCUS_GAP:y-d._FOCUS_GAP,o.y-d._FOCUS_GAP,v+f+h+2*d._FOCUS_GAP,g+2*d._FOCUS_GAP);w.setInvisibleFill();var D=p.hideAndShowBehavior;"none"!=D&&"off"!=D&&w.setCursor("pointer"),s.addChild(w);var O=[w,x];null!=c&&O.push(c);var P=n.associate(O,e,a,null!=c?c.getUntruncatedTextString():null,a.shortDesc,d._isItemDrillable(e,a));r(i(a,e),e)&&(x.setHollow(P.getColor()),x.setStyle().setClassName()),("none"!=D&&"off"!=D||null!=a.shortDesc||"on"==a.drilling)&&(w.setAriaRole("img"),P.updateAriaLabel())},_isItemDrillable:(e,t)=>"on"==t.drilling||"off"!=t.drilling&&"on"==e.getOptions().drilling,_createLegendText:(e,i,r,s)=>{var a=new t.OutputText(e.getCtx(),r);return a.setCSSStyle(s),a=t.TextUtils.fitText(a,i,1/0,e)?a:null},_createLegendSymbol:(e,s,a,n,o,l)=>{var h=e.getOptions(),g=e.getCtx(),u=null!=o.type?o.type:o.symbolType;o.markerShape||(o.markerShape=h._markerShape),o.color||(o.color=h._color),o.lineWidth||(o.lineWidth="lineWithMarker"==u?d._DEFAULT_LINE_WIDTH_WITH_MARKER:h._lineWidth);var c,p=h.symbolWidth,_=h.symbolHeight,m=a+n/2,v=s+p/2;if("line"==u)c=d._createLine(g,s,a,p,n,o);else if("lineWithMarker"==u)c=d._createLine(g,s,a,p,n,o),r(i(o,e),e)||c.addChild(d._createMarker(e,v,m,p*d._LINE_MARKER_SIZE_FACTOR,_*d._LINE_MARKER_SIZE_FACTOR,o));else if("image"==u)c=d._createImage(e,s,a,p,_,n,o);else if("_verticalBoxPlot"==u)_=Math.max(4*Math.round(_/4),4),(c=new t.Container(g)).addChild(d._createMarker(e,v,m+_/4,p,_/2,d._getBoxPlotOptions(o,"q2"))),c.addChild(d._createMarker(e,v,m-_/4,p,_/2,d._getBoxPlotOptions(o,"q3")));else if("_horizontalBoxPlot"==u){var f=t.Agent.isRightToLeft(g),y=(p=Math.max(4*Math.round(p/4),4))/4*(f?1:-1);(c=new t.Container(g)).addChild(d._createMarker(e,v+y,m,p/2,_,d._getBoxPlotOptions(o,"q2"))),c.addChild(d._createMarker(e,v-y,m,p/2,_,d._getBoxPlotOptions(o,"q3")))}else c=d._createMarker(e,v,m,p,_,o);return c},_createImage:(e,i,r,s,a,n,o)=>{var l=e.getCtx(),h=r+n/2,g=i+s/2;return new t.ImageMarker(l,g,h,s,a,null,o.source)},_createMarker:(e,i,r,s,a,n)=>{var o,l=e.getCtx(),h=n.markerShape,g=n.symbolType&&"lineWithMarker"==n.symbolType&&n.markerColor?n.markerColor:n.color,d=n.markerStyle||n.markerSvgStyle?n.markerStyle||n.markerSvgStyle:n.style||n.svgStyle,u=n.markerClassName||n.markerSvgClassName?n.markerClassName||n.markerSvgClassName:n.className||n.svgClassName,c=n.pattern;if(c&&"none"!=c?((o=new t.SimpleMarker(l,h,0,0,s,a,null,null,!0)).setFill(new t.PatternFill(c,g,"#FFFFFF")),o.setTranslate(i,r)):(o=new t.SimpleMarker(l,h,i,r,s,a,null,null,!0)).setSolidFill(g),n.borderColor){var p=n._borderWidth?n._borderWidth:1;o.setSolidStroke(n.borderColor,null,p)}return"square"!=h&&"rectangle"!=h||o.setPixelHinting(!0),o.setClassName(u).setStyle(d),o},_createLine:(e,i,r,s,a,n)=>{var o=r+a/2;s=s%2==1?s+1:s;var l,h=new t.Line(e,i,Math.round(o),i+s,Math.round(o)),g=n.lineStyle;"dashed"==g?l={dashArray:"4,2,4"}:"dotted"==g&&(l={dashArray:"2"});var d=new t.Stroke(n.color,1,n.lineWidth,!1,l);return h.setClassName(n.className||n.svgClassName).setStyle(n.style||n.svgStyle),h.setStroke(d),h.setPixelHinting(!0),h},_getBoxPlotOptions:(e,t)=>({markerShape:"rectangle",color:e._boxPlot[t+"Color"],pattern:e._boxPlot["_"+t+"Pattern"],className:e._boxPlot[t+"ClassName"]||e._boxPlot[t+"svgClassName"],style:e._boxPlot[t+"Style"]||e._boxPlot[t+"svgStyle"]})};class u extends t.BaseComponent{constructor(e,t,i){super(e,t,i),this.setId("legend1000"+Math.floor(1e9*Math.random())),this.Defaults=new l(e),this.EventManager=new h(this),this.EventManager.addListeners(this),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[]}static getDefaults(e){return(new l).getDefaults(e)}SetOptions(e){super.SetOptions(e),e?(this.Options=this.Defaults.calcOptions(e),this._processData(this.Options.sections)):this.Options||(this.Options=this.GetDefaults())}getPreferredSize(e,i,r){this.SetOptions(e),this.getOptions().isLayout=!0;var s=new t.Rectangle(0,0,i,r),a=d.render(this,s);return this.getOptions().isLayout=!1,new t.Dimension(a.w,a.h)}render(e,i,r){this.getCache().clearCache(),this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r),this.getOptions().isLayout=!1;for(var s=this.getNumChildren(),a=0;a<s;a++){this.getChildAt(a).destroy()}this.removeChildren(),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[],this.EventManager.setKeyboardHandler(new g(this.EventManager,this)),this.UpdateAriaAttributes();var n=new t.Rectangle(0,0,this.Width,this.Height);this._contentDimensions=d.render(this,n);var o=this.getOptions().highlightedCategories;return o&&o.length>0&&this.highlight(o),this.RenderComplete(),this._contentDimensions}highlight(e){this.getOptions().highlightedCategories=e&&e.length>0?e.slice():null,t.CategoryRolloverHandler.highlight(e,this.__getObjects(),!0)}processEvent(e,i){if("categoryHighlight"==e.type&&"dim"==this.getOptions().hoverBehavior){var r=this.__getObjects();this!=i&&this.highlight(e.categories);for(var s=0;s<r.length;s++)if(t.Obj.compareValues(this.getCtx(),r[s].getId(),e.categories)){this.container.scrollIntoView(r[s].getDisplayables()[0]);break}}this==i&&this.dispatchEvent(e)}__registerObject(e){if(e.getDisplayables()[0]instanceof t.IconButton)this._navigablePeers.push(e);else{var i=this.getOptions().hideAndShowBehavior;(null!=e.getDatatip()||e.isDrillable()||"none"!=i&&"off"!=i)&&this._navigablePeers.push(e),this._peers.push(e)}}__getObjects(){return this._peers}__getKeyboardObjects(){return this._navigablePeers}__setBounds(e){this._bounds=e.clone()}__getBounds(){return this._bounds}__registerTitle(e){this._titles.push(e)}__getTitles(){return this._titles}getAutomation(){return new o(this)}getKeyboardFocus(){return null!=this.EventManager?this.EventManager.getFocus():null}setKeyboardFocus(e,i){if(null!=this.EventManager){for(var r=this.__getKeyboardObjects(),s=0;s<r.length;s++)if(t.Obj.compareValues(this.getCtx(),r[s].getId(),e.getId())){this.EventManager.setFocusObj(r[s]),i&&r[s].showKeyboardFocusEffect();break}var a=this.getKeyboardFocus();if(a){var n=a.getDisplayables()[0];n.setAriaProperty("label",a.getAriaLabel()),this.getCtx().setActiveElement(n)}}}getDimensions(e){var i=new t.Rectangle(0,0,this.Width,this.Height);return e&&e!==this?this.ConvertCoordSpaceRect(i,e):i}_processData(e){let t=!1,r=!1;if(e&&!(e.length<=0)){for(var s=this.getOptions().hiddenCategories,a=0;a<e.length;a++){var n=e[a];t=t||"on"===n.collapsible,n.sections&&this._processData(n.sections);var o=n.items;if(o&&!(o.length<=0))for(var l=0;l<o.length;l++){var h=o[l];r=r||"on"===h.drilling;var g=i(h,this);"hidden"==h.categoryVisibility&&s.indexOf(g)<0&&s.push(g),h.categoryVisibility=null}}this.getCache().putToCache("hasCollapsible",t),this.getCache().putToCache("hasDrillableItem",r)}}UpdateAriaAttributes(){if(this.IsParentRoot()){var e=this.getOptions(),i=e.translations,r=e.hideAndShowBehavior;const s="on"===e.drilling||this.getCache().getFromCache("hasDrillableItem"),a=this.getCache().getFromCache("hasCollapsible");("off"!=r&&"none"!=r||"dim"==e.hoverBehavior||a||s)&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,t.AriaUtils.processAriaLabel(this.GetComponentDescription())])))}}isNavigable(){return this._navigablePeers.length>0}static getSectionItemsCount(e){var t=0;if(e.items&&(t+=e.items.length),e.sections)for(var i=e.sections,r=0;r<i.length;r++)t+=u.getSectionItemsCount(i[r]);return t}}e.Legend=u,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojdvt-overview",["exports","ojs/ojdvt-toolkit"],function(e,t){"use strict";class i extends t.BaseComponentDefaults{constructor(){super({alta:{overviewPosition:"below",style:{currentTimeIndicatorColor:"#c000d1",handleFillColor:"#ffffff",handleTextureColor:"#b3c6db",leftFilterPanelAlpha:.7,leftFilterPanelColor:"#ffffff",overviewBackgroundColor:"#e6ecf3",rightFilterPanelAlpha:.7,rightFilterPanelColor:"#ffffff",timeAxisBarColor:"#e5e5e5",timeAxisBarAlpha:1,timeIndicatorColor:"#bcc7d2",windowBackgroundAlpha:1,windowBackgroundColor:"#ffffff",windowBorderBottomColor:"#4f4f4f",windowBorderBottomStyle:"solid",windowBorderLeftColor:"#4f4f4f",windowBorderLeftStyle:"solid",windowBorderRightColor:"#4f4f4f",windowBorderRightStyle:"solid",windowBorderTopColor:"#4f4f4f",windowBorderTopStyle:"solid"}}})}}class r extends t.EventManager{constructor(e){super(e.getCtx(),e.processEvent,e),this._overview=e}addListeners(e){t.SvgDocumentUtils.addDragListeners(this._overview,this._onDragStart,this._onDragMove,this._onDragEnd,this)}_onDragStart(e){return t.EventManager.isTouchEvent(e)?this._onTouchDragStart(e):this._onMouseDragStart(e)}_onDragMove(e){return t.EventManager.isTouchEvent(e)?this._onTouchDragMove(e):this._onMouseDragMove(e)}_onDragEnd(e){return t.EventManager.isTouchEvent(e)?this._onTouchDragEnd(e):this._onMouseDragEnd(e)}_getRelativePosition(e,i){return this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition()),new t.Point(e-this._stageAbsolutePosition.x,i-this._stageAbsolutePosition.y)}_onMouseDragStart(e){if(e.button!==t.MouseEvent.RIGHT_CLICK_BUTTON){var i=this._getRelativePosition(e.pageX,e.pageY);return this._overview.beginDragPan(e,i.x,i.y)}return!1}_onMouseDragMove(e){var t=this._getRelativePosition(e.pageX,e.pageY);return this._overview.contDragPan(e,t.x,t.y),!0}_onMouseDragEnd(e){this._overview.endDragPan(),this._stageAbsolutePosition=null}_onTouchDragStart(e){var t=e.touches;if(e.stopPropagation(),1===t.length){var i=this._getRelativePosition(t[0].pageX,t[0].pageY);return e.preventDefault(),this._overview.beginDragPan(e,i.x,i.y)}return!1}_onTouchDragMove(e){var t=e.touches;if(1===t.length){var i=this._getRelativePosition(t[0].pageX,t[0].pageY);this._overview.contDragPan(e,i.x,i.y),e.preventDefault()}e.stopPropagation()}_onTouchDragEnd(e){this._overview.endDragPan(),t.EventManager.consumeEvent(e),this._stageAbsolutePosition=null}}class s{constructor(e){this._view=e}parse(e){return this.ParseRootAttributes(e)}ParseRootAttributes(e){var i={};return i.animationOnClick=e.animationOnClick,null!=e.xMin&&(i.xMin=e.xMin),null!=e.xMax&&(i.xMax=e.xMax),null!=e.x1&&(i.x1=e.x1),null!=e.x2&&(i.x2=e.x2),null!=e.yMin&&(i.yMin=e.yMin),null!=e.yMax&&(i.yMax=e.yMax),null!=e.y1&&(i.y1=e.y1),null!=e.y2&&(i.y2=e.y2),null!=e.referenceObjects&&(i.referenceObjects=e.referenceObjects),i.orientation="horizontal",null!=e.orientation&&(i.orientation=e.orientation),i.featuresOff=e.featuresOff,i.minimumWindowSize=e.minimumWindowSize,i.leftMargin=e.leftMargin,i.rightMargin=e.rightMargin,i.overviewPosition="below",i.selectionMode="none",i.isRtl=t.Agent.isRightToLeft(this._view.getCtx()).toString(),null!=e.rtl&&(i.isRtl=e.rtl.toString()),i}calculateWidth(e,t,i,r,s){var a=s*(t-e),n=r-i;return 0===a||0===n?0:a/n}}const a=5,n=1,o=e=>null!=e._hfc?e._hfc:e.style.handleFillColor,l=e=>null!=e._htc?e._htc:e.style.handleTextureColor,h=(e,t)=>t?null!=e._vhbc?e._vhbc:e.style.vertHandleBackgroundClass:null!=e._hbc?e._hbc:e.style.handleBackgroundClass,g=(e,t)=>t?null!=e._vhs?e._vhs:e.style.vertHandleSize:null!=e._hs?e._hs:e.style.handleSize,d=e=>null!=e._btc?e._btc:e.style.borderTopColor,u=e=>null!=e._bts?e._bts:e.style.borderTopStyle,c=e=>null!=e._wbc?e._wbc:e.style.windowBackgroundColor,p=e=>e.style.windowBackgroundAlpha,_=e=>null!=e._wbts?e._wbts:e.style.windowBorderTopStyle,m=e=>null!=e._wbrs?e._wbrs:e.style.windowBorderRightStyle,v=e=>null!=e._wbbs?e._wbbs:e.style.windowBorderBottomStyle,f=e=>null!=e._wbls?e._wbls:e.style.windowBorderLeftStyle,y=e=>null!=e._wbtc?e._wbtc:e.style.windowBorderTopColor,C=e=>null!=e._wbrc?e._wbrc:e.style.windowBorderRightColor,x=e=>null!=e._wbbc?e._wbbc:e.style.windowBorderBottomColor,S=e=>null!=e._wblc?e._wblc:e.style.windowBorderLeftColor,b=e=>null!=e._obc?e._obc:e.style.overviewBackgroundColor,A=e=>null!=e._ctic?e._ctic:e.style.currentTimeIndicatorColor,M=e=>null!=e._tabc?e._tabc:e.style.timeAxisBarColor,T=e=>null!=e._tabo?e._tabo:e.style.timeAxisBarAlpha,w=e=>null!=e._tic?e._tic:e.style.timeIndicatorColor,D=e=>e.style.leftFilterPanelColor,O=e=>e.style.leftFilterPanelAlpha,P=e=>e.style.rightFilterPanelColor,E=e=>e.style.rightFilterPanelAlpha,I={supportsTouch:()=>t.Agent.isTouchDevice(),getDatePosition:(e,t,i,r)=>{var s=(i-e)*r,a=t-e;return 0==s||0==a?0:s/a},getPositionDate:(e,t,i,r)=>{var s=i*(t-e);return 0===s||0===r?e:s/r+e}},L={renderOverview:e=>{e.isBackgroundRendered()&&L._renderBackground(e);var t=null!=e._callback||null!=e._callbackObj;t&&L._renderSlidingWindow(e),L._renderTimeAxis(e),L._parseFilledTimeRanges(e),L._updateReferenceLines(e),e.renderData(e.Width,e.Height),t&&(L._createBorderAroundSlidingWindow(e),L._updateSlidingWindow(e))},_renderBackground:e=>{var i=new t.Rect(e.getCtx(),0,0,e.Width,e.Height,"bg");i.setSolidFill(e._overviewBackgroundColor),i.setPixelHinting(!0),e.addChild(i)},_renderSlidingWindow:e=>{var i=e.Width,r=e.Height,s=new t.Rect(e.getCtx(),0,0,i,r,"window");if(s.setSolidFill(e._windowBackgroundColor,e._windowBackgroundAlpha),s.setPixelHinting(!0),!e.isFeatureOff("zoom")){var a,n=e.getHandleSize(),o=e.getHandleStart(),l=e.getGrippySize();if(e.isVerticalScrollingEnabled()){var h=e.getSlidingWindowWidth(),g=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(3,6,8,8)+t.PathUtils.lineTo(28,8)+t.PathUtils.quadTo(33,6,36,0);t.PathUtils.closePath();var d=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(3,-6,8,-8)+t.PathUtils.lineTo(28,-8)+t.PathUtils.quadTo(33,-6,36,0);t.PathUtils.closePath();var u=new t.Rect(e.getCtx(),0,0,h,n,"thb"),c=new t.Rect(e.getCtx(),0,0,h,n,"bhb");if(a="row-resize",e._vertHandleBackgroundClass)var p=L._createGrippyImage(e,h,l,!0),_=L._createGrippyImage(e,h,l,!0);else p=L._createGrippy(e,!0),_=L._createGrippy(e,!0);u.setSolidFill(e._windowBackgroundColor,0),c.setSolidFill(e._windowBackgroundColor,0),u.setPixelHinting(!0),c.setPixelHinting(!0);var m=new t.Path(e.getCtx(),g,"th"),v=new t.Path(e.getCtx(),d,"bh");m.setSolidFill(e._handleFillColor),m.setSolidStroke(e._handleFillColor),v.setSolidFill(e._handleFillColor),v.setSolidStroke(e._handleFillColor),e._windowBackgroundColor===e._handleFillColor&&(m.setPixelHinting(!0),v.setPixelHinting(!0)),u.setCursor(a),c.setCursor(a),m.setCursor(a),v.setCursor(a),p.setCursor(a),_.setCursor(a),s.addChild(u),e._windowTopHandleBackground=u,s.addChild(m),e._windowTopHandle=m,s.addChild(p),e._windowTopGrippy=p,s.addChild(c),e._windowBottomHandleBackground=c,s.addChild(v),e._windowBottomHandle=v,s.addChild(_),e._windowBottomGrippy=_}if(e.isHorizontalScrollingEnabled()){var f=e.getSlidingWindowHeight(),y=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(6,3,8,8)+t.PathUtils.lineTo(8,28)+t.PathUtils.quadTo(6,33,0,36);t.PathUtils.closePath();var C=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(-6,3,-8,8)+t.PathUtils.lineTo(-8,28)+t.PathUtils.quadTo(-6,33,0,36);t.PathUtils.closePath();var x=new t.Rect(e.getCtx(),0-o,0,n,f,"lhb"),S=new t.Rect(e.getCtx(),o,0,n,f,"rhb");if(a="col-resize",e._horHandleBackgroundClass)var b=L._createGrippyImage(e,l,f,!1),A=L._createGrippyImage(e,l,f,!1);else b=L._createGrippy(e,!1),A=L._createGrippy(e,!1);x.setSolidFill(e._windowBackgroundColor,0),S.setSolidFill(e._windowBackgroundColor,0),x.setPixelHinting(!0),S.setPixelHinting(!0);var M=new t.Path(e.getCtx(),y,"lh"),T=new t.Path(e.getCtx(),C,"rh");M.setSolidFill(e._handleFillColor),M.setSolidStroke(e._handleFillColor),T.setSolidFill(e._handleFillColor),T.setSolidStroke(e._handleFillColor),e._windowBackgroundColor===e._handleFillColor&&(M.setPixelHinting(!0),T.setPixelHinting(!0)),x.setCursor(a),S.setCursor(a),M.setCursor(a),T.setCursor(a),b.setCursor(a),A.setCursor(a),s.addChild(x),e._windowLeftHandleBackground=x,s.addChild(M),e._windowLeftHandle=M,s.addChild(b),e._windowLeftGrippy=b,s.addChild(S),e._windowRightHandleBackground=S,s.addChild(T),e._windowRightHandle=T,s.addChild(A),e._windowRightGrippy=A}}s.setCursor("move"),e.addChild(s),L._renderTimeAxisTopBar(e),L._renderLeftAndRightFilters(e,o)},_createGrippyImage:(e,i,r,s)=>{var a,n=e.getCtx();if(s){var o=r/2,l=t.ToolkitUtils.getIconStyle(n,e._vertHandleBackgroundClass);(a=t.OutputText.createIcon(n,{style:l,size:e._vertHandleSize,pos:{x:0,y:o}})).setId("vgrpy")}else{var h=i/2,g=t.ToolkitUtils.getIconStyle(n,e._horHandleBackgroundClass);(a=t.OutputText.createIcon(n,{style:g,size:e._horHandleSize,pos:{x:h,y:0}})).setId("hgrpy")}a.setMouseEnabled(!1);var d=new t.Container(n);return d.addChild(a),d},_createGrippy:(e,i)=>{var r=e._handleTextureColor;if(i){for(var s=new t.Container(e.getCtx(),"g","vgrpy"),a=8,n=3,o=0;o<9;o++){var l=new t.Line(e.getCtx(),a+2*o,n,a+2*o+1,n,"dot1"+o);l.setSolidStroke(r),s.addChild(l),n+=2,(l=new t.Line(e.getCtx(),a+1+2*o,n,a+1+2*o+1,n,"dot2"+o)).setSolidStroke(r),s.addChild(l),n+=2,(l=new t.Line(e.getCtx(),a+2*o,n,a+2*o+1,n,"dot3"+o)).setSolidStroke(r),s.addChild(l),n=3}(l=new t.Line(e.getCtx(),a+18,n,a+18+1,n,"dot4")).setSolidStroke(r),s.addChild(l),n+=4,(l=new t.Line(e.getCtx(),a+18,n,a+18+1,n,"dot5")).setSolidStroke(r),s.addChild(l)}else{for(s=new t.Container(e.getCtx(),"g","hgrpy"),a=3,n=8,o=0;o<9;o++)(l=new t.Line(e.getCtx(),a,n+2*o,a,n+2*o+1,"dot1"+o)).setSolidStroke(r),s.addChild(l),a+=2,(l=new t.Line(e.getCtx(),a,n+1+2*o,a,n+1+2*o+1,"dot2"+o)).setSolidStroke(r),s.addChild(l),a+=2,(l=new t.Line(e.getCtx(),a,n+2*o,a,n+2*o+1,"dot3"+o)).setSolidStroke(r),s.addChild(l),a=3;(l=new t.Line(e.getCtx(),a,n+18,a,n+18+1,"dot4")).setSolidStroke(r),s.addChild(l),a+=4,(l=new t.Line(e.getCtx(),a,n+18,a,n+18+1,"dot5")).setSolidStroke(r),s.addChild(l)}return s.setPixelHinting(!0),s},_createBorderAroundSlidingWindow:e=>{var i=e.Width,r=e.Height,s=e.getSlidingWindow(),a=n/2;if(e.isVertical())var o=s.getY(),l=o+a,h=o+s.getHeight(),g=h-a,d=0,u=a,c=i,p=c-a,_=new t.Line(e.getCtx(),d,l,i,l,"lh"),m=new t.Line(e.getCtx(),d,g,i,g,"rh"),v=new t.Line(e.getCtx(),u,0,u,o,"ltb"),f=new t.Line(e.getCtx(),u,h,u,r,"rtb"),y=new t.Line(e.getCtx(),p,o,p,h,"bb"),C=new t.Line(e.getCtx(),u,o,u,h,"tb");else l=(o=0)+a,g=(h=r)-a,u=(d=s.getX())+a,p=(c=d+s.getWidth())-a,_=new t.Line(e.getCtx(),u,o,u,h,"lh"),m=new t.Line(e.getCtx(),p,o,p,h,"rh"),v=new t.Line(e.getCtx(),0,l,d+1,l,"ltb"),f=new t.Line(e.getCtx(),c-1,l,i,l,"rtb"),y=new t.Line(e.getCtx(),d,g,c,g,"bb"),C=new t.Line(e.getCtx(),d,l,c,l,"tb");_.setPixelHinting(!0),m.setPixelHinting(!0),v.setPixelHinting(!0),f.setPixelHinting(!0),y.setPixelHinting(!0),C.setPixelHinting(!0),"none"!==e._windowBorderLeftStyle&&_.setSolidStroke(e._windowBorderLeftColor),e.addChild(_),e._leftHandle=_,"none"!==e._windowBorderRightStyle&&m.setSolidStroke(e._windowBorderRightColor),e.addChild(m),e._rightHandle=m,"none"!==e._borderTopStyle&&e._borderTopColor&&(v.setSolidStroke(e._borderTopColor),f.setSolidStroke(e._borderTopColor)),e.addChild(v),e.addChild(f),"none"!==e._windowBorderBottomStyle&&y.setSolidStroke(e._windowBorderBottomColor),e.addChild(y),"none"!==e._windowBorderTopStyle&&C.setSolidStroke(e._windowBorderTopColor),e.addChild(C)},_updateBorderAroundSlidingWindow:e=>{var t=e.getSlidingWindow(),i=n/2,r=e.getLeftHandle(),s=e.getRightHandle(),a=e.getLeftTopBar(),o=e.getRightTopBar(),l=e.getBottomBar(),h=e.getTopBar();if(e.isVertical()){if(e.isHorizontalScrollingEnabled()){var g=t.getWidth(),d=e.getSlidingWindowPosX(t),u=d+i,c=d+g-i;e.setLinePosX(r,u,c),e.setLinePosX(s,u,c),e.setLinePosX(h,u,u),e.setLinePosX(l,c,c)}if(e.isVerticalScrollingEnabled()){var p=t.getHeight(),_=e.getSlidingWindowPosY(t),m=_+i,v=_+p-i;e.setLinePosY(r,m,m),e.setLinePosY(s,v,v),e.setLinePosY(h,m,v),e.setLinePosY(l,m,v)}}else e.isHorizontalScrollingEnabled()&&(g=t.getWidth(),u=(d=e.getSlidingWindowPosX(t))+i,c=d+g-i,e.setLinePosX(r,u,u),e.setLinePosX(s,c,c),e.setLinePosX(h,u,c),e.setLinePosX(l,u,c)),e.isVerticalScrollingEnabled()&&(p=t.getHeight(),m=(_=e.getSlidingWindowPosY(t))+i,v=_+p-i,e.setLinePosY(r,m,v),e.setLinePosY(s,m,v),e.setLinePosY(h,m,m),e.setLinePosY(l,v,v));e.setLinePos(a,-1,e.getSlidingWindowPos(t)),e.setLinePos(o,e.getLinePos1(s),-1)},_updateSlidingWindow:e=>{var t=e.getSlidingWindow(),i=e.Width,r=e.Height;if(e.isHorizontalScrollingEnabled()){var s=Math.max(e.getMinimumPositionX(),I.getDatePosition(e._xMin,e._xMax,e._x1,i)),a=Math.max(e.getMinimumPositionX(),I.getDatePosition(e._xMin,e._xMax,e._x2,i)),n=Math.min(e.getMaximumPositionX(),a);e.isRTL()?e.setSlidingWindowPosX(t,i-n):e.setSlidingWindowPosX(t,s),L._setSlidingWindowWidth(e,t,n-s)}else L._setSlidingWindowWidth(e,t,i);if(e.isVerticalScrollingEnabled()){var o=Math.max(e.getMinimumPositionY(),I.getDatePosition(e._yMin,e._yMax,e._y1,r)),l=Math.max(e.getMinimumPositionY(),I.getDatePosition(e._yMin,e._yMax,e._y2,r)),h=Math.min(e.getMaximumPositionY(),l);e.setSlidingWindowPosY(t,o),L._setSlidingWindowHeight(e,t,h-o)}else L._setSlidingWindowHeight(e,t,r);L._updateBorderAroundSlidingWindow(e)},_setSlidingWindowWidth:(e,t,i)=>{if(i=Math.min(e.getMaximumWindowWidth(),Math.max(e.getMinimumWindowWidth(),i)),t.setWidth(i),e.isLeftAndRightFilterRendered()){var r=e.getSlidingWindowPosX(t)+i,s=e.getRightBackground();if(s.setX(r),s.setWidth(Math.max(0,e.Width-r)),I.supportsTouch()&&!e.isFeatureOff("zoom"))e.getRightBackgroundHandle().setX(r)}if(!e.isFeatureOff("zoom")){if(e.isHorizontalScrollingEnabled()){var a=e._windowRightHandleBackground,n=e._windowRightHandle,o=e._windowRightGrippy;n.setTranslateX(i),a.setTranslateX(i-e.getHandleSize()),o.setTranslateX(i-e.getGrippySize())}if(e.isVerticalScrollingEnabled()){var l=(t.getWidth()-36)/2;if(e._vertHandleBackgroundClass)var h=i/2;else h=l;var g=e._windowTopHandleBackground,d=e._windowTopHandle,u=e._windowTopGrippy;d.setTranslateX(l),g.setWidth(i),u.setTranslateX(h);var c=e._windowBottomHandleBackground,p=e._windowBottomHandle,_=e._windowBottomGrippy;p.setTranslateX(l),c.setWidth(i),_.setTranslateX(h)}}},_setSlidingWindowHeight:(e,t,i)=>{if(i=Math.min(e.getMaximumWindowHeight(),Math.max(e.getMinimumWindowHeight(),i)),t.setHeight(i),!e.isFeatureOff("zoom")){if(e.isHorizontalScrollingEnabled()){var r=(i-36)/2;if(e._horHandleBackgroundClass)var s=i/2;else s=r;var a=e._windowLeftHandleBackground,n=e._windowLeftHandle,o=e._windowLeftGrippy;n.setTranslateY(r),a.setHeight(i),o.setTranslateY(s);var l=e._windowRightHandleBackground,h=e._windowRightHandle,g=e._windowRightGrippy;h.setTranslateY(r),l.setHeight(i),g.setTranslateY(s)}if(e.isVerticalScrollingEnabled()){var d=e._windowBottomHandleBackground,u=e._windowBottomHandle,c=e._windowBottomGrippy;u.setTranslateY(i),d.setTranslateY(i-e.getHandleSize()),c.setTranslateY(i-e.getGrippySize())}}},_renderTimeAxisTopBar:e=>{var i=e.Width,r=e.Height;if(e.isVertical())if(e.isRTL())var s=new t.Line(e.getCtx(),e.getTimeAxisWidth(),0,e.getTimeAxisWidth(),r,"tab");else s=new t.Line(e.getCtx(),i-e.getTimeAxisWidth(),0,i-e.getTimeAxisWidth(),r,"tab");else s=e.isOverviewAbove()?new t.Line(e.getCtx(),0,e.getTimeAxisHeight(),i,e.getTimeAxisHeight(),"tab"):new t.Line(e.getCtx(),0,r-e.getTimeAxisHeight(),i,r-e.getTimeAxisHeight(),"tab");s.setSolidStroke(e._timeAxisBarColor,e._timeAxisBarOpacity),s.setPixelHinting(!0),e._timeAxisTopBar=s,e.addChild(s)},_renderLeftAndRightFilters:(e,i)=>{var r=e.Width,s=e.Height;if(e.isLeftAndRightFilterRendered()){if(e.isVertical())var a=new t.Rect(e.getCtx(),0,0,r,0,"lbg"),n=new t.Rect(e.getCtx(),0,0,r,0,"rbg");else a=new t.Rect(e.getCtx(),0,0,0,s,"lbg"),n=new t.Rect(e.getCtx(),0,0,0,s,"rbg");if(a.setSolidFill(e._leftFilterPanelColor,e._leftFilterPanelAlpha),e.addChild(a),n.setSolidFill(e._rightFilterPanelColor,e._rightFilterPanelAlpha),e.addChild(n),I.supportsTouch()&&null!=i){if(e.isVertical())var o=new t.Rect(e.getCtx(),0,0,r,i,"lbgrh"),l=new t.Rect(e.getCtx(),0,0,r,i,"rbgrh");else o=new t.Rect(e.getCtx(),0,0,i,s,"lbgrh"),l=new t.Rect(e.getCtx(),0,0,i,s,"rbgrh");o.setSolidFill(e._leftFilterPanelColor,0),e.addChild(o),l.setSolidFill(e._rightFilterPanelColor,0),e.addChild(l)}}},_renderTimeAxis:e=>{if(null!=e._ticks)for(var t=e.Width,i=e.Height,r=e.isVertical(),s=e.getOverviewSize(),n=0;n<e._ticks.length;n++){var o=e._ticks[n],l=parseInt(o.time,10);if(r)var h=e.getDateYPosition(l);else h=e.getDateXPosition(l);var g=o.label,d=0;if(n+1<e._ticks.length){var u=parseInt(e._ticks[n+1].time,10);if(r)var c=e.getDateYPosition(u);else c=e.getDateXPosition(u);d=c-h}else d=s-h;e.isHorizontalRTL()&&(h=s-h),r&&(d=t),d-=2*a,L._addTick(e,h,t,i,"tick"+n),L._addLabel(e,h,g,i,d,"label"+n,e._labelStyle)}},_addTick:(e,i,r,s,a)=>{if(e.isVertical())var n=new t.Line(e.getCtx(),0,i,r,i,a);else n=new t.Line(e.getCtx(),i,0,i,s,a);var o=new t.Stroke(e._timeIndicatorColor,1,1,!1,{dashArray:"3"});n.setStroke(o),n.setPixelHinting(!0),e.addChild(n)},_addLabel:(e,i,r,s,n,o,l)=>{if(e.isVertical()){var h=new t.OutputText(e.getCtx(),r,4,i,o);if(h.setCSSStyle(l),e.isRTL()){var g=h.getDimensions();h.setX(Math.max(4,e.Width-g.w-4))}}else{if(e.isOverviewAbove())var d=2;else d=s-e.getTimeAxisHeight()+2;var u=a;(h=new t.OutputText(e.getCtx(),r,i+u,d,o)).setCSSStyle(l),e.isHorizontalRTL()&&(g=h.getDimensions(),h.setX(i-Math.min(g.w,n)-u))}t.TextUtils.fitText(h,n,1/0,e),h._rawText=h.getUntruncatedTextString()},_parseFilledTimeRanges:e=>{if(null!=e._formattedTimeRanges)for(var t=0;t<e._formattedTimeRanges.length;t++){var i=e._formattedTimeRanges[t];L._addFilledTimeRange(e,i,e.Width,e.Height)}},_addFilledTimeRange:(e,i,r,s)=>{var a=parseInt(i.rs,10),n=parseInt(i.re,10);if(null!=a&&null!=n){var o=i.c,l=e.getOverviewSize();if(e.isVertical())h=e.getDateYPosition(a),g=e.getDateYPosition(n);else var h=e.getDateXPosition(a),g=e.getDateXPosition(n);var d,u=g-h;if(e.isHorizontalRTL()&&(h=l-h-u),e.isVertical())d=new t.Rect(e.getCtx(),0,h,r-e.getTimeAxisWidth(),u,"ftr");else{var c=e.isOverviewAbove()?e.getTimeAxisHeight():0;d=new t.Rect(e.getCtx(),h,c,u,s-e.getTimeAxisHeight(),"ftr")}null!=o&&d.setSolidFill(o,.4),d.setCursor("move"),d.setPixelHinting(!0),e.addChild(d)}},_updateReferenceLines:e=>{var i=e.Width,r=e.Height,s=function(t){return!(null==t||isNaN(t)||t<e._xMin||t>e._xMax)},a=function(t){t.setSolidStroke(e._currentTimeIndicatorColor),t.setPixelHinting(!0),e.addChild(t)};if(null!=e.Options.referenceObjects&&0!=e.Options.referenceObjects.length)if(e.isVertical()){for(var n=0;n<e.Options.referenceObjects.length;n++)if(s(e.Options.referenceObjects[n])){var o=e.getDateYPosition(e.Options.referenceObjects[n]),l=new t.Line(e.getCtx(),0,o,i,o,"referenceObjects"+n);a(l)}}else for(n=0;n<e.Options.referenceObjects.length;n++)s(e.Options.referenceObjects[n])&&(o=e.getDateXPosition(e.Options.referenceObjects[n]),e.isRTL()&&(o=i-o),a(l=new t.Line(e.getCtx(),o,0,o,r,"referenceObjects"+n)))}};class R extends t.Container{constructor(e,i,s){super(e),this.MIN_WINDOW_SIZE=10,this.DEFAULT_VERTICAL_TIMEAXIS_SIZE=40,this.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE=20,this.HANDLE_PADDING_SIZE=20,this.initDefaults(),this._callback=i,this._callbackObj=s,this._lastChildIndex=6,(null!=this._callback||null!=this._callbackObj)&&(this.EventManager=new r(this,e,i,s),this.EventManager.addListeners(this),this.addEvtListener(t.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.addEvtListener(t.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.addEvtListener(t.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.addEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.addEvtListener(t.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.addEvtListener(t.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.addEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this))}initDefaults(){this.Defaults=new i}setViewportRange(e,t,i,r){if(null!=e&&null!=t){var s=this.getDateXPosition(e),a=this.getDateXPosition(t);if(a>s){s<this.getMinimumPositionX()&&(s=this.getMinimumPositionX()),a>this.getMaximumPositionX()&&(a=this.getMaximumPositionX());var n=Math.max(a-s,this.getMinimumWindowWidth()),o=this.getSlidingWindow();this.isRTL()?this.setSlidingWindowPosX(o,this.Width-(s+n)):this.setSlidingWindowPosX(o,s),L._setSlidingWindowWidth(this,o,n)}}if(null!=i&&null!=r){var l=this.getDateYPosition(i),h=this.getDateYPosition(r);if(h>l){l<this.getMinimumPositionY()&&(l=this.getMinimumPositionY()),h>this.getMaximumPositionY()&&(h=this.getMaximumPositionY());var g=Math.max(h-l,this.getMinimumWindowHeight());o=this.getSlidingWindow(),this.setSlidingWindowPosY(o,l),L._setSlidingWindowHeight(this,o,g)}}L._updateBorderAroundSlidingWindow(this)}isFeatureOff(e){return null!=this._featuresOff&&-1!==this._featuresOff.indexOf(e)}isAnimationOnClick(){return"off"!==this._animationOnClick}render(e,t,i){if(null!=t&&null!=i&&(this.Width=t,this.Height=i),null==e){var r=this.getSlidingWindow();if(this._xMin&&this._xMax){var s=this.getSlidingWindowPosX(r);null!=r&&0!==s&&(this._x1=I.getPositionDate(this._xMin,this._xMax,s,this.Width))}this._yMin&&this._yMax&&(s=this.getSlidingWindowPosY(r),null!=r&&0!==s&&(this._y1=I.getPositionDate(this._yMin,this._yMax,s,this.Height))),this.removeChildren()}else{this.SetOptions(e);var a=this.Parse(this.Options);this._applyParsedProperties(a)}L.renderOverview(this)}SetOptions(e){this.Options=this.Defaults.calcOptions(e)}getParser(){return new s(this)}Parse(e){return this.getParser(e).parse(e)}_applyParsedProperties(e){this._xMin=e.xMin,this._xMax=e.xMax,this._x1=e.x1,this._x2=e.x2,this._yMin=e.yMin,this._yMax=e.yMax,this._y1=e.y1,this._y2=e.y2,this._animationOnClick=e.animationOnClick,this._leftMargin=Math.max(0,e.leftMargin),this._rightMargin=Math.max(0,e.rightMargin),isNaN(this._leftMargin)&&(this._leftMargin=0),isNaN(this._rightMargin)&&(this._rightMargin=0),this._orientation=e.orientation,this._isRtl=e.isRtl,null!=e.featuresOff&&(this._featuresOff=e.featuresOff.split(" ")),null!=e.minimumWindowSize&&e.minimumWindowSize>0&&(this._minimumWindowSize=e.minimumWindowSize),this._timeAxisInfo=e.timeAxisInfo,null!=e.timeAxisInfo&&(this._ticks=this._timeAxisInfo.ticks),this._formattedTimeRanges=e.formattedTimeRanges,this._borderTopStyle=u(this.Options),this._borderTopColor=d(this.Options),this._windowBackgroundColor=c(this.Options),this._windowBackgroundAlpha=p(this.Options),this._windowBorderTopStyle=_(this.Options),this._windowBorderRightStyle=m(this.Options),this._windowBorderBottomStyle=v(this.Options),this._windowBorderLeftStyle=f(this.Options),this._windowBorderTopColor=y(this.Options),this._windowBorderRightColor=C(this.Options),this._windowBorderBottomColor=x(this.Options),this._windowBorderLeftColor=S(this.Options),this._handleTextureColor=l(this.Options),this._handleFillColor=o(this.Options),this._horHandleBackgroundClass=h(this.Options,!1),this._horHandleSize=g(this.Options,!1),this._vertHandleBackgroundClass=h(this.Options,!0),this._vertHandleSize=g(this.Options,!0),this._overviewBackgroundColor=b(this.Options),this._currentTimeIndicatorColor=A(this.Options),this._timeIndicatorColor=w(this.Options),this._timeAxisBarColor=M(this.Options),this._timeAxisBarOpacity=T(this.Options),this._leftFilterPanelColor=D(this.Options),this._leftFilterPanelAlpha=O(this.Options),this._rightFilterPanelColor=P(this.Options),this._rightFilterPanelAlpha=E(this.Options),this._labelStyle=new t.CSSStyle("font-weight:bold")}getDateXPosition(e){return Math.max(this.getMinimumPositionX(),I.getDatePosition(this._xMin,this._xMax,e,this.getOverviewWidth())+this._leftMargin)}getDateYPosition(e){return Math.max(this.getMinimumPositionY(),I.getDatePosition(this._yMin,this._yMax,e,this.getOverviewHeight()))}getXPositionDate(e){return I.getPositionDate(this._xMin,this._xMax,Math.max(this.getMinimumPositionX()-this._leftMargin,e-this._leftMargin),this.getOverviewWidth())}getYPositionDate(e){return I.getPositionDate(this._yMin,this._yMax,Math.max(this.getMinimumPositionY(),e),this.getOverviewHeight())}isRTL(){return"true"===this._isRtl}isHorizontalRTL(){return this.isRTL()&&!this.isVertical()}isVertical(){return"vertical"===this._orientation}isOverviewAbove(){return"above"===this.Options.overviewPosition}setMargins(e,t){!isNaN(e)&&null!=e&&e>0&&(this._leftMargin=e),!isNaN(t)&&null!=t&&t>0&&(this._rightMargin=t)}getOverviewSize(){return this.isVertical()?this.Height-this._leftMargin-this._rightMargin:this.Width-this._leftMargin-this._rightMargin}getOverviewWidth(){return this.Width-this._leftMargin-this._rightMargin}getOverviewHeight(){return this.Height}getMinimumPositionX(){return this._leftMargin}getMinimumPositionY(){return 0}getMaximumPositionX(){return this.Width-this._rightMargin}getMaximumPositionY(){return this.Height}getMinimumWindowWidth(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=I.getDatePosition(this._xMin,this._xMax,this._xMin+this._minimumWindowSize,this.getOverviewWidth()),this._minWinSize):this.MIN_WINDOW_SIZE}getMinimumWindowHeight(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=I.getDatePosition(this._yMin,this._yMax,this._yMin+this._minimumWindowSize,this.getOverviewHeight()),this._minWinSize):this.MIN_WINDOW_SIZE}getMaximumWindowWidth(){return this.Width}getMaximumWindowHeight(){return this.Height}getGrippySize(){return 10}getHandleStart(){return I.supportsTouch()?this.getHandleSize()/2:0}getHandleSize(){return I.supportsTouch()?30:10}isHandle(e){var t=e.getId();return"lh"===t||"rh"===t||"lhb"===t||"rhb"===t||"th"===t||"bh"===t||"thb"===t||"bhb"===t||"hgrpy"===t||"vgrpy"===t||"lbgrh"===t||"rbgrh"===t||null!=e.getParent()&&("hgrpy"===e.getParent().getId()||"vgrpy"===e.getParent().getId())}isLeftOrRightHandle(e){var t=e.getId();return"lh"===t||"rh"===t||"lhb"===t||"rhb"===t||"hgrpy"===t||"lbgrh"===t||"rbgrh"===t||null!=e.getParent()&&"hgrpy"===e.getParent().getId()}isTopOrBottomHandle(e){var t=e.getId();return"th"===t||"bh"===t||"thb"===t||"bhb"===t||"vgrpy"===t||null!=e.getParent()&&"vgrpy"===e.getParent().getId()}getTimeAxisWidth(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisWidth){var e=parseInt(this._timeAxisInfo.width,10);!isNaN(e)&&e<this.Width?this._timeAxisWidth=e:this._timeAxisWidth=this.DEFAULT_VERTICAL_TIMEAXIS_SIZE}return this._timeAxisWidth}getTimeAxisHeight(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisHeight){var e=parseInt(this._timeAxisInfo.height,10);!isNaN(e)&&e<this.Height?this._timeAxisHeight=e:this._timeAxisHeight=this.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE}return this._timeAxisHeight}getPageX(e){return null!=e.targetTouches?e.targetTouches.length>0?e.targetTouches[0].pageX:null:e.pageX}getPageY(e){return null!=e.targetTouches?e.targetTouches.length>0?e.targetTouches[0].pageY:null:e.pageY}isBackgroundRendered(){return!0}isLeftAndRightFilterRendered(){return!1}getSlidingWindow(){return this.getChildAt(1)}getSlidingWindowWidth(){if(this.isHorizontalScrollingEnabled()){var e=Math.max(this.getMinimumPositionX(),I.getDatePosition(this._xMin,this._xMax,this._x1,this.Width));return Math.min(this.getMaximumPositionX(),Math.max(this.getMinimumPositionX(),I.getDatePosition(this._xMin,this._xMax,this._x2,this.Width)))-e}return this.Width}getSlidingWindowHeight(){if(this.isVerticalScrollingEnabled()){var e=Math.max(this.getMinimumPositionY(),I.getDatePosition(this._yMin,this._yMax,this._y1,this.Height));return Math.min(this.getMaximumPositionY(),Math.max(this.getMinimumPositionY(),I.getDatePosition(this._yMin,this._yMax,this._y2,this.Height)))-e}return this.Height}getLeftBackground(){return this.isLeftAndRightFilterRendered()?this.getChildAt(3):null}getRightBackground(){return this.isLeftAndRightFilterRendered()?this.getChildAt(4):null}getLeftBackgroundHandle(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(5):null}getRightBackgroundHandle(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(6):null}getLeftHandle(){return this._leftHandle}getRightHandle(){return this._rightHandle}getLeftTopBar(){var e=this._lastChildIndex-2;return this.getChildAt(this.getNumChildren()-e)}getRightTopBar(){var e=this._lastChildIndex-3;return this.getChildAt(this.getNumChildren()-e)}getBottomBar(){var e=this._lastChildIndex-4;return this.getChildAt(this.getNumChildren()-e)}getTopBar(){var e=this._lastChildIndex-5;return this.getChildAt(this.getNumChildren()-e)}setLinePos(e,t,i){this.isVertical()?(-1!==t&&e.setY1(t),-1!==i&&e.setY2(i)):(-1!==t&&e.setX1(t),-1!==i&&e.setX2(i))}setLinePosX(e,t,i){-1!==t&&e.setX1(t),-1!==i&&e.setX2(i)}setLinePosY(e,t,i){-1!==t&&e.setY1(t),-1!==i&&e.setY2(i)}getLinePos1(e){return this.isVertical()?e.getY1():e.getX1()}_findDrawable(e){var t=e.target;if(null!=t){var i=t.getId();if(null==i)return null;if("_border"===i.substr(i.length-7))return this.getChildAfter(t);if("tick"!==i.substr(0,4)&&"ltb"!==i&&"rtb"!==i&&"bb"!==i&&"tab"!==i)return t}return null}isMovable(e){return!("window"!==e.getId()&&"ftr"!==e.getId()&&"sta"!==e.getId()&&!this.isHandle(e))}setRectPos(e,t){this.isVertical()?e.setY(t):e.setX(t)}getRectPos(e){return this.isVertical()?e.getY():e.getX()}getRectSize(e){return this.isVertical()?e.getHeight():e.getWidth()}setRectSize(e,t){this.isVertical()?e.setHeight(t):e.setWidth(t)}getSlidingWindowPos(e){return this.isVertical()?e.getTranslateY():e.getTranslateX()}getSlidingWindowPosX(e){return e.getTranslateX()}getSlidingWindowPosY(e){return e.getTranslateY()}setSlidingWindowPosX(e,t){if(t=Math.max(this.getMinimumPositionX(),t),e.setTranslateX(t),this.isLeftAndRightFilterRendered()){this.getLeftBackground().setWidth(t);var i=t+this.getSlidingWindowSize(e),r=this.getRightBackground();if(r.setX(i),r.setWidth(Math.max(0,this.Width-i)),I.supportsTouch()&&!this.isFeatureOff("zoom")){var s=this.getHandleStart();this.getLeftBackgroundHandle().setX(t-s),this.getRightBackgroundHandle().setX(i)}}}setSlidingWindowPosY(e,t){t=Math.max(this.getMinimumPositionY(),t),e.setTranslateY(t)}getSlidingWindowSize(e){return this.getRectSize(e)}renderData(e,t){}animateSlidingWindow(e,i){var r=0,s=this.getSlidingWindow();if(null!=e&&e!==this.getSlidingWindowPosX(s)||null!=i&&i!==this.getSlidingWindowPosY(s)){var a=this.getLeftHandle(),n=this.getRightHandle(),o=this.getLeftTopBar(),l=this.getRightTopBar(),h=this.getBottomBar(),g=this.getTopBar(),d=!1,u=this.isAnimationOnClick()?new t.Animator(this.getCtx(),.5,0,t.Easing.linear):null;if(this.isVerticalScrollingEnabled()&&null!=i){var c=s.getTranslateY,p=s.setTranslateY,_=a.getY1,m=a.setY1,v=a.getY2,f=a.setY2,y=n.getY1,C=n.setY1,x=n.getY2,S=n.setY2,b=h.getY1,A=h.setY1,M=h.getY2,T=h.setY2,w=g.getY1,D=g.setY1,O=g.getY2,P=g.setY2,E=this.getMinimumPositionY(),L=this.getMaximumPositionY(),R=s.getHeight();i=Math.max(E,Math.min(L-R,i)),this.animateProperty(u,s,c,p,i),this.isVertical()?(this.animateProperty(u,a,_,m,i),this.animateProperty(u,a,v,f,i),this.animateProperty(u,n,y,C,i+R),this.animateProperty(u,n,x,S,i+R),this.animateProperty(u,h,b,A,i),this.animateProperty(u,g,w,D,i),this.animateProperty(u,h,M,T,i+R),this.animateProperty(u,g,O,P,i+R),this.animateProperty(u,o,o.getY2,o.setY2,i+1),this.animateProperty(u,l,l.getY1,l.setY1,i+R-1)):(this.animateProperty(u,a,_,m,i),this.animateProperty(u,a,v,f,i+R),this.animateProperty(u,n,y,C,i),this.animateProperty(u,n,x,S,i+R),this.animateProperty(u,h,b,A,i+R),this.animateProperty(u,g,w,D,i),this.animateProperty(u,h,M,T,i+R),this.animateProperty(u,g,O,P,i)),d=!0}if(this.isHorizontalScrollingEnabled()&&null!=e){var k=s.getTranslateX,B=s.setTranslateX,F=a.getX1,H=a.setX1,N=a.getX2,G=a.setX2,j=n.getX1,V=n.setX1,U=n.getX2,W=n.setX2,Y=h.getX1,z=h.setX1,X=h.getX2,K=h.setX2,q=g.getX1,Z=g.setX1,Q=g.getX2,J=g.setX2,$=this.getMinimumPositionX(),ee=this.getMaximumPositionX();r=s.getWidth(),e=Math.max($,Math.min(ee-r,e)),this.animateProperty(u,s,k,B,e),this.animateProperty(u,a,F,H,e),this.animateProperty(u,a,N,G,e),this.animateProperty(u,n,j,V,e+r),this.animateProperty(u,n,U,W,e+r),this.isVertical()||(this.animateProperty(u,o,o.getX2,o.setX2,e+1),this.animateProperty(u,l,l.getX1,l.setX1,e+r-1)),this.animateProperty(u,h,Y,z,e),this.animateProperty(u,g,q,Z,e),this.animateProperty(u,h,X,K,e+r),this.animateProperty(u,g,Q,J,e+r),d=!0}if(this.isLeftAndRightFilterRendered()){var te=this.getLeftBackground(),ie=te.getWidth,re=te.setWidth;this.animateProperty(u,te,ie,re,e);var se=Number(e)+r,ae=this.getRightBackground(),ne=ae.getWidth,oe=ae.setWidth,le=ae.getX,he=ae.setX;if(this.animateProperty(u,ae,ne,oe,this.Width-se),this.animateProperty(u,ae,le,he,se),I.supportsTouch()&&!this.isFeatureOff("zoom")){var ge=this.getHandleStart(),de=this.getLeftBackgroundHandle(),ue=de.getX,ce=de.setX,pe=this.getRightBackgroundHandle(),_e=pe.getX,me=pe.setX;this.animateProperty(u,de,ue,ce,e-ge),this.animateProperty(u,pe,_e,me,se)}d=!0}null!=u&&d&&u.play()}}animateProperty(e,i,r,s,a){null!=e?e.addProp(t.Animator.TYPE_NUMBER,i,r,s,a):s.call(i,a)}HandleShapeMouseOver(e){var i=this._findDrawable(e);if(i&&"bg"!==i.getId()&&"referenceObjects"!==i.getId())if("label"===i.getId().substr(0,5)&&(i instanceof t.OutputText||i instanceof t.BackgroundOutputText))i.isTruncated()&&this.getCtx().getTooltipManager().showDatatip(e.pageX,e.pageY,i._rawText,"#000000");else if("window"!==i.getId()&&"ftr"!==i.getId()&&"arr"!==i.getId()&&!this.isHandle(i))return i}HandleShapeMouseOut(e){null==this._moveDrawable&&this.setCursor("default");var t=this._findDrawable(e);return null==t?null:t}HandleShapeClick(e,i,r){e.stopPropagation();var s=this._findDrawable(e);if(!s||"window"===s.getId()||this.isHandle(s))return null;if("bg"===s.getId()||"label"===s.getId().substr(0,5)||"referenceObjects"===s.getId()||"lbg"===s.getId()||"rbg"===s.getId()){null==i&&(i=e.pageX),null==r&&(r=e.pageY);var a=this.getCtx().pageToStageCoords(i,r);a=this.stageToLocal(a);var n,o,l,h,g=this.getSlidingWindow();if(this.isVerticalScrollingEnabled())var d=a.y,u=this.Height,c=d-g.getHeight()/2;if(this.isHorizontalScrollingEnabled())var p=a.x,_=this.Width,m=p-g.getWidth()/2;if(this.animateSlidingWindow(m,c),null!=m){var v=g.getWidth();m=Math.max(this.getMinimumPositionX(),Math.min(m,_-v)),this.isRTL()?(n=this.getXPositionDate(_-(m+v)),o=this.getXPositionDate(_-m)):(n=this.getXPositionDate(m),o=this.getXPositionDate(m+v))}if(null!=c){var f=g.getHeight();c=Math.max(this.getMinimumPositionY(),Math.min(c,u-f)),l=this.getYPositionDate(c),h=this.getYPositionDate(c+f)}var y=t.EventFactory.newOverviewEvent("scrollTime",n,o,l,h);return this.dispatchEvent(y),null}return s}beginDragPan(e,i,r){var s=this._findDrawable(e);if(null!=s&&this.isMovable(s)){if("ftr"!==s.getId()&&"sta"!==s.getId()||(s=this.getSlidingWindow()),this._initX=i,this._initY=r,this.isHandle(s)){var a=this.getSlidingWindow();"hgrpy"!==s.getParent().getId()&&"vgrpy"!==s.getParent().getId()||(s=s.getParent());var n=s.getId();"hgrpy"!==n&&"vgrpy"!==n||(n=(s=a.getChildBefore(s)).getId()),"lh"!==n&&"rh"!==n&&"th"!==n&&"bh"!==n||(n=(s=a.getChildBefore(s)).getId()),"lbgrh"===n&&(s=a.getChildAt(0)),"rbgrh"===n&&(s=a.getChildAt(a.getNumChildren()-3)),this.isLeftOrRightHandle(s)?(this._isHorizontalResize=!0,this.isRTL()?(this._oldEndPosX=this.Width-a.getX(),this._oldStartPosX=this._oldEndPosX-a.getWidth()):(this._oldStartPosX=a.getX(),this._oldEndPosX=this._oldStartPosX+a.getWidth()),I.supportsTouch()||(s.setX(0-this.HANDLE_PADDING_SIZE),s.setWidth(2*(s.getWidth()+this.HANDLE_PADDING_SIZE)))):(this._isHorizontalResize=!1,this._oldStartPosY=a.getY(),this._oldEndPosY=this._oldStartPosY+a.getHeight(),I.supportsTouch()||(s.setY(0-this.HANDLE_PADDING_SIZE),s.setHeight(2*(s.getHeight()+this.HANDLE_PADDING_SIZE)))),this.overrideCursors(s.getCursor())}this._moveDrawable=s;var o=t.EventFactory.newOverviewEvent("dropCallback");return this.dispatchEvent(o),!0}return!1}overrideCursors(e){var t=this.getSlidingWindow();if(null!=t&&t.setCursor(e),this.isLeftAndRightFilterRendered()){var i=this.getLeftBackground(),r=this.getRightBackground();null!=i&&null!=r&&(i.setCursor(e),r.setCursor(e))}}resetCursors(){var e=this.getSlidingWindow();if(null!=e&&e.setCursor("move"),this.isLeftAndRightFilterRendered()){var t=this.getLeftBackground(),i=this.getRightBackground();null!=t&&null!=i&&(t.setCursor("default"),i.setCursor("default"))}}endDragPan(){null!=this._moveDrawable&&this._isDragPanning&&("window"===this._moveDrawable.getId()?this.handleWindowDrag("scrollEnd"):this.isHandle(this._moveDrawable)&&(this.finishHandleDrag(0,0),I.supportsTouch()||(this.isTopOrBottomHandle(this._moveDrawable)?(this._moveDrawable.setY(0),this._moveDrawable.setHeight(this.getHandleSize())):this.isLeftOrRightHandle(this._moveDrawable)&&(this._moveDrawable.setX(0),this._moveDrawable.setWidth(this.getHandleSize()))),this.resetCursors()),this._isDragPanning=!1,this._moveDrawable=null,this._initX=-1)}contDragPan(e,t,i){if(null!=this._moveDrawable&&-1!==this._initX){this._isDragPanning=!0;var r=t-this._initX,s=i-this._initY;this._initX=t,this._initY=i,"window"===this._moveDrawable.getId()?this.handleWindowDrag("scrollPos",r,s):"lh"===this._moveDrawable.getId()||"lhb"===this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(e,r,!0):"rh"===this._moveDrawable.getId()||"rhb"===this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(e,r,!1):"th"===this._moveDrawable.getId()||"thb"===this._moveDrawable.getId()?this.handleTopOrBottomHandleDragPositioning(e,s,!0):"bh"!==this._moveDrawable.getId()&&"bhb"!==this._moveDrawable.getId()||this.handleTopOrBottomHandleDragPositioning(e,s,!1)}}HandleTouchStart(e){var t=e.touches;this._touchStartX=t[0].pageX,this._touchStartY=t[0].pageY,2===t.length&&(e.preventDefault(),this._touchStartX2=t[1].pageX,this._touchStartY2=t[1].pageY,Math.abs(this._touchStartY-this._touchStartY2)<20?this._counter=0:(this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null))}HandleTouchMove(e){e.preventDefault();var t=e.touches;if(null!=this._touchStartX2&&null!=this._touchStartY2){if(this._counter<50)return void this._counter++;var i=t[1].pageX-this._touchStartX2;this.handleRightHandleDragPositioning(null,i,0),this._touchStartX2=t[1].pageX,this._counter=0}else{var r=Math.abs(this._touchStartX-t[0].pageX),s=Math.abs(this._touchStartY-t[0].pageY);(r>3||s>3)&&(this._touchStartX=null,this._touchStartY=null)}}HandleTouchEnd(e){null!=this._touchStartX2&&null!=this._touchStartY2?this.finishHandleDrag(0,0):null!=this._touchStartX&&null!=this._touchStartY&&this.HandleShapeClick(e,this._touchStartX,this._touchStartY),this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null}stopDragAction(){this.endDragPan()}handleWindowDrag(e,t,i){var r,s,a,n,o=this.getSlidingWindow(),l=!1,h=this.getSlidingWindowPosX(o),g=this.getSlidingWindowPosY(o),d=o.getWidth(),u=o.getHeight();if("scrollPos"===e){if(this.isHorizontalScrollingEnabled()&&0!==t){var c=this.getMinimumPositionX(),p=this.getMaximumPositionX();h+t<=c?this.setSlidingWindowPosX(o,c):h+d+t>=p?this.setSlidingWindowPosX(o,p-d):this.setSlidingWindowPosX(o,h+t);var _=this.getSlidingWindowPosX(o);_!==h&&(h=_,l=!0)}if(this.isVerticalScrollingEnabled()&&0!==i){var m=this.getMinimumPositionY(),v=this.getMaximumPositionY();g+i<=m?this.setSlidingWindowPosY(o,m):g+u+i>=v?this.setSlidingWindowPosY(o,v-u):this.setSlidingWindowPosY(o,g+i);var f=this.getSlidingWindowPosY(o);f!==g&&(g=f,l=!0)}l&&L._updateBorderAroundSlidingWindow(this)}(l||"scrollEnd"===e)&&(this.isHorizontalScrollingEnabled()&&(this.isRTL()?(r=this.getXPositionDate(this.Width-(h+d)),s=this.getXPositionDate(this.Width-h)):(r=this.getXPositionDate(h),s=this.getXPositionDate(h+d))),this.isVerticalScrollingEnabled()&&(a=this.getYPositionDate(g),n=this.getYPositionDate(g+u)),this.fireScrollEvent(e,r,s,a,n))}fireScrollEvent(e,i,r,s,a){var n,o,l,h;this.isHorizontalScrollingEnabled()&&(n=i,o=r),this.isVerticalScrollingEnabled()&&(l=s,h=a);var g=t.EventFactory.newOverviewEvent(e,n,o,l,h);this.dispatchEvent(g)}handleLeftOrRightHandleDragPositioning(e,i,r){if(0!==i){var s=this.getSlidingWindow(),a=this.getSlidingWindowPosX(s),n=s.getWidth();if(r){if(n-i<=this.getMinimumWindowWidth())return;if(a+i<=this.getMinimumPositionX())return;var o=this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).x;if(o=this.stageToLocal(o),i>0&&o<=a||i<0&&o>=a)return;this.setSlidingWindowPosX(s,a+i),L._setSlidingWindowWidth(this,s,n-i)}else{if(n+i<=this.getMinimumWindowWidth())return;if(a+n+i>=this.getMaximumPositionX())return;if(o=this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).x,o=this.stageToLocal(o),i>0&&o<=a+n||i<0&&o>=a+n)return;L._setSlidingWindowWidth(this,s,n+i)}if(L._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var l,h;this.isRTL()?(l=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(s)+s.getWidth())),h=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(s))):(l=this.getXPositionDate(this.getSlidingWindowPosX(s)),h=this.getXPositionDate(this.getSlidingWindowPosX(s)+s.getWidth()));var g=t.EventFactory.newOverviewEvent("rangeChanging",l,h);this.dispatchEvent(g)}}}handleTopOrBottomHandleDragPositioning(e,i,r){if(0!==i){var s=this.getSlidingWindow(),a=this.getSlidingWindowPosY(s),n=s.getHeight();if(r){if(n-i<=this.getMinimumWindowHeight())return;if(a+i<=this.getMinimumPositionY())return;var o=this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).y;if(o=this.stageToLocal(o),i>0&&o<=a||i<0&&o>=a)return;this.setSlidingWindowPosY(s,a+i),L._setSlidingWindowHeight(this,s,n-i)}else{if(n+i<=this.getMinimumWindowHeight())return;if(a+n+i>=this.getMaximumPositionY())return;if(o=this.getCtx().pageToStageCoords(this.getPageX(e),this.getPageY(e)).y,o=this.stageToLocal(o),i>0&&o<=a+n||i<0&&o>=a+n)return;L._setSlidingWindowHeight(this,s,n+i)}if(L._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var l=this.getYPositionDate(this.getSlidingWindowPosY(s)),h=this.getYPositionDate(this.getSlidingWindowPosY(s)+s.getHeight()),g=t.EventFactory.newOverviewEvent("rangeChanging",void 0,void 0,l,h);this.dispatchEvent(g)}}}isHorizontalScrollingEnabled(){return null!=this._xMin&&null!=this._xMax}isVerticalScrollingEnabled(){return null!=this._yMin&&null!=this._yMax}isRangeChangingSupported(){return!0}finishHandleDrag(e,i){var r,s=this.getSlidingWindow();if(this._isHorizontalResize){var a=this.getXPositionDate(this._oldStartPosX),n=this.getXPositionDate(this._oldEndPosX);if(this.isRTL())var o=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(s)+s.getWidth())),l=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(s));else o=this.getXPositionDate(this.getSlidingWindowPosX(s)),l=this.getXPositionDate(this.getSlidingWindowPosX(s)+s.getWidth());r=t.EventFactory.newOverviewEvent("rangeChange",o,l,void 0,void 0,a,n)}else{var h=this.getYPositionDate(this._oldStartPosY),g=this.getYPositionDate(this._oldEndPosY),d=this.getYPositionDate(this.getSlidingWindowPosY(s)),u=this.getYPositionDate(this.getSlidingWindowPosY(s)+s.getHeight());r=t.EventFactory.newOverviewEvent("rangeChange",void 0,void 0,d,u,void 0,void 0,h,g)}this.dispatchEvent(r)}dispatchEvent(e){this._callback.call(this._callbackObj,e,this)}destroy(){this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null),this.removeEvtListener(t.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.removeEvtListener(t.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.removeEvtListener(t.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.removeEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.removeEvtListener(t.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.removeEvtListener(t.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.removeEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.removeEvtListener(t.KeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),this.removeEvtListener(t.KeyboardEvent.KEYUP,this.HandleKeyUp,!1,this),super.destroy()}}e.Overview=R,e.OverviewParser=s,e.OverviewUtils=I,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojchart-toolkit",["exports","ojs/ojdvt-toolkit","ojs/ojdvt-axis","ojs/ojlegend-toolkit","ojs/ojdvt-overview"],function(e,t,i,r,s){"use strict";const a=(e,t)=>e+"; "+t,n=(e,i,r)=>null!=e&&null!=i&&t.Obj.compareValues(r,e,i);class o{constructor(e,t,i,r){this.id=e,this.series=t,this.group=i,this.context=r}equals(e){return e instanceof o&&(null!=this.id||null!=e.id?n(this.id,e.id,this.context):n(this.series,e.series,this.context)&&n(this.group,e.group,this.context))}toString(){return null!=this.id&&"object"!=typeof this.id?this.id.toString():a(this.series,this.group)}valueOf(){return this.toString()}}const l={_SUPPORTED_TYPES:["bar","line","area","lineWithArea","combo","pie","bubble","scatter","funnel","pyramid","stock","boxPlot"],isValidType:e=>l._SUPPORTED_TYPES.indexOf(e.getType())>=0,isSpark:e=>e.getOptions().__spark,isOverview:e=>e.getOptions()._isOverview,isVertical:e=>!l.isHorizontal(e)&&!l.isPolar(e),isHorizontal:e=>"horizontal"==e.getOptions().orientation&&!l.isPolar(e)&&!l.isStock(e)&&(l.isBLAC(e)||l.isFunnel(e)),isPolar:e=>"polar"==e.getOptions().coordinateSystem&&!l.isStock(e)&&!l.isBoxPlot(e),isCombo:e=>"combo"==e.getType(),isBar:e=>"bar"==e.getType(),isLine:e=>"line"==e.getType(),isLineWithArea:e=>"lineWithArea"==e.getType(),isArea:e=>"area"==e.getType(),isStock:e=>"stock"==e.getType(),isBoxPlot:e=>"boxPlot"==e.getType(),isScatter:e=>"scatter"==e.getType(),isBubble:e=>"bubble"==e.getType(),isPie:e=>"pie"==e.getType(),isFunnel:e=>"funnel"==e.getType(),isPyramid:e=>"pyramid"==e.getType(),isDualY:e=>!(!l.hasAxes(e)||l.isScatterBubble(e)||l.isPolar(e)),isBLAC:e=>{var t=e.getType();return"bar"==t||"line"==t||"area"==t||"lineWithArea"==t||"combo"==t||"stock"==t||"boxPlot"==t},isScatterBubble:e=>{var t=e.getType();return"scatter"==t||"bubble"==t},isLineArea:e=>{var t=e.getType();return"line"==t||"area"==t||"lineWithArea"==t},isScrollSupported:e=>!(l.isPie(e)||l.isFunnel(e)||l.isPolar(e)||l.isPyramid(e)),isOverviewSupported:e=>l.isBLAC(e)&&l.isVertical(e),hasAxes:e=>!("pie"==e.getType()||"funnel"==e.getType()||"pyramid"==e.getType()),isLegendRendered:e=>{var t=e.getOptions(),i=e.getOptionsCache().getFromCache("hasLargeSeriesCount"),r=t.legend;if("off"===r.rendered)return!1;if("auto"===r.rendered&&i)return!1;var s=e.getOptionsCache().getFromCache("hasSeriesDisplayedInLegend"),a=r.sections&&0!==r.sections.length,n=l.isStock(e),o=l.isFunnel(e),h=l.isPyramid(e);return!((n||o||h)&&!s&&!a)},hasTimeAxis:e=>l.isBLAC(e)&&"disabled"!=l.getTimeAxisType(e),hasGroupAxis:e=>l.isBLAC(e)&&"disabled"==l.getTimeAxisType(e),getTimeAxisType:e=>{var t=e.getOptions().timeAxisType;return t&&"auto"!=t&&l.isBLAC(e)&&!l.isPolar(e)?t:l.isStock(e)?"skipGaps":"disabled"},isMixedFrequency:e=>"mixedFrequency"==l.getTimeAxisType(e)},h={polarToCartesian:(e,i,r)=>{var s=r.x+r.w/2+e*Math.sin(i),a=r.y+r.h/2-e*Math.cos(i);return new t.Point(s,a)},convertAxisCoord:(e,i,r)=>{if(l.isPolar(e)){var s=h.polarToCartesian(i.y,i.x,r);return new t.Point(s.x,s.y)}return l.isHorizontal(e)?new t.Point(i.y,i.x):new t.Point(i.x,i.y)}},g={getValueFormat:(e,t)=>{var i=e.getOptions().valueFormats;return i?i[t]?i[t]:"group"==t&&l.hasTimeAxis(e)?g.getValueFormat(e,"x"):"y"!=t&&"y2"!=t&&"min"!=t&&"max"!=t||!l.isBLAC(e)?{}:g.getValueFormat(e,"value"):{}},formatVal:(e,t,r,s,a,n)=>{var o,l="auto",h="on";t.scaling&&(l=t.scaling),t.autoPrecision&&(h=t.autoPrecision),t.converter&&(o=t.converter),s=null!=s?s:r,a=null!=a?a:r,n=null!=n?n:0;var g=new i.LinearScaleAxisValueFormatter(s,a,n,l,h,e.getOptions().translations);return o&&o.format?g.format(r,o):g.format(r)},formatDateVal:(e,t)=>{var i=e.converter;if(!i)return null;if(i.format){let e=t;return"number"==typeof t&&i.resolvedOptions&&(e=new Date(t).toISOString()),i.format(e)}return null}},d={_SERIES_TYPE_RAMP:["bar","line","area"],hasData:e=>{var t=e.getOptions();if(!t||!t.series||t.series.length<1)return!1;for(var i=d.getSeriesCount(e),r=0;r<i;r++){var s=d.getSeriesItem(e,r);if(s&&s.items&&s.items.length>=1)return!0}return!1},hasInvalidData:e=>!d.hasData(e)||d.hasInvalidTimeData(e),hasInvalidTimeData:e=>{if(l.isFunnel(e)||l.isPie(e)||l.isPyramid(e))return!1;var t,i,r=e.getOptions(),s=d.getGroupCount(e);if(!r||!r.series||r.series.length<1)return!0;if(s<1)return!0;var a=d.getSeriesCount(e);if(l.isMixedFrequency(e))for(t=0;t<a;t++)for(i=0;i<s;i++){var n=d.getDataItem(e,t,i);if(n&&(null==n.x||isNaN(n.x)))return!0}else if(l.hasTimeAxis(e))for(i=0;i<s;i++){var o=d.getGroup(e,i);if(null==o||isNaN(o))return!0}return!1},hasSeriesData:(e,t)=>{var i=d.getSeriesItem(e,t).items;if(i)for(var r=0;r<i.length;r++)if(null!=i[r])return!0;return!1},getSeriesCount:e=>{var t=e.getOptions().series;return t?t.length:0},getY2SeriesCount:(e,t,i)=>{for(var r=0,s=d.getSeriesCount(e),a=0;a<s;a++)t&&d.getSeriesType(e,a)!=t||(i||d.isSeriesRendered(e,a))&&d.isAssignedToY2(e,a)&&r++;return r},getSeries:(e,t)=>{var i=d.getSeriesItem(e,t);return i?i.id?i.id:i.name||""===i.name?i.name:String(t):null},getSeriesLabel:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&(i.name||""===i.name)?i.name:null},getSeriesIdx:(e,t)=>{for(var i=d.getSeriesCount(e),r=0;r<i;r++){if(d.getSeries(e,r)==t)return r}return-1},getSeriesStyleIdx:(e,t)=>{if(e.getOptionsCache().getFromCache("hasLargeSeriesCount"))return t;var i=d.getSeries(e,t);return null==i?t:e.getSeriesStyleArray().indexOf(i)},getSeriesItem:(e,t)=>{if(isNaN(t)||null==t||t<0)return null;var i=e.getOptions();return i.series&&i.series.length>t?i.series[t]:null},getDataItem:(e,t,i)=>{if(isNaN(i)||null==i||i<0)return null;var r=d.getSeriesItem(e,t);return r&&r.items&&r.items.length>i?r.items[i]:null},getRawDataItem:(e,t,i)=>{if(isNaN(i)||null==i||i<0)return null;var r=e.getRawOptions().series[t].items[i];if("number"==typeof r)return r;if(!r)return null;var s=Object.assign({},r);return s.itemData=r._itemData,delete s._itemData,s},getDataItemId:(e,t,i)=>{var r=d.getDataItem(e,t,i);return r?null!=r.id?r.id:a(d.getSeries(e,t),d.getGroup(e,i)):null},getNestedDataItem:(e,t,i,r)=>{if(isNaN(r)||null==r||r<0)return null;var s=d.getDataItem(e,t,i);return s&&s.items&&s.items.length>r?s.items[r]:null},getNestedDataItemCount:(e,t,i)=>{var r=d.getDataItem(e,t,i);return r&&r.items?r.items.length:0},getNestedDataItemId:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);return s?null!=s.id?s.id:d.getDataItemId(e,t,i)+"; "+String(r):null},getNestedDataItemIdx:(e,t,i,r)=>{for(var s=d.getNestedDataItemCount(e,t,i),a=0;a<s;a++){var o=d.getNestedDataItemId(e,t,i,a);if(n(o,r,e.getCtx()))return a}return-1},getGroupCount:e=>d._getGroupsArray(e).length,getGroup:(e,t)=>{if(null!=t&&t>=0&&t<d.getGroupCount(e)){var i=d._getGroupsArray(e)[t];if(i)return null!=i.id?i.id:null!=i.name?i.name:String(t)}return null},getGroupIdx:(e,i)=>{for(var r=d.getGroups(e),s=0;s<r.length;s++)if(i instanceof Array&&r[s]instanceof Array?t.ArrayUtils.equals(i,r[s]):i===r[s])return s;return-1},getGroupLabel:(e,t)=>{if(t>=0&&t<d.getGroupCount(e)){var i=d._getGroupsArray(e)[t];if(i)return null!=i.name?i.name:null!=i.id||"string"!=typeof i?"":i}return null},getGroups:e=>{var t="groups",i=e.getOptionsCache().getFromCache(t);if(!i){var r=d.getGroupCount(e);i=[];for(var s=0;s<r;s++)i.push(d.getGroup(e,s));e.getOptionsCache().putToCache(t,i)}return i},_getGroupsArray:e=>{var t=e.getOptions(),i="groupsArray",r=e.getOptionsCache().getFromCache(i);if(!r){r=[],t.groups&&(r=d._getNestedGroups(t.groups,r));for(var s=0;s<r.length;s++)1==r[s].id.length&&(r[s].id=r[s].id[0],r[s].name=r[s].name[0]);e.getOptionsCache().putToCache(i,r)}return r},_getNestedGroups:(e,t)=>{if(!e||0==e.length)return[];for(var i=0;i<e.length;i++){var r=e[i],s=null,a=null;if(null!=r&&(s=null!=(s=null!=r.id?r.id:r.name)?s:r,a=r.name?r.name:r),"object"==typeof s&&(s=null),"object"==typeof a&&(a=null),r&&r.groups){var n=d._getNestedGroups(r.groups,[]);0==n.length&&n.push({id:[],name:[]});for(var o=0;o<n.length;o++)n[o].id.unshift(s),n[o].name.unshift(a);t=t.concat(n)}else t.push({id:[s],name:[a]})}return t},getNumLevels:e=>{var t="groupsNumLevels",i=e.getOptionsCache().getFromCache(t);if(null!=i)return i;i=0;for(var r=d._getGroupsArray(e),s=0;s<r.length;s++){var a=r[s];if(a&&a.id){var n=Array.isArray(a.id)?a.id.length:1;i=Math.max(i,n)}}return e.getOptionsCache().putToCache(t,i),i},getVal:(e,t,i,r)=>{var s,a="value",n="number"==typeof r&&r>=0;if(!n&&void 0!==(s=e.getOptionsCache().getFromCachedMap2D(a,t,i)))return s;var o=n?d.getNestedDataItem(e,t,i,r):d.getDataItem(e,t,i);return s=null,null!=o&&("object"!=typeof o?s=o:l.isStock(e)&&null!=o.close?s=o.close:null!=o.value?s=o.value:null!=o.y&&(s=o.y)),s=s||(0===s?0:null),n||e.getOptionsCache().putToCachedMap2D(a,t,i,s),s},getCumulativeVal:(e,t,i,r)=>{if(!d.isStacked(e))return d.getVal(e,t,i);var s=r?"cumValueH":"cumValue",a=e.getCache().getFromCachedMap2D(s,t,i);if(void 0!==a)return a;var n=d.getSeriesType(e,t),o=d.isAssignedToY2(e,t),l=d.getVal(e,t,i),h=d.getStackCategory(e,t),g="bar"==n?l<0:d.isSeriesNegative(e,t);a=0;for(var u=t;u>=0;u--)if((r||d.isDataItemRendered(e,u,i))&&n==d.getSeriesType(e,u)&&o==d.isAssignedToY2(e,u)&&d.getStackCategory(e,u)==h){var c=d.getVal(e,u,i),p="bar"==n?c<0:d.isSeriesNegative(e,u);if(g&&p||!g&&!p){var _=e.getCache().getFromCachedMap2D(s,u,i);if(void 0!==_){a=l+(_||0);break}a+=null==c||isNaN(c)?0:c}}return e.getCache().putToCachedMap2D(s,t,i,a),a},getLowVal:(e,t,i)=>{var r=d.getDataItem(e,t,i);return null==r?null:"candlestick"==d.getSeriesType(e,t)?null==r.low&&null!=r.close?null!=r.open?Math.min(r.close,r.open):r.close:r.low:null!=r.low&&null==r.close?r.low:null},getHighVal:(e,t,i)=>{var r=d.getDataItem(e,t,i);return null==r?null:"candlestick"==d.getSeriesType(e,t)?null==r.high?null!=r.open?Math.max(r.close,r.open):r.close:r.high:null!=r.high&&null==r.close?r.high:null},getXVal:(e,t,i)=>{var r=d.getDataItem(e,t,i);return d.getXValFromItem(e,r,i)},getXValFromItem:(e,t,i)=>null!=t&&null!=t.x?t.x:l.hasGroupAxis(e)?i:l.hasTimeAxis(e)&&!l.isMixedFrequency(e)?d.getGroupLabel(e,i):null,getTargetVal:(e,t)=>{var i=d.getDataItem(e,t,0);return null==i||"object"!=typeof i?null:i.targetValue},getZVal:(e,t,i,r)=>{var s=d.getDataItem(e,t,i);return null==s||"object"!=typeof s?r:null!=s.z?Math.max(0,s.z):r},isStockValRising:(e,t,i)=>{var r=d.getDataItem(e,t,i);return!r||r.open<=r.close},getCategories:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&s.categories)return s.categories;var a=d.getDataItem(e,t,i);if(a&&a.categories)return a.categories;var n=d.getSeriesItem(e,t);if(n&&n.categories)return n.categories;var o=d.getSeries(e,t);return null!=o?[o]:[]},isAssignedToY2:(e,t)=>{if(!e.getOptionsCache().getFromCache("hasY2Assignment"))return!1;var i=d.getSeriesItem(e,t);return i&&"on"==i.assignedToY2&&l.isDualY(e)},getInitialSelection:e=>{var t=e.getOptions().selection,i=null!=e.getOptions().data;t||(t=[]);for(var r=e.getChartObjPeers(),s=0;s<t.length;s++){var a=null==t[s].id||i?t[s]:t[s].id;if(null!=t[s].id||t[s].series||t[s].group||(t[s]={id:a}),!(null==a||t[s].series&&t[s].group))for(var o=0;o<r.length;o++){var l=r[o];if(n(a,l.getDataItemId(),e.getCtx())){t[s].series=l.getSeries(),t[s].group=l.getGroup();break}}}return t},getCurrentSelection:e=>{var t=[],i=e.getSelectionHandler();if(i)for(var r=i.getSelectedIds(),s=0;s<r.length;s++){var a=r[s];t.push({series:a.series,group:a.group,id:a.id})}return t},hasVolumeSeries:e=>{var t=e.getOptionsCache().getFromCache("hasVolume");return t||!1},isDataSelected:(e,t,i,r)=>{var s=!isNaN(r)&&null!=r&&r>=0?d.getNestedDataItemId(e,t,i,r):d.getDataItemId(e,t,i),a=d.getSeries(e,t),o=d.getGroup(e,i),l=e.getOptions().selection;l||(l=[]);for(var h=0;h<l.length;h++){if(n(s,l[h],e.getCtx())||n(s,l[h].id,e.getCtx()))return!0;if(null==l[h].id&&n(a,l[h].series,e.getCtx())&&n(o,l[h].group,e.getCtx()))return!0}return!1},getDefaultDataLabel:(e,t,i,r,s,a)=>{var n;if(a)n=d.getCumulativeVal(e,t,i);else{var o=!isNaN(r)&&null!=r&&r>=0?d.getNestedDataItem(e,t,i,r):d.getDataItem(e,t,i);if(!o)return null;n=o.label,"low"==s?n=n instanceof Array?n[0]:n:"high"==s&&(n=n instanceof Array?n[1]:null)}if(null!=n){if("number"==typeof n){var l,h,u,c=d.isAssignedToY2(e,t)&&e.y2Axis?e.y2Axis:e.yAxis;if(c){var p=c.getInfo();l=p.getGlobalMin(),h=p.getGlobalMax(),u=p.getMajorIncrement()}var _=g.getValueFormat(e,"label");return g.formatVal(e,_,n,l,h,u)}return n}return null},getStackCategory:(e,t)=>{var i="stackCategory",r=e.getCache().getFromCachedMap(i,t);return void 0!==r||(r=d.isStacked(e)?d.getSeriesItem(e,t).stackCategory||null:d.getSeries(e,t)||null,e.getCache().putToCachedMap(i,t,r)),r},getStackCategories:(e,t,i)=>{var r=[],s=[],a={},n={},o="stackCategories",l=e.getCache().getFromCachedMap2D(o,t,i);if(l)return l;for(var h=d.getSeriesCount(e),g=0;g<h;g++)if(d.isSeriesRendered(e,g)||i){if(t){var u=d.getSeriesType(e,g);if("candlestick"!=u&&"boxPlot"!=u||(u="bar"),t!=u)continue}var c=d.getStackCategory(e,g);d.isAssignedToY2(e,g)?n[c]||(s.push(c),n[c]=!0):a[c]||(r.push(c),a[c]=!0)}return l={y:r,y2:s},e.getCache().putToCachedMap2D(o,t,i,l),l},getBarCategoryZ:(e,t,i,r)=>{for(var s=0,a=d.getSeriesCount(e),n=0;n<a;n++){var o=d.getSeriesType(e,n);if(("bar"==o||"candlestick"==o||"boxPlot"==o)&&d.getStackCategory(e,n)==t&&d.isSeriesRendered(e,n)){var l=d.isAssignedToY2(e,n);(r&&l||!r&&!l)&&(s=Math.max(s,d.getZVal(e,n,i,1)))}}return s},getMarkerPos:(e,i,r,s,a)=>{var n,o,g=e.xAxis,u=d.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,c=l.isPolar(e),p=d.isRangeSeries(e,i),_=!isNaN(s)&&null!=s&&s>=0,m=d.getXVal(e,i,r),v=_?d.getVal(e,i,r,s):d.getCumulativeVal(e,i,r);if(l.isBubble(e)){if(c&&v<u.getInfo().getViewportMin())return null;n=c?g.getCoordAt(m):g.getUnboundedCoordAt(m),o=u.getUnboundedCoordAt(v)}else if(p){var f=u.getCoordAt(d.getLowVal(e,i,r)),y=u.getCoordAt(d.getHighVal(e,i,r));n=g.getCoordAt(d.getXVal(e,i,r)),o=(f+y)/2}else n=g.getCoordAt(m),o=u.getCoordAt(v);return null==n||null==o?null:h.convertAxisCoord(e,new t.Point(n,o),a)},getScatterBubbleMarkerPos:(e,i,r)=>{var s=e.xAxis,a=e.yAxis,n=d.getXVal(e,i,r),o=d.getVal(e,i,r),l=s.getCoordAt(n),h=a.getCoordAt(o);return null==l||null==h?null:new t.Point(l,h)},isSeriesNegative:(e,t)=>{if(!e.getOptionsCache().getFromCache("hasNegativeValues"))return!1;var i=e.getOptionsCache().getFromCachedMap("isSeriesNegative",t);if(null!=i)return i;var r=d.getGroupCount(e);i=!0;for(var s=0;s<r;s++){if(d.getVal(e,t,s)>0){i=!1;break}}return e.getOptionsCache().putToCachedMap("isSeriesNegative",t,i),i},getGroupsDataForContext:e=>{var t="groupsDataArray",i=e.getOptionsCache().getFromCache(t);if(!i){var r=e.getRawOptions();i=d._getNestedGroupsData(r.groups),e.getOptionsCache().putToCache(t,i)}return i},getSeriesDataForContext:(e,t)=>{var i=e.getRawOptions().series[t],r=Object.assign({},i);r.items=[];for(var s=0;s<i.items.length;s++){var a,n=i.items[s];(a="object"==typeof n?Object.assign({},i.items[s]):n)&&"object"==typeof a&&delete a._itemData,r.items.push(a)}return r},_getNestedGroupsData:e=>{if(!e)return[];for(var t=[],i=0;i<e.length;i++){var r=e[i];if(r.groups){for(var s=d._getNestedGroupsData(r.groups),a=0;a<s.length;a++)s[a].unshift(r);t=t.concat(s)}else t.push([r])}return t},_computeOutermostBarMap:e=>{if(!e.getOptionsCache().getFromCache("outermostBar")){for(var t={},i=d.getSeriesCount(e),r=e.getOptionsCache().getFromCache("hasNegativeValues"),s=i-1;s>=0;s--)if(d.isSeriesRendered(e,s)&&"bar"==d.getSeriesType(e,s)){var a=(d.getStackCategory(e,s)||"")+d.isAssignedToY2(e,s);t[a]?t[a].push(s):t[a]=[s]}var n=d.getGroupCount(e);for(var o in t)for(var l=t[o],h=0;h<n;h++)for(var g=!1,u=!1,c=0;c<l.length&&!(!r&&g||g&&u);c++)if(s=l[c],d.isDataItemRendered(e,s,h)){var p=d.getVal(e,s,h);null==p?e.getOptionsCache().putToCachedMap2D("outermostBar",s,h,!1):!g&&p>=0?(g=!0,e.getOptionsCache().putToCachedMap2D("outermostBar",s,h,!0)):!u&&p<0&&(u=!0,e.getOptionsCache().putToCachedMap2D("outermostBar",s,h,!0))}}},isOutermostBar:(e,t,i)=>(d._computeOutermostBarMap(e),e.getOptionsCache().getFromCachedMap2D("outermostBar",t,i)||!1),isDataItemFiltered:(e,t,i)=>{var r=d.getDataItem(e,t,i);return!(!r||!r._filtered)},isStacked:e=>!("on"!=e.getOptions().stack||l.isMixedFrequency(e)||d.getSeriesCount(e)<2)&&l.isBLAC(e),isSplitDualY:e=>!(!l.isStock(e)||!d.hasVolumeSeries(e)||l.isOverview(e))||"on"==e.getOptions().splitDualY&&d.hasY2Data(e)&&!d.hasY2DataOnly(e),hasY2DataOnly:e=>!!l.isDualY(e)&&d.getY2SeriesCount(e,null,!0)==d.getSeriesCount(e),hasY2Data:(e,t)=>!!l.isDualY(e)&&d.getY2SeriesCount(e,null,!0)>0,hasY2BarData:e=>d.hasY2Data(e,"bar"),hasBarSeries:e=>d._hasSeriesType(e,"bar"),hasLineSeries:e=>d._hasSeriesType(e,"line"),hasAreaSeries:e=>d._hasSeriesType(e,"area"),hasLineWithAreaSeries:e=>d._hasSeriesType(e,"lineWithArea"),hasCandlestickSeries:e=>d._hasSeriesType(e,"candlestick"),hasBoxPlotSeries:e=>d._hasSeriesType(e,"boxPlot"),_hasSeriesType:(e,t)=>{if(l.isBLAC(e))for(var i=d.getSeriesCount(e),r=0;r<i;r++)if(d.isSeriesRendered(e,r)&&d.getSeriesType(e,r)==t)return!0;return!1},getRefObjs:e=>{var t=d.getAxisRefObjs(e,"x"),i=d.getAxisRefObjs(e,"y"),r=d.getAxisRefObjs(e,"y2");return t.concat(i,r)},getAxisRefObjs:(e,t)=>{var i=e.getOptions();return i&&i[t+"Axis"]&&i[t+"Axis"].referenceObjects?i[t+"Axis"].referenceObjects:[]},getSeriesType:(e,t)=>{var i="seriesType",r=e.getOptionsCache().getFromCachedMap(i,t);if(r)return r;if(!l.isBLAC(e))return e.getOptionsCache().putToCachedMap(i,t,"auto"),"auto";var s=d.getSeriesItem(e,t);if(r=s?s.type:null,l.isStock(e)||"candlestick"!=r||(r="auto"),!r||"auto"==r)if(l.isBar(e))r="bar";else if(l.isLine(e))r="line";else if(l.isArea(e))r="area";else if(l.isLineWithArea(e))r="lineWithArea";else if(l.isStock(e))r="candlestick";else if(l.isBoxPlot(e))r="boxPlot";else if(l.isCombo(e)){var a=d.getSeriesStyleIdx(e,t)%d._SERIES_TYPE_RAMP.length;r=d._SERIES_TYPE_RAMP[a]}return e.getOptionsCache().putToCachedMap(i,t,r),r},getHiddenCategories:e=>{var t=e.getOptions();return t.hiddenCategories||(t.hiddenCategories=[]),t.hiddenCategories},getHighlightedCategories:e=>{var t=e.getOptions();return t.highlightedCategories||(t.highlightedCategories=[]),t.highlightedCategories},isSeriesRendered:(e,i)=>{var r=d.getHiddenCategories(e);return!(r.length>0&&t.ArrayUtils.hasAnyItem(r,d.getCategories(e,i)))},isDataItemRendered:(e,i,r,s)=>{var a,n="isDataItemRendered",o=!isNaN(s)&&null!=s&&s>=0;if(!o&&void 0!==(a=e.getOptionsCache().getFromCachedMap2D(n,i,r)))return a;if(a=!0,d.isSeriesRendered(e,i)){var h=d.getHiddenCategories(e);h.length>0&&((l.isPie(e)||l.isFunnel(e)||l.isPyramid(e))&&(r=0),t.ArrayUtils.hasAnyItem(h,d.getCategories(e,i,r))&&(a=!1),t.ArrayUtils.hasAnyItem(h,d.getCategories(e,i,r,s))&&(a=!1))}else a=!1;return o||e.getOptionsCache().putToCachedMap2D(n,i,r,a),a},isRangeSeries:(e,t)=>{var i=e.getOptionsCache();if(!i.getFromCache("hasLowHighSeries"))return!1;var r="isRange",s=i.getFromCachedMap(r,t);if(null!=s)return s;s=!1;var a=d.getSeriesType(e,t);if("bar"==a||"area"==a)for(var n=0;n<d.getGroupCount(e);n++)if(null!=d.getLowVal(e,t,n)||null!=d.getHighVal(e,t,n)){s=!0;break}return e.getOptionsCache().putToCachedMap(r,t,s),s},isSeriesDrillable:(e,t)=>{var i=d.getSeriesItem(e,t),r=null!=i?i.drilling:"inherit";return"on"==r||"off"!=r&&("on"==(r=e.getOptions().drilling)||"seriesOnly"==r)},isDataItemDrillable:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);s||(s=d.getDataItem(e,t,i));var a=null!=s?s.drilling:"inherit";return"on"==a||"off"!=a&&"on"==(a=e.getOptions().drilling)},isMultiSeriesDrillEnabled:e=>"on"===e.getOptions().multiSeriesDrilling};class u extends t.BaseComponentDefaults{constructor(e){super({alta:{skin:t.CSSStyle.SKIN_ALTA,emptyText:null,type:"bar",stack:"off",stackLabel:"off",orientation:"vertical",polarGridShape:"circle",selectionMode:"none",hideAndShowBehavior:"none",hoverBehavior:"none",zoomAndScroll:"off",zoomDirection:"auto",initialZooming:"none",dragMode:"user",sorting:"off",otherThreshold:0,animationOnDataChange:"none",animationOnDisplay:"none",__sparkBarSpacing:"subpixel",__spark:!1,dataCursor:"auto",dataCursorBehavior:"auto",drilling:"off",highlightMatch:"all",series:[],groups:[],title:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_13+"color: #252525;"),halign:"start"},subtitle:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #252525;")},footnote:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),halign:"start"},titleSeparator:{upperColor:"#74779A",lowerColor:"#FFFFFF",rendered:"off"},touchResponse:"auto",_statusMessageStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"color: #252525;"),_dropColor:"#D9F4FA",xAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear"},yAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear"},y2Axis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear",alignTickMarks:"on"},pieCenter:{labelStyle:new t.CSSStyle("")},zAxis:{},plotArea:{backgroundColor:null},legend:{position:"auto",rendered:"auto",layout:{gapRatio:1},seriesSection:{},referenceObjectSection:{},sections:[]},overview:{rendered:"off"},dnd:{drag:{items:{},series:{},groups:{}},drop:{plotArea:{},xAxis:{},yAxis:{},y2Axis:{},legend:{}}},styleDefaults:{colors:t.CSSStyle.COLORS_ALTA,borderColor:"auto",borderWidth:"auto",patterns:["smallDiagonalRight","smallChecker","smallDiagonalLeft","smallTriangle","smallCrosshatch","smallDiamond","largeDiagonalRight","largeChecker","largeDiagonalLeft","largeTriangle","largeCrosshatch","largeDiamond"],shapes:["square","circle","diamond","plus","triangleDown","triangleUp"],seriesEffect:"color",threeDEffect:"off",selectionEffect:"highlight",animationDuration:1e3,animationIndicators:"all",animationUpColor:"",animationDownColor:"",lineStyle:"solid",lineType:"auto",markerDisplayed:"auto",markerColor:null,markerShape:"auto",markerSize:10,marqueeColor:"",marqueeBorderColor:"",pieFeelerColor:"#BAC5D6",pieInnerRadius:0,selectedInnerColor:"#ffffff",selectedOuterColor:"#5a5a5a",sliceLabelType:"percent",otherColor:"#4b4b4b",dataItemGaps:"auto",dataLabelStyle:new t.CSSStyle(""),_dataLabelStyle:new t.CSSStyle(""),dataLabelPosition:"auto",funnelBackgroundColor:"#EDEDED",x1Format:{},y1Format:{},y2Format:{},zFormat:{},_defaultSliceLabelColor:"#333333",_scrollbarHeight:3,_scrollbarTrackColor:"#F0F0F0",_scrollbarHandleColor:"#9E9E9E",hoverBehaviorDelay:200,dataCursor:{markerSize:8,markerDisplayed:"on",lineStyle:"solid"},groupSeparators:{rendered:"on",color:"rgba(138,141,172,0.4)"},tooltipLabelStyle:new t.CSSStyle(""),tooltipValueStyle:new t.CSSStyle(""),stackLabelStyle:new t.CSSStyle(""),boxPlot:{whiskerSvgStyle:{},whiskerEndSvgStyle:{strokeWidth:2},whiskerEndLength:"9px",medianSvgStyle:{strokeWidth:3}}},layout:{gapWidthRatio:null,gapHeightRatio:null,outerGapWidth:10,outerGapHeight:8,titleSubtitleGapWidth:14,titleSubtitleGapHeight:4,titleSeparatorGap:6,titlePlotAreaGap:16,footnoteGap:10,verticalAxisGap:6,legendGapWidth:15,legendGapHeight:10,tickLabelGapHeight:8,tickLabelGapWidth:9},_locale:"en-us",_resources:{}}},e)}static getGapWidth(e,t){return Math.ceil(t*e.getGapWidthRatio())}static getGapHeight(e,t){return Math.ceil(t*e.getGapHeightRatio())}getNoCloneObject(){return{series:{items:{_itemData:!0}},data:!0,valueFormats:{close:{converter:!0},high:{converter:!0},label:{converter:!0},low:{converter:!0},open:{converter:!0},q1:{converter:!0},q2:{converter:!0},q3:{converter:!0},targetValue:{converter:!0},value:{converter:!0},volume:{converter:!0},x:{converter:!0},y:{converter:!0},y2:{converter:!0},z:{converter:!0}},pieCenter:{converter:!0},xAxis:{tickLabel:{converter:!0}},yAxis:{tickLabel:{converter:!0}},y2Axis:{tickLabel:{converter:!0}}}}}const c={OTHER_ID:"_dvtOther",getSliceId:(e,t)=>{var i=d.getDataItem(e,t,0),r=i?i.id:null,s=d.getSeries(e,t),a=d.getGroup(e,0);return new o(r,s,a,e.getCtx())},getOtherSliceId:e=>{var t=d.getGroup(e,0);return new o(null,c.OTHER_ID,t,e.getCtx())},getRenderedSeriesIndices:e=>c._getSeriesIndicesArrays(e).rendered,hasOtherSeries:e=>c._getSeriesIndicesArrays(e).other.length>0,getOtherVal:e=>{for(var t=c._getSeriesIndicesArrays(e).other,i=0,r=0;r<t.length;r++){var s=t[r];if(d.isSeriesRendered(e,s)){var a=d.getVal(e,s,0);a>0&&(i+=a)}}return i},getOtherSliceIds:e=>{for(var t=c._getSeriesIndicesArrays(e).other,i=[],r=0;r<t.length;r++){var s=t[r];i.push(c.getSliceId(e,s))}return i},isOtherSliceSelected:(e,t)=>{for(var i=c.getOtherSliceIds(e),r=0;r<i.length;r++){for(var s=i[r],a=!1,n=0;n<t.length;n++)if(null!=t[n].id&&s.id===t[n].id||s.series===t[n].series&&s.group===t[n].group){a=!0;break}if(!a)return!1}return!0},_getSeriesIndicesArrays:e=>{for(var t=[],i=[],r=d.getSeriesCount(e),s=e.getOptions(),a=s.otherThreshold*c.getTotalVal(e),n=0;n<r;n++){var o=d.getVal(e,n,0);a>0&&o<a?i.push(n):t.push(n)}return"ascending"==s.sorting?t.sort((t,i)=>d.getVal(e,t,0)-d.getVal(e,i,0)):"on"!=s.sorting&&"descending"!=s.sorting||t.sort((t,i)=>d.getVal(e,i,0)-d.getVal(e,t,0)),{rendered:t,other:i}},getTotalVal:e=>{for(var t=d.getSeriesCount(e),i=0,r=0;r<t;r++){var s=d.getVal(e,r,0);s>0&&(i+=s)}return i},getSliceExplode:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&i.pieSliceExplode?i.pieSliceExplode:0},getSliceBySeriesIdx:(e,t)=>{for(var i=e.pieChart.__getSlices(),r=0;r<i.length;r++)if(i[r].getSeriesIndex()==t)return i[r];return null}},p={MARKER_DATA_LABEL_GAP:4,SERIES_PATTERN_BG_COLOR:"#FFFFFF",getSeriesEffect:e=>e.getOptions().styleDefaults.seriesEffect,getColor:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&r.color)return r.color;var s=d.getSeriesItem(e,t);if(s&&s.color)return s.color;if("candlestick"==d.getSeriesType(e,t))return p.getStockItemColor(e,t,i);var a=e.getOptions().styleDefaults.colors;return a[d.getSeriesStyleIdx(e,t)%a.length]},getStockItemColor:(e,t,i)=>{var r=e.getOptions();return d.isStockValRising(e,t,i)?r.styleDefaults.stockRisingColor:r.styleDefaults.stockFallingColor},getStockVolumeColor:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&r.color)return r.color;var s=e.getOptions();return s.styleDefaults.stockVolumeColor?s.styleDefaults.stockVolumeColor:p.getStockItemColor(e,t,i)},getSplitterPos:e=>{var t=e.getOptions().splitterPosition;return null!=t?t:l.isStock(e)?.8:.5},getPattern:(e,i,r,s)=>{var a=d.getNestedDataItem(e,i,r,s);if(a&&a.pattern&&"auto"!=a.pattern)return a.pattern;var n=d.getDataItem(e,i,r);if(n&&n.pattern&&"auto"!=n.pattern)return n.pattern;var o=d.getSeriesType(e,i);if(("line"==o||"area"==o)&&null!=r)return null;var h=d.getSeriesItem(e,i);if(h&&h.pattern&&"auto"!=h.pattern)return h.pattern;if("pattern"==p.getSeriesEffect(e)){if(l.isStock&&"candlestick"==d.getSeriesType(e,i)){var g=d.isStockValRising(e,i,r),u=t.Agent.isRightToLeft(e.getCtx());return g?u?"smallDiagonalLeft":"smallDiagonalRight":u?"smallDiagonalRight":"smallDiagonalLeft"}var c=e.getOptions().styleDefaults.patterns;return c[d.getSeriesStyleIdx(e,i)%c.length]}return null},getMarkerBorderColor:(e,t,i,r)=>{var s=p.getBorderColor(e,t,i,r);return s||p.getDefaultMarkerBorderColor(e,t,i,r)},getDefaultMarkerBorderColor:(e,i,r,s)=>{if("redwood"===e.getCtx().getThemeBehavior()&&!d.isRangeSeries(e,i))return p.getMarkerColor(e,i,r,s);if(p.getDataItemGaps(e)>0&&"lineWithArea"!=d.getSeriesType(e,i))return p.getBackgroundColor(e,!0);if(l.isBubble(e)&&"gradient"!=p.getSeriesEffect(e)){var a=p.getMarkerColor(e,i,r);if(a)return t.ColorUtils.adjustHSL(a,0,.15,-.25)}return null},getBorderColor:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&s.borderColor)return s.borderColor;var a=d.getDataItem(e,t,i);if(a&&a.borderColor)return a.borderColor;var n=d.getSeriesItem(e,t);if(n&&n.borderColor)return n.borderColor;var o=e.getOptions().styleDefaults;return"auto"!=o.borderColor?o.borderColor:null},getUserBorderWidth:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&null!=s.borderWidth)return s.borderWidth;var a=d.getDataItem(e,t,i);if(a&&null!=a.borderWidth)return a.borderWidth;var n=d.getSeriesItem(e,t);if(n&&null!=n.borderWidth)return n.borderWidth;var o=e.getOptions().styleDefaults;return"auto"!=o.borderWidth?o.borderWidth:null},getDefaultBorderWidth:e=>l.isScatterBubble(e)||l.isLineArea(e)?1.25:1,getDefaultMarkerBorderWidth:e=>"redwood"===e.getCtx().getThemeBehavior()?0:p.getDefaultBorderWidth(e),getBorderWidth:(e,t,i,r)=>{var s=p.getUserBorderWidth(e,t,i,r);return null!=s?s:p.getDefaultBorderWidth(e)},getMarkerColor:(e,t,i,r)=>{if(!p.isMarkerDisplayed(e,t,i,r))return p.getColor(e,t,i);var s=d.getNestedDataItem(e,t,i,r);if(s&&s.color)return s.color;var a=d.getDataItem(e,t,i);if(a&&a.color)return a.color;var n=d.getSeriesItem(e,t);if(n&&n.markerColor)return n.markerColor;var o=e.getOptions().styleDefaults.markerColor;return o||p.getColor(e,t,i)},getMarkerShape:(e,t,i,r)=>{var s=e.getOptions(),a=s.styleDefaults.markerShape,n=d.getSeriesItem(e,t);n&&n.markerShape&&(a=n.markerShape);var o=d.getDataItem(e,t,i);o&&o.markerShape&&(a=o.markerShape);var h=d.getNestedDataItem(e,t,i,r);if(h&&h.markerShape&&(a=h.markerShape),"auto"==a)if(l.isBubble(e)||"boxPlot"==d.getSeriesType(e,t)||d.isRangeSeries(e,t))a="circle";else{var g=d.getSeriesStyleIdx(e,t),u=s.styleDefaults.shapes;a=u[g%u.length]}return a},getMarkerSize:(e,t,i,r)=>{var s;if(l.isBubble(e)&&(s=e.getOptionsCache().getFromCachedMap2D("bubbleSizeCache",t,i)))return s;var a=d.getNestedDataItem(e,t,i,r);if(a&&null!=a.markerSize)s=Number(a.markerSize);else{var n=d.getDataItem(e,t,i);if(n&&null!=n.markerSize)s=Number(n.markerSize);else{var o=d.getSeriesItem(e,t);s=o&&null!=o.markerSize?Number(o.markerSize):Number(e.getOptions().styleDefaults.markerSize)}}return l.isOverview(e)&&(s=Math.ceil(.6*s)),s},isMarkerDisplayed:(e,t,i,r)=>{var s,a=d.getNestedDataItem(e,t,i,r);if(a&&null!=a.markerDisplayed)s=a.markerDisplayed;else{var n=d.getDataItem(e,t,i);if(n&&null!=n.markerDisplayed)s=n.markerDisplayed;else{var o=d.getSeriesItem(e,t);s=o&&null!=o.markerDisplayed?o.markerDisplayed:e.getOptions().styleDefaults.markerDisplayed}}return"on"===s||"off"!==s&&(!(!l.isCombo(e)||"auto"!==s)||(l.isScatterBubble(e)||"boxPlot"==d.getSeriesType(e,t)||"none"==p.getLineType(e,t)))},getImageSource:(e,t,i,r,s)=>{var a=d.getNestedDataItem(e,t,i,r);if(a&&a[s])return a[s];var n=d.getDataItem(e,t,i);if(n&&n[s])return n[s];var o=d.getSeriesItem(e,t);return o&&o[s]?o[s]:void 0},getLineWidth:(e,t)=>{var i,r=d.getSeriesItem(e,t),s=e.getOptions();return i=r&&r.lineWidth?r.lineWidth:s.styleDefaults.lineWidth?s.styleDefaults.lineWidth:"lineWithArea"==d.getSeriesType(e,t)?2:3,l.isOverview(e)&&(i=Math.ceil(.6*i)),i},getLineStyle:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&i.lineStyle?i.lineStyle:e.getOptions().styleDefaults.lineStyle},getLineType:(e,t)=>{var i,r=d.getSeriesItem(e,t);return"auto"==(i=r&&r.lineType?r.lineType:e.getOptions().styleDefaults.lineType)&&(i=l.isScatterBubble(e)?"none":"straight"),(l.isPolar(e)||l.isScatterBubble(e))&&("centeredSegmented"==i&&(i="segmented"),"centeredStepped"==i&&(i="stepped")),i},getBarSpacing:e=>e.getOptions().__sparkBarSpacing,getMaxBarWidth:e=>{var t=e.getOptions().styleDefaults.maxBarWidth;return null==t||l.isPolar(e)?1/0:t},getBarWidth:(e,t,i)=>{e.getOptionsCache().getFromCache("hasConstantZValue")&&(t=0,i=0);var r="barWidth",s=e.getCache().getFromCachedMap2D(r,t,i);if(null!=s)return s;var a=d.getZVal(e,t,i,1)/e.getOptions()._averageGroupZ;return s=Math.min(a*p.getGroupWidth(e),p.getMaxBarWidth(e)),e.getCache().putToCachedMap2D(r,t,i,s),s},getBarStackWidth:(e,t,i,r)=>{e.getOptionsCache().getFromCache("hasConstantZValue")&&(i=0);var s=r?"y2BarStackWidth":"yBarStackWidth",a=e.getCache().getFromCachedMap2D(s,t,i);if(null!=a)return a;var n=d.getBarCategoryZ(e,t,i,r)/e.getOptions()._averageGroupZ;return a=Math.min(n*p.getGroupWidth(e),p.getMaxBarWidth(e)),e.getCache().putToCachedMap2D(s,t,i,a),a},getBarCategoryOffsetMap:(e,t)=>{e.getOptionsCache().getFromCache("hasConstantZValue")&&(t=0);var i="barCategoryOffsetMap",r=e.getCache().getFromCachedMap(i,t);if(r)return r;var s,a,n=d.isStacked(e),o=d.getStackCategories(e,"bar"),h=l.isMixedFrequency(e),g=d.isSplitDualY(e),u={},c={},_=0,m=0;if(n){for(a=0;a<o.y.length;a++)s=p.getBarStackWidth(e,o.y[a],t,!1),h?u[o.y[a]]=-.5*s:(u[o.y[a]]=_,_+=s);for(g||(m=_),a=0;a<o.y2.length;a++)s=p.getBarStackWidth(e,o.y2[a],t,!0),h?c[o.y2[a]]=-.5*s:(c[o.y2[a]]=m,m+=s);g||(_=m)}else for(var v=d.getSeriesCount(e),f=0;f<v;f++){var y=d.getSeriesType(e,f);if(("bar"==y||"candlestick"==y||"boxPlot"==y)&&d.isSeriesRendered(e,f)){var C=d.isAssignedToY2(e,f),x=d.getStackCategory(e,f);s=p.getBarWidth(e,f,t),C?h?c[x]=-.5*s:(c[x]=m,m+=s):h?u[x]=-.5*s:(u[x]=_,_+=s)}}for(var S in u)u[S]-=g||n?_/2:(_+m)/2;for(var b in c)c[b]-=g||n?m/2:(_+m)/2-_;return r={y:u,y2:c},e.getCache().putToCachedMap(i,t,r),r},getDataItemGaps:e=>{var t="dataItemGaps",i=e.getOptionsCache().getFromCache(t);if(null!=i)return i;var r=e.getOptions();if(null!=r.styleDefaults.sliceGaps)i=r.styleDefaults.sliceGaps;else{var s=r.styleDefaults.dataItemGaps;"auto"==s&&(s="on"==r.styleDefaults.threeDEffect?"0%":"50%");var a=s&&s.indexOf?s.indexOf("%"):-1;i=a>=0?(s=s.substring(0,a))/100:0}return e.getOptionsCache().putToCache(t,i),i},isSelectable:(e,t,i)=>{var r=d.getSeriesItem(e,t);return(!r||"off"!=r._selectable)&&(e.isSelectionSupported()&&null!=t&&t>=0&&null!=i&&i>=0)},getAnimOnDisplay:e=>e.getOptions().animationOnDisplay,getAnimOnDataChange:e=>e.getOptions().animationOnDataChange,getAnimDur:e=>t.CSSStyle.getTimeMilliseconds(e.getOptions().styleDefaults.animationDuration)/1e3,getAnimIndicators:e=>e.getOptions().styleDefaults.animationIndicators,getAnimUpColor:e=>e.getOptions().styleDefaults.animationUpColor,getAnimDownColor:e=>e.getOptions().styleDefaults.animationDownColor,getSelectedInnerColor:e=>e.getOptions().styleDefaults.selectedInnerColor,getSelectedOuterColor:e=>e.getOptions().styleDefaults.selectedOuterColor,isSelectionHighlighted:e=>{var t=e.getOptions().styleDefaults.selectionEffect;return"highlight"==t||"highlightAndExplode"==t},isSelectionExploded:e=>{var t=e.getOptions().styleDefaults.selectionEffect;return"explode"==t||"highlightAndExplode"==t},getDataLabelStyle:(e,i,r,s,a,n,o)=>{var h,g=e.getOptions().styleDefaults,u=[g._dataLabelStyle,g.dataLabelStyle];const c=d.getSeriesType(e,i);p.supportsLabelOutline(e,i)||!a||"bar"!=c&&!l.isBubble(e)||"center"!=n&&"inBottom"!=n&&"inTop"!=n&&"inRight"!=n&&"inLeft"!=n||(h=null!=p.getPattern(e,i,r,s)?"#000000":t.ColorUtils.getContrastingTextColor(a),u.push(new t.CSSStyle("color: "+h+";"))),u.push(p._parseLowHighArray(e.getOptions().styleDefaults.dataLabelStyle,o));var _=d.getDataItem(e,i,r);_&&u.push(new t.CSSStyle(p._parseLowHighArray(_.labelStyle,o)));var m=d.getNestedDataItem(e,i,r,s);return m&&u.push(new t.CSSStyle(p._parseLowHighArray(m.labelStyle,o))),h&&t.Agent.isHighContrast()&&u.push(new t.CSSStyle("color: "+h+";")),t.CSSStyle.mergeStyles(u)},getDataLabelCollisions:(e,t,i,r,s)=>{var a=t&&t.x&&t.x-i.w/2||i.x,n=t&&t.y&&t.y-i.h/2||i.y,o=p.MARKER_DATA_LABEL_GAP/2,l=e.getOptions(),h=s?u.getGapHeight(e,l.layout.legendGapHeight):u.getGapWidth(e,l.layout.legendGapWidth);return{xAxis:n+i.h+o>r.y+r.h,yAxis:a+o<r.x,y2Axis:a+i.w+o>r.x+r.w,legend:a+i.w+o>r.x+r.w+h,top:n<e.getDimensions().y}},adjustDataLabelPos:(e,t,i)=>{var r=e;return"left"!=e&&"center"!=e||!t.yAxis?"right"!=e&&"center"!=e||!(i&&t.y2Axis||t.legend)?"top"!=e&&"center"!=e||!t.top?"bottom"!=e&&"center"!=e||!t.xAxis||(r="top"):r="bottom":r="left":r="right",r},_parseLowHighArray:(e,t)=>e instanceof Array?"high"==t?e[1]:e[0]:e,isOverviewRendered:e=>{var t=e.getOptions();return l.isOverviewSupported(e)&&"off"!=t.overview.rendered},getOverviewHeight:e=>{var t=e.getOptions().overview.height;return null==t&&(t=l.hasTimeAxis(e)?.25:.2),p.getSizeInPixels(t,e.getHeight())},getSizeInPixels:(e,t)=>{if("string"==typeof e){if("%"==e.slice(-1))return t*Number(e.slice(0,-1))/100;if("px"==e.slice(-2))return Number(e.slice(0,-2));e=Number(e)}return"number"==typeof e?e<=1?t*e:e:0},getBackgroundColor:(e,t)=>{var i=e.getOptions();return i.plotArea.backgroundColor?i.plotArea.backgroundColor:t?"#FFFFFF":null},getHoverBehaviorDelay:e=>{var i=e.getOptions().styleDefaults.hoverBehaviorDelay;return i?(i=t.CSSStyle.getTimeMilliseconds(i),l.isScatterBubble(e)||l.isLine(e)?.75*i:1.25*i):0},optimizeMarkerStroke:e=>l.isScatterBubble(e)||l.isBoxPlot(e),getGroupWidth:e=>{var t="groupWidth",i=e.getCache().getFromCache(t);return null==i&&(i=e.xAxis.getInfo().getGroupWidth(),e.getCache().putToCache(t,i)),i},isStackLabelRendered:e=>{var t=e.getOptions();return"on"==t.stack&&!l.isMixedFrequency(e)&&("on"===t.stackLabel&&l.isBLAC(e))},optimizeMarkerFill:e=>l.isLineArea(e),getClassName:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&(r.className||r.svgClassName))return r.className||r.svgClassName;var s=d.getSeriesItem(e,t);return s&&(s.className||s.svgClassName)?s.className||s.svgClassName:null},getAreaClassName:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&(i.areaClassName||i.areaSvgClassName)?i.areaClassName||i.areaSvgClassName:i&&(i.className||i.svgClassName)?i.className||i.svgClassName:null},getMarkerClassName:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&(s.className||s.svgClassName))return s.className||s.svgClassName;var a=d.getDataItem(e,t,i);if(a&&(a.className||a.svgClassName))return a.className||a.svgClassName;var n=d.getSeriesItem(e,t);return n&&(n.markerClassName||n.markerSvgClassName)?n.markerClassName||n.markerSvgClassName:l.isScatterBubble(e)&&n&&(n.className||n.svgClassName)?n.className||n.svgClassName:null},getStyle:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&(r.style||r.svgStyle))return r.style||r.svgStyle;var s=d.getSeriesItem(e,t);return s&&(s.style||s.svgStyle)?s.style||s.svgStyle:null},getAreaStyle:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&(i.areaStyle||i.areaSvgStyle)?i.areaStyle||i.areaSvgStyle:i&&(i.style||i.svgStyle)?i.style||i.svgStyle:null},getMarkerStyle:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&(s.style||s.svgStyle))return s.style||s.svgStyle;var a=d.getDataItem(e,t,i);if(a&&(a.style||a.svgStyle))return a.style||a.svgStyle;var n=d.getSeriesItem(e,t);return n&&(n.markerStyle||n.markerSvgStyle)?n.markerStyle||n.markerSvgStyle:l.isScatterBubble(e)&&n&&(n.style||n.svgStyle)?n.style||n.svgStyle:null},getBoxPlotStyleOptions:(e,i,r)=>{var s=d.getDataItem(e,i,r),a=s&&s.boxPlot?s.boxPlot:{},n=d.getSeriesItem(e,i),o=n&&n.boxPlot?n.boxPlot:{},l=e.getOptions().styleDefaults.boxPlot,h=t.JsonUtils.merge(a,t.JsonUtils.merge(o,l)),g=p.getColor(e,i,r);h._color=g;var u=t.ColorUtils.getBrighter(g,.8);if(h.q2Color||(h.q2Color=u),h.q3Color||(h.q3Color=u),"pattern"==p.getSeriesEffect(e)){var c=p.getPattern(e,i,r);h._q2Pattern=c,h._q3Pattern=c}var _=p.getBorderColor(e,i,r);h.borderColor=_||g,h.borderWidth=p.getBorderWidth(e,i,r);var m=t.ColorUtils.getDarker(g,.1);return p._setBoxPlotDefaultLineColor(h,"whisker",m),p._setBoxPlotDefaultLineColor(h,"whiskerEnd",m),p._setBoxPlotDefaultLineColor(h,"median",m),h},_setBoxPlotDefaultLineColor:(e,i,r)=>{var s=t.JsonUtils.merge(e[i+"Style"],e[i+"SvgStyle"]);e[i+"SvgStyle"]=s,e[i+"Style"]=null,!s||s.stroke||e[i+"ClassName"]||e[i+"SvgClassName"]||(e[i+"SvgStyle"].stroke=r)},getDataContext:(e,t,i,r)=>{var s,a=d.getSeriesItem(e,t),n=d.getDataItem(e,t,i),o=d.getNestedDataItem(e,t,i,r),h=e.getRawOptions(),g=l.isPie(e)&&(null==t||t<0),u=e.getOptions();if(g){var _=u.translations.labelOther;s={id:_,series:_,value:c.getOtherVal(e),color:u.styleDefaults.otherColor}}else if(o){var m=h.series[t].items[i];m._noTemplate?m=m._itemData:m&&"object"==typeof m&&delete(m=Object.assign({},m))._itemData,s={id:d.getNestedDataItemId(e,t,i,r),data:[m,m.items[r]],value:d.getVal(e,t,i,r),y:d.getVal(e,t,i,r),color:p.getMarkerColor(e,t,i,r),itemData:u.series[t].items[i]._itemData}}else if(n){var v=h.series[t].items[i];v._noTemplate?v=v._itemData:v&&"object"==typeof v&&delete(v=Object.assign({},v))._itemData,s={id:d.getDataItemId(e,t,i),data:v,value:d.getVal(e,t,i),targetValue:d.getTargetVal(e,t,i),x:d.getXVal(e,t,i),y:d.getVal(e,t,i),z:d.getZVal(e,t,i),low:d.getLowVal(e,t,i),high:d.getHighVal(e,t,i),open:n.open,q1:n.q1,q2:n.q2,q3:n.q3,close:n.close,volume:n.volume,color:p.getColor(e,t,i),itemData:u.series[t].items[i]._itemData}}else a&&(s={id:d.getSeries(e,t),color:p.getColor(e,t)});if(s){s.component=u._widgetConstructor,(g||o||n)&&(s.group=d.getGroup(e,i),s.groupData=d.getGroupsDataForContext(e)[i]),!g&&(o||n||a)&&(s.series=d.getSeries(e,t),s.seriesData=d.getSeriesDataForContext(e,t)),l.isPie(e)&&e.pieChart&&(s.totalValue=e.pieChart.getTotalValue());var f=e.getOptionsCache().getFromCachedMap2D("barDims",t,i);f&&(s.dimensions=f),s=e.getCtx().fixRendererContext(s)}return s||{}},getShortDescContext:(e,t,i,r)=>{if(t<0||i<0)return null;var s=d.getDataItem(e,t,i),a=e.getRawOptions(),n=e.getOptions(),o=a.series[t].items[i];return o._noTemplate?o=o._itemData:o&&"object"==typeof o&&delete(o=Object.assign({},o))._itemData,{id:d.getDataItemId(e,t,i),data:o,value:d.getVal(e,t,i),targetValue:d.getTargetVal(e,t,i),label:d.getDefaultDataLabel(e,t,i,r),totalValue:l.isPie(e)&&e.pieChart?e.pieChart.getTotalValue():null,x:d.getXVal(e,t,i),y:d.getVal(e,t,i),z:d.getZVal(e,t,i),low:d.getLowVal(e,t,i),high:d.getHighVal(e,t,i),q1:s.q1,q2:s.q2,q3:s.q3,volume:s.volume,open:s.open,close:s.close,itemData:n.series[t].items[i]._itemData,group:d.getGroup(e,i),groupData:d.getGroupsDataForContext(e)[i],series:d.getSeries(e,t),seriesData:d.getSeriesDataForContext(e,t)}},getDataLabel:(e,t,i,r,s,a)=>{var n,o=d.getDefaultDataLabel(e,t,i,r,s,a),l=e.getOptions().dataLabel;if(l&&!a){var h=p.getDataContext(e,t,i,r);if(h.label=o,"number"==typeof(n=l(h))){var g=DvtChartFormatUtils.getValueFormat(e,"label");n=DvtChartFormatUtils.formatVal(e,g,n)}}if(e.Options.stackLabelProvider&&a){var u=p.getStackLabelContext(e,i);n=e.Options.stackLabelProvider(u)}return n||o},getStackLabelContext:(e,t)=>{for(var i=d.getSeriesCount(e),r=e.getOptions(),s=[],a=[],n=0,o=d.getGroup(e,t),l=0;l<i;l++){var h=r.series[l].items[t];s.push(h),h&&a.push(h._itemData),n+=d.getVal(e,l,t)}return{groups:o,data:s,groupData:d.getGroupsDataForContext(e)[t]||[],value:n,itemData:a}},hasCenteredSeries:e=>{if(!l.isBLAC(e))return!1;for(var t=d.getSeriesCount(e),i=0;i<t;i++)if(d.isSeriesRendered(e,i)&&"bar"!=d.getSeriesType(e,i)){var r=p.getLineType(e,i);if("centeredSegmented"==r||"centeredStepped"==r)return!0}return!1},hasUncenteredSeries:e=>{if(!l.isBLAC(e))return!1;for(var t=d.getSeriesCount(e),i=0;i<t;i++)if(d.isSeriesRendered(e,i)&&"bar"!=d.getSeriesType(e,i)){var r=p.getLineType(e,i);if("segmented"==r||"stepped"==r)return!0}return!1},supportsLabelOutline:(e,t)=>{var i=d.getSeriesType(e,t);return!("area"!==i&&"line"!==i&&"lineWithArea"!==i&&!l.isScatterBubble(e))}};class _ extends t.Container{constructor(e,i,r){super(e),this._bHoriz=r,this._options=i,this.setMouseEnabled(!1),this.setVisible(!1);var s=i.lineWidth,a=i.lineColor,n=new t.Stroke(a,1,s,!1,t.Stroke.getDefaultDashProps(i.lineStyle,s));this._cursorLine=new t.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorLine.setStroke(n),this.addChild(this._cursorLine),this._cursorOuterLine=new t.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorOuterLine.setClassName("oj-chart-data-cursor-outer-line"),this.addChild(this._cursorOuterLine),this.addMarker(t.SimpleMarker.CIRCLE,i.markerSize)}addMarker(e,i){if("off"!==this._options.markerDisplayed){this._marker&&this.removeChild(this._marker),this._marker=new t.Container(this._context),this._marker.setMouseEnabled(!1),this.addChild(this._marker);var r=this._options.lineColor,s=this._options.lineWidth,a=new t.SimpleMarker(this._context,e,0,0,i+4*s,i+4*s);a.setSolidFill(r),this._marker.addChild(a);var n=new t.SimpleMarker(this._context,e,0,0,i+2*s,i+2*s);n.setSolidFill("white"),this._marker.addChild(n),this._markerInnerShape=new t.SimpleMarker(this._context,e,0,0,i,i),this._marker.addChild(this._markerInnerShape)}}render(e,i,r,s,a,n){var o,l=this.isHorizontal(),h=t.Agent.isRightToLeft(this.getCtx()),g=this._parent.localToStage(new t.Point(e.x,e.y)),d=this._parent.localToStage(new t.Point(e.x+e.w,e.y+e.h)),u=this._parent.localToStage(new t.Point(i,r)),c=this._parent.localToStage(new t.Point(l?0:s,l?s:0)),p=l?c.y:c.x;if(null!=a&&""!=a){var m=this.getCtx().getStageAbsolutePosition(),v=this.getCtx().getTooltipManager(_.TOOLTIP_ID);v.showDatatip(u.x+m.x,u.y+m.y,a,n,!1),o=v.getTooltipBounds();var f,y,C=this._options.markerSize+4*this._options.lineWidth;l?(f=h?g.x-.75*o.w:g.x+Math.abs(g.x-d.x)-o.w/4,y=p-o.h/2,!h&&f-u.x<C?f=u.x+C:h&&u.x-(f+o.w)<C&&(f=u.x-C-o.w)):(f=p-o.w/2,r-((y=g.y-.75*o.h)+o.h)<C&&(y=r-C-o.h)),v.positionTip(f+m.x,y+m.y),(o=v.getTooltipBounds()).x-=m.x,o.y-=m.y;var x=this._parent.stageToLocal(new t.Point(o.x,o.y)),S=this._parent.stageToLocal(new t.Point(o.x+o.w,o.y+o.h));o.x=x.x,o.y=x.y,o.w=Math.abs(S.x-x.x),o.h=Math.abs(S.y-x.y)}var b=this._cursorLine.getStroke().getWidth(),A=s+Math.ceil(b/2);if(l){var M,T;if(this._cursorLine.setTranslateY(s),this._cursorOuterLine.setTranslateY(A),h)M=o?o.x+o.w-1:e.x,T=e.x+e.w;else{M=e.x;const t=e.x+e.w;T=Math.min(o?o.x+1:t,t)}this._cursorLine.setX1(M),this._cursorLine.setX2(T),this._cursorOuterLine.setX1(M),this._cursorOuterLine.setX2(T)}else{this._cursorLine.setTranslateX(s),this._cursorOuterLine.setTranslateX(A);var w=o?o.y+o.h-1:e.y,D=e.y+e.h;this._cursorLine.setY1(w),this._cursorLine.setY2(D),this._cursorOuterLine.setY1(w),this._cursorOuterLine.setY2(D)}if(this._marker){this._marker.setTranslate(i,r);var O=this._options.markerColor;this._markerInnerShape.setSolidFill(O||n),t.Agent.workaroundFirefoxRepaint(this._marker)}}isHorizontal(){return this._bHoriz}getBehavior(){return this._behavior?this._behavior:"auto"}setBehavior(e){this._behavior=e}}_.TOOLTIP_ID="_dvtDataCursor";const m={getType:e=>"area"==e.type?"area":"line",getLocation:e=>"front"==e.location?"front":"back",getColor:(e,t)=>t.color?t.color:"line"===m.getType(t)?e.getOptions()._defaultReferenceObjectLineColor:e.getOptions()._defaultReferenceObjectAreaColor,getLineWidth:(e,t)=>t.lineWidth?t.lineWidth:parseFloat(e.getOptions()._defaultReferenceObjectLineWidth),getLineType:e=>e.lineType?e.lineType:"straight",isObjRendered:(e,i)=>{var r=d.getHiddenCategories(e);if(r.length>0){var s=m.getRefObjCategories(i);if(s&&t.ArrayUtils.hasAnyItem(r,s))return!1}return"hidden"!==i.visibility},getId:e=>null!=e.id?e.id:e.text,getRefObjCategories:e=>e.categories?e.categories:[m.getId(e)],getRefObj:(e,t)=>{for(var i=d.getRefObjs(e),r=0;r<i.length;r++)if(m.getId(i[r])==t)return i[r]},getLowVal:e=>null==e?null:e.low,getHighVal:e=>null==e?null:e.high,getXVal:(e,t,i)=>d.getXValFromItem(e,t[i],i)},v={getDatatipColor:(e,t,i,r)=>l.isStock(e)?p.getColor(e,0,i):null!=r&&r>=0?p.getMarkerColor(e,t,i,r):p.getColor(e,t,i),getDatatip:(e,i,r,s,a)=>{if(l.isSpark(e)||l.isOverview(e))return null;if(i<0||r<0)return null;var n=e.getOptions().tooltip,o=n?n.renderer:null;if(a&&o){var h=e.getCtx().getTooltipManager(v.isDataCursorEnabled(e)?_.TOOLTIP_ID:null),g=p.getDataContext(e,i,r,s);if(l.isPie(e)){var u=c.getSliceBySeriesIdx(e,i);g.label=u.getSliceLabelString()}else g.label=p.getDataLabel(e,i,r,s);return h.getCustomTooltip(o,g)}var m=d.getNestedDataItem(e,i,r,s);if(m&&null!=m.shortDesc)return m.shortDesc;var f,y=d.getDataItem(e,i,r);return y&&null!=y.shortDesc?t.Displayable.resolveShortDesc(y.shortDesc,()=>p.getShortDescContext(e,i,r,s)):(l.isStock(e)?f=v._getStockDatatip(e,0,r,a):(f=[],v._addSeriesDatatip(f,e,i,r,a),v._addGroupDatatip(f,e,i,r,a),v._addValDatatip(f,e,i,r,s,a)),v._processDatatip(f,e,a))},getOtherSliceDatatip:(e,t,i)=>{var r=e.getOptions().translations.labelOther,s=e.getOptions().tooltip,a=s?s.renderer:null;if(i&&a){var n=c.getSliceBySeriesIdx(e,null),o=p.getDataContext(e,null,0);return o.label=n.getSliceLabelString(),e.getCtx().getTooltipManager().getCustomTooltip(a,o)}var l=[];return v._addDatatipRow(l,e,"series","labelSeries",r,i),v._addGroupDatatip(l,e,0,0,i),v._addDatatipRow(l,e,"value","labelValue",t,i),v._processDatatip(l,e,i)},_processDatatip:(e,i,r)=>0===e.length?null:r?t.HtmlTooltipManager.createElement("table",null,e,["oj-dvt-datatip-table"]):e.join(""),getRefObjTooltip:(e,t,i,r)=>{var s=e.getOptions().tooltip,a=s?s.renderer:null;if(a&&null!=t.id){var n=e.getCtx().getTooltipManager(v.isDataCursorEnabled(e)?_.TOOLTIP_ID:null),o={id:m.getId(t),label:t.text,data:e.getRawOptions()[i].referenceObjects[r],value:t.value,low:m.getLowVal(t),high:m.getHighVal(t),color:m.getColor(e,t)};return n.getCustomTooltip(a,o)}return t.shortDesc},_getStockDatatip:(e,t,i,r)=>{var s=d.getDataItem(e,t,i),a=[];return v._addGroupDatatip(a,e,t,i,r),s&&(v._addDatatipRow(a,e,"open","labelOpen",s.open,r),v._addDatatipRow(a,e,"close","labelClose",s.close,r),v._addDatatipRow(a,e,"high","labelHigh",s.high,r),v._addDatatipRow(a,e,"low","labelLow",s.low,r),v._addDatatipRow(a,e,"volume","labelVolume",s.volume,r)),a},_addSeriesDatatip:(e,t,i,r,s)=>{var a=d.getSeriesLabel(t,i);v._addDatatipRow(e,t,"series","labelSeries",a,s)},_addGroupDatatip:(e,t,i,r,s)=>{var a;if(l.hasTimeAxis(t)){var n=g.getValueFormat(t,"group"),o=d.getXVal(t,i,r);null==(a=g.formatDateVal(n,o))&&(a=t.xAxis.getInfo().formatLabel(o))}else a=d.getGroupLabel(t,r);var h=d.getNumLevels(t),u="labelGroup";if(1!=h&&Array.isArray(a))for(var c=h-1;c>=0;c--)v._addDatatipRow(e,t,"group",u,a[c],s,c),a[c]&&(u=null);else v._addDatatipRow(e,t,"group",u,a,s)},_addValDatatip:(e,t,i,r,s,a)=>{var n=d.getVal(t,i,r,s),o=d.getXVal(t,i,r),h=d.getZVal(t,i,r),g=d.getLowVal(t,i,r),u=d.getHighVal(t,i,r),c=null!=s&&s>=0;if(l.isScatterBubble(t))v._addDatatipRow(e,t,"x","labelX",o,a),v._addDatatipRow(e,t,"y","labelY",n,a),l.isBubble(t)&&v._addDatatipRow(e,t,"z","labelZ",h,a);else if(l.isPie(t)||l.isPyramid(t))v._addDatatipRow(e,t,"value","labelValue",n,a);else if(l.isFunnel(t)){v._addDatatipRow(e,t,"value","labelValue",n,a);var p=d.getTargetVal(t,i);null!=p&&v._addDatatipRow(e,t,"targetValue","labelTargetValue",p,a)}else if("boxPlot"!=d.getSeriesType(t,i)||c){if(l.isBLAC(t)){var _=d.isAssignedToY2(t,i)?"y2":"y";null==g&&null==u||c?null==h||c?v._addDatatipRow(e,t,_,"labelValue",n,a):(v._addDatatipRow(e,t,_,"labelY",n,a),v._addDatatipRow(e,t,"z","labelZ",h,a)):(v._addDatatipRow(e,t,"high","labelHigh",u,a),v._addDatatipRow(e,t,"low","labelLow",g,a),null!=h&&v._addDatatipRow(e,t,"z","labelZ",h,a))}}else{var m=d.getDataItem(t,i,r);v._addDatatipRow(e,t,"high","labelHigh",u,a),v._addDatatipRow(e,t,"q3","labelQ3",m.q3,a),v._addDatatipRow(e,t,"q2","labelQ2",m.q2,a),v._addDatatipRow(e,t,"q1","labelQ1",m.q1,a),v._addDatatipRow(e,t,"low","labelLow",g,a),null!=h&&v._addDatatipRow(e,t,"z","labelZ",h,a)}},_addDatatipRow:(e,i,r,s,a,n,o)=>{if(null!=a&&""!==a){var h,d=i.getOptions().styleDefaults,u=g.getValueFormat(i,r),c=u.tooltipDisplay,p=i.getOptions().translations;if(c&&"auto"!=c||"group"==r&&(l.isPie(i)||l.isFunnel(i))&&(c="off"),"off"!=c)if("string"==typeof u.tooltipLabel?h=u.tooltipLabel:Array.isArray(u.tooltipLabel)&&(h=u.tooltipLabel[o||0]),null==h&&(h=null==s?"":"labelGroup"==s&&l.hasTimeAxis(i)?p.labelDate:p[s]),"series"!=r&&"group"!=r&&(a=g.formatVal(i,u,a)),n){var _=[t.HtmlTooltipManager.createElement("td",d.tooltipLabelStyle,h,["oj-dvt-datatip-label"]),t.HtmlTooltipManager.createElement("td",d.tooltipValueStyle,a,["oj-dvt-datatip-value"])];e.push(t.HtmlTooltipManager.createElement("tr",null,_))}else e.push((e.length>0?"<br>":"")+t.ResourceUtils.format(p.labelAndValue,[h,a]))}},isDataCursorEnabled:e=>{if(l.isPie(e)||l.isFunnel(e)||l.isPolar(e)||l.isPyramid(e)||d.hasInvalidData(e))return!1;var i=e.getOptions();return"on"==i.dataCursor||"off"!=i.dataCursor&&(t.Agent.isTouchDevice()&&l.isLineArea(e))},getDataCursorBehavior:e=>{var t=e.getOptions().dataCursorBehavior;return"auto"!==t?t:l.isLineArea(e)?"smooth":"snap"}};class f{constructor(e,i,r,s,a,n){if(this._chart=e,this._displayables=i,this._seriesIndex=null!=r&&r>=0?r:-1,this._groupIndex=null!=s&&s>=0?s:-1,this._itemIndex=null!=a&&a>=0?a:-1,this._dataPos=n,this._isSelected=!1,this._isShowingKeyboardFocusEffect=!1,this._series=d.getSeries(e,r),this._group=d.getGroup(e,s),this._categories=d.getCategories(e,r,s,a),-1!=this._itemIndex)this._dataItemId=d.getNestedDataItemId(e,r,s,a),this._drillable=d.isDataItemDrillable(e,r,s,a);else if(-1!=this._groupIndex){d.getDataItem(e,r,s)&&(this._dataItemId=d.getDataItemId(e,r,s),this._drillable=d.isDataItemDrillable(e,r,s))}else{d.getSeriesItem(e,r)&&(this._drillable=d.isSeriesDrillable(e,r))}if(this._drillable)for(var o=0;o<this._displayables.length;o++)this._displayables[o].setCursor(t.SelectionEffectUtils.getSelectingCursor());for(var l=0;l<i.length;l++){var h=i[l];"lineArea"!==h.chartShapeType&&h.setAriaRole("img"),this._updateAriaLabel(h)}}static associate(e,t,i,r,s,a){if(e&&!t.getOptions()._duringZoomAndScroll){var n=new f(t,[e],i,r,s,a);t.registerObject(n),t.getEventManager().associate(e,n)}}getId(){return this._seriesIndex>=0&&this._groupIndex>=0?new o(this._dataItemId,this.getSeries(),this.getGroup(),this._chart.getCtx()):this._seriesIndex>=0?this.getSeries():null}getDataItemId(){return this._dataItemId}getNestedDataItemIndex(){return this._itemIndex}getSeries(){return this._series}getSeriesIndex(){return this._seriesIndex}getGroup(){return this._group}getGroupIndex(){return this._groupIndex}isDrillable(){return this._drillable}isDoubleClickable(){return this.isSelectable()&&this.isDrillable()}getChart(){return this._chart}getDatatip(){return v.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!0)}getDatatipColor(){return v.getDatatipColor(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex)}isSelectable(){return p.isSelectable(this.getChart(),this.getSeriesIndex(),this.getGroupIndex())}isSelected(){return this._isSelected}setSelected(e){this._isSelected=e;for(var t=0;t<this._displayables.length;t++)this._displayables[t].setSelected&&(this._displayables[t].setSelected(e),this._updateAriaLabel(this._displayables[t]))}showHoverEffect(){for(var e=0;e<this._displayables.length;e++)this._displayables[e].showHoverEffect&&this._displayables[e].showHoverEffect()}hideHoverEffect(){for(var e=0;e<this._displayables.length;e++)this._displayables[e].hideHoverEffect&&this._displayables[e].hideHoverEffect()}getDisplayables(){return this._displayables}getAriaLabel(){var e=[],i=this.getChart().getOptions().translations;this.isSelectable()&&e.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),this.isDrillable()&&e.push(i.stateDrillable);var r=v.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1);return null==r&&this._groupIndex<0&&e.length>0&&(r=d.getSeriesLabel(this._chart,this._seriesIndex)),t.Displayable.generateAriaLabel(r,e,()=>p.getShortDescContext(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1))}_updateAriaLabel(e){t.Agent.deferAriaCreation()||e.setAriaProperty("label",this.getAriaLabel())}getCategories(e){return this._categories}getDataPosition(){return this._dataPos}getNextNavigable(e){var i,r;if(i=e.keyCode,e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;for(var s=this._chart,a=s.getChartObjPeers(),n=[],o=0;o<a.length;o++)a[o].isNavigable()&&n.push(a[o]);var h=e.keyCode==t.KeyboardEvent.UP_ARROW||e.keyCode==t.KeyboardEvent.DOWN_ARROW,g=l.isHorizontal(s),u=t.Agent.isRightToLeft(s.getCtx());return l.isScatterBubble(s)||l.isBoxPlot(s)&&(h&&!g||!h&&g)?r=t.KeyboardHandler.getNextAdjacentNavigable(this,e,n):l.isLineArea(s)||d.isStacked(s)||l.isPolar(s)?r=this._findNextNavigable(e):l.isFunnel(s)&&h?(e.keyCode=u?e.keyCode==t.KeyboardEvent.UP_ARROW?t.KeyboardEvent.RIGHT_ARROW:t.KeyboardEvent.LEFT_ARROW:e.keyCode-1,r=t.KeyboardHandler.getNextNavigable(this,e,n)):l.isPyramid(s)&&!h?(e.keyCode=u?e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.DOWN_ARROW:t.KeyboardEvent.UP_ARROW:e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.UP_ARROW:t.KeyboardEvent.DOWN_ARROW,r=t.KeyboardHandler.getNextNavigable(this,e,n)):r=t.KeyboardHandler.getNextNavigable(this,e,n,!0),r}getKeyboardBoundingBox(e){return this._displayables[0]?this._displayables[0].getDimensions(e):new t.Rectangle(0,0,0,0)}getTargetElem(){return this._displayables[0]?this._displayables[0].getElem():null}showKeyboardFocusEffect(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect())}hideKeyboardFocusEffect(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect())}isShowingKeyboardFocusEffect(){return this._isShowingKeyboardFocusEffect}isNavigable(){return-1!=this.getGroupIndex()&&-1!=this.getSeriesIndex()}_findNextNavigable(e){var i,r,s,a=e.keyCode,n=this._chart,o=n.getCtx(),h=this.getSeriesIndex(),g=this.getGroupIndex(),u=d.getGroupCount(n),c=l.isHorizontal(n),p=l.isPolar(n),_=t.Agent.isRightToLeft(o),m=c?_?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.UP_ARROW,v=c?_?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.DOWN_ARROW,f=c?a==t.KeyboardEvent.UP_ARROW:_?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW,y=c?a==t.KeyboardEvent.DOWN_ARROW:_?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW,C=d.isStacked(n),x=l.isBar(n);if(m)r=g,i=this._findNextUpSeries(n,h,g);else if(v)r=g,i=this._findNextDownSeries(n,h,g);else if(y||f){i=h,r=g;do{if(r=y?r+1:r-1,p&&r>=u&&(r=0),p&&r<0&&(r=u-1),null==(s=n.getObject(i,r))&&C&&x){var S=this._findFirstSeriesInGroup(n,r);s=n.getObject(S,r)}}while(null==s&&(y&&r<u||f&&r>-1))}return(s=s||n.getObject(i,r))&&s.isNavigable()?s:this}_findNextUpSeries(e,t,i){for(var r=d.isStacked(e),s=d.getSeriesCount(e),a=d.getCumulativeVal(e,t,i),n=null,o=null,l=0;l<s;l++)if(d.isSeriesRendered(e,l)&&null!=d.getVal(e,l,i)&&(!r||null!=e.getObject(l,i))){var h=d.getCumulativeVal(e,l,i);(h>a||h==a&&l>t)&&(null!==n&&h<n||null==n)&&(n=h,o=l)}return o}_findNextDownSeries(e,t,i){for(var r=d.isStacked(e),s=d.getSeriesCount(e),a=d.getCumulativeVal(e,t,i),n=null,o=null,l=s-1;l>=0;l--)if(d.isSeriesRendered(e,l)&&null!=d.getVal(e,l,i)&&(!r||null!=e.getObject(l,i))){var h=d.getCumulativeVal(e,l,i);(h<a||h==a&&l<t)&&(null!==n&&h>n||null==n)&&(n=h,o=l)}return o}_findFirstSeriesInGroup(e,t){for(var i=d.getSeriesCount(e),r=0;r<i;r++)if(d.isSeriesRendered(e,r)&&null!=d.getVal(e,r,t)&&null!=e.getObject(r,t))return r;return null}isDragAvailable(e){return!0}getDragTransferable(){return[this.getId()]}getDragFeedback(){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var e=this._chart.getSelectionHandler().getSelection(),t=[],i=0;i<e.length;i++)t=t.concat(e[i].getDisplayables());return t}return this._displayables}}class y{constructor(e,t,i,r,s){this._chart=e,this._displayables=t,this._refObj=i,this._categories=m.getRefObjCategories(this._refObj),this._index=r,this._axisType=s;for(var a=0;a<t.length;a++){var n=t[a];n.setAriaRole("img"),n.setAriaProperty("label",i.shortDesc)}}getCategories(){return this._categories}getDisplayables(){return this._displayables}getIndex(){return this._index}getAxisType(){return this._axisType}getDatatip(){return v.getRefObjTooltip(this._chart,this._refObj,this._axisType,this._index)}getDatatipColor(){return m.getColor(this._chart,this._refObj)}}class C extends t.BaseComponentDefaults{constructor(e){super({alta:{position:null,baselineScaling:"zero",axisLine:{lineColor:"#9E9E9E",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(196,206,215,0.2)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #737373;"),startGroupOffset:0,endGroupOffset:0,layout:{titleGap:6,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"}},e)}getNoCloneObject(){return{tickLabel:{converter:!0}}}static getGapSize(e,i,r){var s=Math.min(t.TextUtils.getTextStringHeight(e,i.tickLabel.style)/14,1);return Math.ceil(r*s)}}class x extends i.BaseAxisInfo{constructor(e,t,i){super(e,t,i),this._title=null}getLabels(e,t){return null}getTitle(){return this._title}setTitle(e){this._title=e}getMajorTickCoords(){return[]}getMinorTickCoords(){return[]}getBaselineCoord(){return null}getDatatip(e,t){return null}getLabelBackground(e,t){return null}isDrillable(e){return null}isLabelRotated(){return!1}CreateLabel(e,i,r,s,a){var n;if("tangential"==this.Position){var o=16/180*Math.PI,l=1/180*Math.PI,h=.5*this.getTickLabelHeight(),g=this._radius+h;(r<l||r>2*Math.PI-l)&&(g+=h);var d=Math.round(g*Math.sin(r)),u=Math.round(-g*Math.cos(r));n=s?new t.BackgroundOutputText(e,i,d,u,s):new t.OutputText(e,i,d,u),r<l||Math.abs(r-Math.PI)<l||r>2*Math.PI-l?n.alignCenter():r<Math.PI?n.alignLeft():n.alignRight(),Math.abs(r-Math.PI/2)<o||Math.abs(r-3*Math.PI/2)<o?n.alignMiddle():r<Math.PI/2||r>3*Math.PI/2?n.alignBottom():n.alignTop()}else a?n=s?new t.BackgroundMultilineText(e,i,r,r,s):new t.MultilineText(e,i,r,r):(n=s?new t.BackgroundOutputText(e,i,r,r,s):new t.OutputText(e,i,r,r)).alignMiddle(),n.alignCenter();return(n instanceof t.OutputText||n instanceof t.MultilineText)&&n.setCSSStyle(this.Options.tickLabel.style),n}IsOverlapping(e,i,r){if(!e||e.length<=0)return!1;for(var s,a,n,o,l="left"==this.Position||"right"==this.Position||"radial"==this.Position,h=t.Agent.isRightToLeft(this.getCtx()),g=this.GetTickLabelGapSize(),d=0;d<e.length;d+=i+1)if(null!=e[d]){if(null!=r&&e[d].w>r[d])return!0;if(null!=s&&null!=a){if(l){if(n=e[d].y,o=e[d].y+e[d].h,n>=s&&n-g<a)return!0;if(n<s&&o+g>s)return!0}else{if(n=e[d].x,o=e[d].x+e[d].w,!h&&n-g<a)return!0;if(h&&o+g>s)return!0}s=n,a=o}else l?(s=e[d].y,a=e[d].y+e[d].h):(s=e[d].x,a=e[d].x+e[d].w)}return!1}IsOverlappingDims(e,t){if(!e||!t)return!1;var i=e.y,r=e.y+e.h,s=e.x,a=e.x+e.w,n=t.y,o=t.y+t.h,l=t.x,h=t.x+t.w;return(s<=l&&l<=a||s<=h&&h<=a||l<=s&&s<=h||l<=a&&a<=h)&&(n>=i&&n<r||n<=i&&o>=i)}GetTickLabelGapSize(){var e=this.getTickLabelHeight(),t=this instanceof x._constructors.group?.24*e:.79*e,i=this instanceof x._constructors.group?.08*e:.28*e;return"left"==this.Position||"right"==this.Position||"radial"==this.Position||this.isLabelRotated()?i:t}getTickLabelHeight(){return t.TextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)}SkipLabels(e,t){for(var i=0,r=this.IsOverlapping(t,i);r;)i++,r=this.IsOverlapping(t,i);if(i>0){for(var s=[],a=0;a<e.length;a+=i+1)s.push(e[a]);return s}return e}SkipTangentialLabels(e,t){var i=[],r=e.length,s=null;if(r>1){for(var a,n=0;n<r;n++)t[n]&&(!a||a&&!this.IsOverlappingDims(a,t[n]))&&(s||(s=t[n]),i.push(e[n]),a=t[n]);return this.IsOverlappingDims(a,s)&&i.pop(),i}return e}GetLabelDims(e,t,i){for(var r=[],s=this.isLabelRotated(i),a=0;a<e.length;a++){var n=e[a];if(null!=n){var o=n.getDimensions(t);null!=i&&(o.x=(s?n.getTranslateX():n.getX())-o.w/2,o.y=(s?n.getTranslateY():n.getY())-o.h/2),o.w&&o.h?r.push(o):r.push(null)}else r.push(null)}return r}getMajorTickCount(){return null}getMinorTickCount(){return null}getMajorIncrement(){return null}getMinorIncrement(){return null}getGlobalMin(){return this.GlobalMin}getGlobalMax(){return this.GlobalMax}getViewportMin(){return this.MinValue}getViewportMax(){return this.MaxValue}getDataMin(){return this.DataMin}getDataMax(){return this.DataMax}getMinExtent(){return 0}getStartCoord(){return this.StartCoord}getEndCoord(){return this.EndCoord}getStartOverflow(){return this.StartOverflow}getEndOverflow(){return this.EndOverflow}getGroupWidth(){return 0}getGroup(e,t){return null}linearToActual(e){return e}actualToLinear(e){return e}alignLogScaleToTickCount(e,t){return e}getLogScaleUnit(){return null}static registerConstructor(e,t){x._constructors[e]=t}static getConstructor(e){return x._constructors[e]}static newInstance(e,t,i){return t.timeAxisType&&"disabled"!=t.timeAxisType?new x._constructors.time(e,t,i):t._isGroupAxis?new x._constructors.group(e,t,i):new x._constructors.data(e,t,i)}}x._constructors=[];class S extends t.TextObjPeer{constructor(e,i,r,s,a,n,o){super(e,i,a,n,null,o),this._axis=e,this._label=i,this._group=r,this._drillable=s,this._drillable&&i.setCursor(t.SelectionEffectUtils.getSelectingCursor()),e.__registerObject(this)}getLabel(){return this._label}getId(){return this._group}isDrillable(){return this._drillable}getGroup(){return this._group}getNextNavigable(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._axis.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!1,this._axis.getCtx().getStage())}getAriaLabel(){var e;return this.isDrillable()&&(e=[this._axis.getOptions().translations.stateDrillable]),null!=this.getDatatip()?t.Displayable.generateAriaLabel(this.getDatatip(),e):null!=e?t.Displayable.generateAriaLabel(this.getLabel().getTextString(),e):void 0}isDragAvailable(e){return!0}getDragTransferable(e,t){return[this.getId()]}getDragFeedback(e,t){return[this.getDisplayable()]}}class b extends t.EventManager{constructor(e){super(e.getCtx(),e.processEvent,e,e),this._axis=e}OnClick(e){super.OnClick(e);var t=this.GetLogicalObject(e.target);t&&(this.processDrillEvent(t)&&e.stopPropagation())}HandleTouchClickInternal(e){var t=this.GetLogicalObject(e.target);if(t){var i=e.touchEvent;this.processDrillEvent(t)&&i&&i.preventDefault()}}processDrillEvent(e){return!!(e instanceof S&&e.isDrillable())&&(this.FireEvent(t.EventFactory.newChartDrillEvent(e.getId(),null,e.getGroup(),"group"),this._axis),!0)}isDndSupported(){return!0}GetDragSourceType(){var e=this.DragSource.getDragObject();return e instanceof S&&null!=e.getGroup()?"groups":null}GetDragDataContexts(e){var i=this.DragSource.getDragObject();if(i instanceof S){var r={id:i.getId(),group:i.getGroup(),label:i.getLabel().getTextString()};return e&&t.ToolkitUtils.cleanDragDataContext(r),[r]}return[]}static getUIParams(e,t,i,r){return{type:e,id:t,index:i,level:r}}}const A={_PREFERRED_TITLE_PROPORTION:.8,_MAX_TITLE_LINE_WRAP:3,getPreferredSize:(e,i,r,s)=>{var a=A._createAxisInfo(e,new t.Rectangle(0,0,i,r)),n=e.getCtx(),o=e.getOptions(),l="top"==o.position||"bottom"==o.position;if(("off"==o.rendered||i<=0||r<=0)&&!s)return l?new t.Dimension(i,0):new t.Dimension(0,r);var h=(l?i:r)*A._PREFERRED_TITLE_PROPORTION,g=(l?r:i)*A._PREFERRED_TITLE_PROPORTION,d=A.getTitleHeight(n,o,h,g),u=d.height;e.getOptionsCache().putToCache("prefTitleLineCount",d.lineCount),e.getOptionsCache().putToCache("prefAvailableTitleWidth",h);var c=0!=u?u+A._getTitleGap(e):0;if("on"==o.tickLabel.rendered&&"inside"!=o.tickLabel.position)if(l){var p=t.TextUtils.getTextStringHeight(n,o.tickLabel.style);a instanceof x.getConstructor("data")?c+=p:a instanceof x.getConstructor("time")?c+=null!=a.getLabels(n,1)?2*p:p:a instanceof x.getConstructor("group")&&(c=A._getGroupAxisPreferredSize(e,a,c,r,l))}else if(a instanceof x.getConstructor("data"))c+=t.TextUtils.getMaxTextStringWidth(n,a.getAllLabels(n,!0),a.Options.tickLabel.style);else if(a instanceof x.getConstructor("time")){var _=a.getLabels(n),m=t.TextUtils.getMaxTextDimensions(_).w,v=a.getLabels(n,1),f=null!=v?t.TextUtils.getMaxTextDimensions(v).w:0;c+=Math.max(m,f)}else a instanceof x.getConstructor("group")&&(c=A._getGroupAxisPreferredSize(e,a,c,i,l));return l?new t.Dimension(i,Math.min(c,r)):new t.Dimension(Math.min(c,i),r)},render:(e,t)=>{var i=A._createAxisInfo(e,t);"off"!=e.getOptions().rendered&&(e.__setBounds(t.clone()),A._renderBackground(e,t),A._renderTitle(e,i,t),A._renderLabels(e,i,t))},_createAxisInfo:(e,t)=>{var i=x.newInstance(e.getCtx(),e.getOptions(),t);return e.__setInfo(i),i},_getTitleGap:e=>{var t=e.getOptions();return C.getGapSize(e.getCtx(),t,t.layout.titleGap)},_renderBackground:(e,i)=>{var r=e.getOptions();if(r.dnd){var s=r.dnd.drop,a=Object.keys(s.xAxis).length>0||Object.keys(s.yAxis).length>0||Object.keys(s.y2Axis).length>0,n=r.dnd.drag,o=Object.keys(n.groups).length>0&&e.getInfo()instanceof x.getConstructor("group");if(a||o){var l=r.position,h="top"==l||"bottom"==l,g=h?4:10,d=h?10:4,u=new t.Rect(e.getCtx(),i.x-d,i.y-g,i.w+2*d,i.h+2*g);o&&u.setClassName("oj-draggable"),u.setInvisibleFill(),e.getCache().putToCache("background",u),e.addChild(u)}}},_renderTitle:(e,i,r)=>{var s=e.getOptions();if(s.title){var a=s.position;if("radial"!==a&&"tangential"!==a){var n,o="top"===s.position||"bottom"===s.position,l=o?r.w:r.h,h=o?r.h:r.w,g=s.titleStyle,d=A.isWrapEnabled(g);e.getOptionsCache().getFromCache("prefAvailableTitleWidth")>l&&(n=e.getOptionsCache().getFromCache("prefTitleLineCount"));var u=A._createText(e.getEventManager(),e,s.title,g,0,0,l,h,b.getUIParams("title"),d,n);if(u){var c=A._getTitleGap(e),p=(i.getStartOverflow()-i.getEndOverflow())/2,_=t.Agent.isRightToLeft(e.getCtx()),m=u.getDimensions().h;u.alignCenter(),"top"===a?(u.setX(r.x+p+r.w/2),u.setY(r.y),r.y+=m+c,r.h-=m+c):"bottom"===a?(u.setX(r.x+p+r.w/2),u.setY(r.y+r.h-m),r.h-=m+c):"left"===a?(u.alignMiddle(),u.setRotation(_?Math.PI/2:3*Math.PI/2),u.setTranslate(r.x+m/2,r.y+r.h/2),r.x+=m+c,r.w-=m+c):"right"===a&&(u.alignMiddle(),u.setRotation(_?Math.PI/2:3*Math.PI/2),u.setTranslate(r.x+r.w-m/2,r.y+r.h/2),r.w-=m+c),i.setTitle(u)}}}},_renderLabels:(e,t,i)=>{var r=e.getOptions();if("on"==r.tickLabel.rendered){var s=r.position;"top"===s||"bottom"===s?A._renderLabelsHoriz(e,t,i):"tangential"===s?A._renderLabelsTangent(e,t,i):A._renderLabelsVert(e,t,i),A._renderGroupSeparators(e,t,i)}},_renderLabelsHoriz:(e,i,r)=>{var s=e.getCtx(),a=e.getOptions(),n=a.position,o="inside"==a.tickLabel.position,l=t.Agent.isRightToLeft(s),h=i instanceof x.getConstructor("group"),g=h&&i.getNumLevels()>1,d=g?0:null,u=i.getLabels(s,d);for(f=g?C.getGapSize(s,a,a.layout.hierarchicalLabelGapHeight):0;u;){for(var c=0,p=0,_=0;_<u.length;_++){var m=u[_];if(null!=m){var v=m instanceof t.MultilineText||m instanceof t.BackgroundMultilineText;if(i.isLabelRotated(d)){if((!v||v&&!m.isWrapEnabled())&&!t.TextUtils.fitText(m,r.h,r.w,e))continue;l?m.alignLeft():m.alignRight(),g?(c=m.getDimensions().w,m.setTranslateY(r.h-c),p=Math.max(p,c)):m.setTranslateY(r.y)}else{if(!o&&m.getDimensions().h-1>r.h)continue;if(g&&"bottom"===n?m.setY(r.h):"bottom"===n?m.setY(r.y):m.setY(r.y+r.h),!g&&("bottom"===n&&!o||"top"===n&&o)||g&&"top"===n?m.alignTop():m.alignBottom(),g)p=Math.max(p,m.getDimensions().h);else if(o){var f=C.getGapSize(s,a,a.layout.insideLabelGapWidth);l?m.alignRight():m.alignLeft(),m.setX(m.getX()+f*(l?-1:1))}}var y=h?i.getLabelIdx(m):_,A=i.getDatatip(y,d),M=m.getUntruncatedTextString(),T=i.isDrillable(y,d),w=i.getGroup(y,d),D=b.getUIParams("tickLabel",m.getTextString(),y,d);e.getEventManager().associate(m,new S(e,m,w,T,M,A,D)),g?i.setLastRenderedLevel(d):p=Math.max(p,m.getDimensions().h),e.addChild(m)}}if(g){for(_=0;_<u.length;_++)if(null!=(m=u[_])){var O=i.isLabelRotated(d),P=d<i.getNumLevels()-1;!O&&P?(m.setY(r.h-p/2),m.alignMiddle()):m.setTranslateY(r.h-p)}r.y+=p+f,r.h-=p+f,d++,u=i.getLabels(e.getCtx(),d)}else r.y+=p,r.h-=p,u=null}if(i instanceof x.getConstructor("time")){u=i.getLabels(e.getCtx());var E=i.getLabels(e.getCtx(),1),I=0;if(null!=E)for(_=0;_<E.length;_++)if(null!=(m=E[_])&&!(m.getDimensions().h-1>r.h)){e.getEventManager().associate(m,new t.SimpleObjPeer(null,null,null,b.getUIParams("tickLabel",m.getTextString())));var L=0,R=0,k=i.getOptions()._maxOverflowCoord,B=i.getOptions()._minOverflowCoord;if(null!=u[_]&&(I=u[_].getDimensions().w/2,L=i._level1Overflow[_],R=i._level2Overflow[_]),0==L&&0==R){var F,H=m.getX();l?(F=H+I<=k?H+I:k,m.setX(F)):(F=H-I>=B?H-I:B,m.setX(F))}else L<0?m.setX(B):L>0&&m.setX(k);m.alignTop(),m.setY(r.y),e.addChild(m)}}},_renderLabelsVert:(e,i,r)=>{var s,a,n,o=e.getOptions(),l=o.position,h=e.getCtx(),g=t.Agent.isRightToLeft(h),d=i instanceof x.getConstructor("data"),u="inside"==o.tickLabel.position,c=i instanceof x.getConstructor("group"),p=c&&i.getNumLevels()>1,_=p?0:null;s=i.getLabels(e.getCtx(),_);var m=0;p?(a=C.getGapSize(h,o,o.layout.hierarchicalLabelGapWidth),n=t.TextUtils.getMaxTextDimensions(s).w):"radial"===l?(a=C.getGapSize(h,o,o.layout.radialLabelGap),m=r.x+r.w/2,g?m+=a+t.TextUtils.getMaxTextDimensions(s).w:m-=a):"left"===l?(m=r.x+r.w,d&&u&&(m+=t.TextUtils.getMaxTextDimensions(s).w)):(m=r.x,d&&!u&&(m+=t.TextUtils.getMaxTextDimensions(s).w));for(var v=(a,v)=>{var f=a instanceof t.MultilineText||a instanceof t.BackgroundMultilineText,y=!f||f&&!a.isWrapEnabled();if(!(p&&t.TextUtils.getMaxTextDimensions(s).w-1>r.w)&&(p||u||!y||t.TextUtils.fitText(a,r.w,r.h,e))){v=c?i.getLabelIdx(a):v;var x=i.getDatatip(v,_),A=a.getUntruncatedTextString(),M=i.isDrillable(v,_),T=i.getGroup(v,_),w=b.getUIParams("tickLabel",a.getTextString(),v,_);if(e.getEventManager().associate(a,new S(e,a,T,M,A,x,w)),p)a.alignRight(),a.setX(g?r.w:r.x+n),i.setLastRenderedLevel(_);else if(a.setX(m),d||"right"!=l?a.alignRight():a.alignLeft(),u&&(a.alignBottom(),a.setY(a.getY()-C.getGapSize(h,o,o.layout.insideLabelGapHeight))),"radial"===l){var D=a.getY();a.setY(r.y+r.h/2-D);var O=a.getDimensions(),P=.15*O.h,E=t.PathUtils.roundedRectangle(O.x-P,O.y,O.w+2*P,O.h,2,2,2,2),I=new t.Path(e.getCtx(),E),L=a.getCSSStyle().getStyle(t.CSSStyle.BACKGROUND_COLOR),R=D+O.h/2>i.getEndCoord()&&"circle"==e.getOptions().polarGridShape?"outside":"inside";L?I.setSolidFill(L):I.setClassName("oj-chart-polar-axis-tick-label-"+R),e.addChild(I)}e.addChild(a)}};s;){for(var f=0;f<s.length;f++){var y=s[f];null!=y&&v(y,f)}if(!p)break;r.x+=n+a,r.w-=n+a,_++,s=i.getLabels(e.getCtx(),_),n=s?t.TextUtils.getMaxTextDimensions(s).w:null}if(i instanceof x.getConstructor("time")){var A=i.getLabels(e.getCtx(),1);if(null!=A)for(f=0;f<A.length;f++)null!=(y=A[f])&&v(y,f)}},_renderLabelsTangent:(e,i,r)=>{for(var s=i.getLabels(e.getCtx()),a=0;a<s.length;a++){var n=s[a];if(null!=n){var o=r.w/2-Math.abs(n.getX()),l=r.h/2-Math.abs(n.getY());if(t.TextUtils.fitText(n,o,l,e)){var h=i instanceof x.getConstructor("group")?i.getLabelIdx(n):a,g=i.getDatatip(h),d=n.getUntruncatedTextString(),u=i.isDrillable(h),c=i.getGroup(h),p=b.getUIParams("tickLabel",n.getTextString(),h,null);e.getEventManager().associate(n,new S(e,n,c,u,d,g,p)),n.setTranslateX(r.x+r.w/2),n.setTranslateY(r.y+r.h/2),e.addChild(n)}}}},_createText:(e,i,r,s,a,n,o,l,h,g,d)=>{var u;return g?((u=new t.MultilineText(i.getCtx(),r,a,n)).setMaxLines(null!=d?d:A._MAX_TITLE_LINE_WRAP),u.setCSSStyle(s),u.wrapText(o,l,1)):(u=new t.OutputText(i.getCtx(),r,a,n)).setCSSStyle(s),t.TextUtils.fitText(u,o,l,i)?(e.associate(u,new t.SimpleObjPeer(u.getUntruncatedTextString(),null,null,h)),u):null},_renderGroupSeparators:(e,i,r)=>{if(i instanceof x.getConstructor("group")&&i.areSeparatorsRendered()){var s=i.getNumLevels(),a=i.getSeparatorStartLevel();if(s<=1||a<=0)return;for(var n,o,l,h,g,d,u=e.getOptions(),c=u.position,p="top"==c||"bottom"==c,_=e.getCtx(),m=t.Agent.isRightToLeft(_),v=i.getSeparatorColor(),f=new t.Stroke(v,1,1),y=0,S=p?C.getGapSize(_,u,u.layout.hierarchicalLabelGapHeight):C.getGapSize(_,u,u.layout.hierarchicalLabelGapWidth),b=u.startGroupOffset,M=u.endGroupOffset,T=a;T>=0;T--){var w=i.getLabels(e.getCtx(),T),D=t.TextUtils.getMaxTextDimensions(w),O=i.isLabelRotated(T),P=O||!p?D.w:D.h;if(0!=P){var E=!1,I=null;if(T<a)for(var L=0;L<w.length;L++){var R=w[L];if(null!=R){var k=i.getLabelIdx(R),B=0==i.getLabelAt(k,T).length;if(!B){var F=B&&0==T&&(0==k||k==w.length-1),H=R&&null==w[k-1],N=R&&null==w[k+1],G=i.getStartIdx(k,T),j=i.getEndIdx(k,T);if(p){var V;if(R)V=R instanceof t.MultilineText||R instanceof t.BackgroundMultilineText?R.getYAlignCoord():R.getY(),n=i.getCoordAt(G-b),o=O?V+.5*y:V-P/2-.5*y-S,l=i.getCoordAt(j+M),h=O?V+P+y+2*S:V,B&&F||0!=E||null==n||A._addSeparatorLine(e,f,n,h,n,o),null==l||F||A._addSeparatorLine(e,f,l,h,l,o);if(!B){if(R)var U=O?R.getDimensions().h:R.getDimensions().w;n=H&&0==I?i.getStartCoord():i.getBoundedCoordAt(G-b),H&&(H=!1);var W=i.getLabelAt(k+1,T);if(l=N&&W&&W.length>0?i.getEndCoord():i.getBoundedCoordAt(j+M),g=R?m?R.getX()+.5*U:R.getX()-.5*U:i.getBoundedCoordAt(j+M),d=R?m?R.getX()-.5*U:R.getX()+.5*U:i.getBoundedCoordAt(G-b),R)if(O)A._addSeparatorLine(e,f,n,h,l,h);else{var Y=m?.5*-R.getDimensions().h:.5*R.getDimensions().h,z=m?d+Y>l:d+Y<l;(m?n>g-Y:n<g-Y)&&A._addSeparatorLine(e,f,n,h,g-Y,h),z&&A._addSeparatorLine(e,f,d+Y,h,l,h)}}}else R&&(n=m?R.getX()-P-.5*S:R.getX()+.5*S,o=i.getCoordAt(G-b),l=m?R.getX()+.5*S:R.getX()-P-.5*S,h=i.getCoordAt(j+M),(!B&&0==E||0==k&&B&&0!=T)&&null!=o&&A._addSeparatorLine(e,f,n,o,l,o),null==h||F||A._addSeparatorLine(e,f,l,h,n,h)),B||(o=H&&0==I?0:i.getBoundedCoordAt(G-b),H&&(H=!1),W=i.getLabelAt(k+1,T),h=N&&W&&W.length>0?i.getEndCoord():i.getBoundedCoordAt(j+M),R&&A._addSeparatorLine(e,f,l,o,l,h));E=!B&&null!=R,I=null!=R||null==R&&B}}}y=P}else y=P}}},_addSeparatorLine:(e,i,r,s,a,n)=>{var o=new t.Line(e.getCtx(),r,s,a,n);o.setStroke(i),o.setPixelHinting(!0),e.addChild(o)},_getGroupAxisPreferredSize:(e,i,r,s,a)=>{for(var n=e.getCtx(),o=e.getOptions(),l=i.getNumLevels(),h=a?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",g=l>1?C.getGapSize(n,o,o.layout[h]):0,d=0;d<l;d++){var u;if(i.isAutoRotate()){for(var c=[],p=[],_=i.getSkipIncrement(),m=0;m<i.getGroupCount();m+=_){c.push(i.getLabelAt(m,0));var v=i.getLabelStyleAt(m,0);v||(v=i.Options.tickLabel.style),p.push(v)}u=t.TextUtils.getMaxTextStringWidth(n,c,p)}else{var f=i.getLabels(n,d);if(a){var y=t.TextUtils.getMaxTextDimensions(f);u=i.isLabelRotated(d)?y.w:y.h}else u=t.TextUtils.getMaxTextDimensions(f).w}if(!(r+u<=s)){0==d&&(r=s);break}r+=u+g}return 0!=d&&(r-=g),r},getTitleHeight:(e,i,r,s)=>{var a,n=0;return i.title&&(A.isWrapEnabled(i.titleStyle)?((a=new t.MultilineText(e,i.title,0,0)).setMaxLines(A._MAX_TITLE_LINE_WRAP),a.setCSSStyle(i.titleStyle),a.wrapText(r,s,1),n=t.TextUtils.getTextStringHeight(e,i.titleStyle)*a.getLineCount()):n=t.TextUtils.getTextStringHeight(e,i.titleStyle)),{height:n,lineCount:a?a.getLineCount():0}},isWrapEnabled:e=>{var i=e.getStyle(t.CSSStyle.WHITE_SPACE);return"nowrap"!=i&&"noWrap"!=i}};class M extends x{constructor(e,i,r){super(e,i,r),this._MAX_LINE_WRAP=3,this._ROTATE_THRESHOLD=12;var s=t.Agent.isRightToLeft(e),a="top"==this.Position||"bottom"==this.Position;if(a&&s){var n=this.StartCoord;this.StartCoord=this.EndCoord,this.EndCoord=n}this._levelsArray=[],this._groupCount=this._generateLevelsArray(i.groups,0,this._levelsArray,0),this._numLevels=this._levelsArray.length,this._areSeparatorsRendered="off"!=i.groupSeparators.rendered,this._separatorColor=i.groupSeparators.color,this._lastRenderedLevel=null,this._drilling=i.drilling;var o=i.endGroupOffset>0?Number(i.endGroupOffset):0,l=i.startGroupOffset>0?Number(i.startGroupOffset):0;this.DataMin=0,this.DataMax=this._groupCount-1,this.GlobalMin=null==i.min?this.DataMin-l:i.min,this.GlobalMax=null==i.max?this.DataMax+o:i.max;var h=this.getGroupIndex(i.viewportStartGroup),g=this.getGroupIndex(i.viewportEndGroup);-1!=h&&(this.MinValue=h-l),-1!=g&&(this.MaxValue=g+o),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._groupWidthRatios=i._groupWidthRatios,this._processGroupWidthRatios(),this._startBuffer=s?i.rightBuffer:i.leftBuffer,this._endBuffer=s?i.leftBuffer:i.rightBuffer,this._isLabelRotated=[];for(var d=0;d<this._numLevels;d++)this._isLabelRotated.push(!1);if(this._renderGridAtLabels=i._renderGridAtLabels,this._labels=null,this._maxSpace=a?r.h:r.w,"off"!=i.rendered){var u=A.getTitleHeight(e,i,a?r.w:r.h,a?r.h:r.w).height;this._maxSpace-=0!=u?u+C.getGapSize(e,i,i.layout.titleGap):0}this._maxLineWrap=this._MAX_LINE_WRAP}_processGroupWidthRatios(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)this._groupWidthRatios=null;else{for(var e,t,i=0,r=0;r<this._groupCount;r++)e=0==r?this.MinValue:Math.max(r-.5,this.MinValue),(t=r==this._groupCount-1?this.MaxValue:Math.min(r+.5,this.MaxValue))>e&&(i+=(t-e)*this._groupWidthRatios[r]);var s=this.EndCoord-this.StartCoord;this._groupWidths=this._groupWidthRatios.map(e=>e*s/i),this._borderValues=[];for(r=0;r<this._groupWidthRatios.length-1;r++)this._borderValues.push(r+.5);this._borderCoords=[];var a=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[a]=this.StartCoord+(this._borderValues[a]-this.MinValue)*this._groupWidths[a];for(r=a+1;r<this._borderValues.length;r++)this._borderCoords[r]=this._borderCoords[r-1]+this._groupWidths[r];for(r=a-1;r>=0;r--)this._borderCoords[r]=this._borderCoords[r+1]-this._groupWidths[r+1]}}_rotateLabels(e,i,r,s){var a,n,o=this.getCtx(),l=t.Agent.isRightToLeft(o),h=this._numLevels>1;null==s&&(s=this._numLevels-1),this._isLabelRotated[s]=!0,h||this._setOverflow(r,r,e);for(var g=0;g<e.length;g++)if(null!=(a=e[g])){if(n=a.getX(),a instanceof t.MultilineText||a instanceof t.BackgroundMultilineText){var d=this.getGroupWidth()*(this.getEndIdx(g,s)-this.getStartIdx(g,s)+1);2*a.getLineHeight()<d&&this._maxSpace>0?a.wrapText(this._maxSpace,a.getLineHeight()*this._MAX_LINE_WRAP,1):a.setWrapEnabled(!1)}a.setX(0),a.setY(0),l?a.setRotation(Math.PI/2):a.setRotation(3*Math.PI/2),a.setTranslateX(n)}var u=this.GetLabelDims(e,i,s);A.isWrapEnabled(this.Options.tickLabel.style)&&this._maxSpace>0&&(this._sanitizeWrappedText(o,u,e,!0,h)&&(u=this.GetLabelDims(e,i,s)));return this.SkipLabels(e,u)}_sanitizeWrappedText(e,i,r,s,a){for(var n=this._calculateMaxWrap(i,r,s),o=0,l=0;l<r.length;l++){var h=r[l];if(h){var g=h instanceof t.MultilineText||h instanceof t.BackgroundMultilineText;n&&g&&h.isWrapEnabled()&&h.wrapText(this._maxSpace,h.getLineHeight()*this._maxLineWrap,1),a&&(o=Math.max(o,h.getDimensions().w)),h.alignMiddle()}}if(a){var d=s?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth;this._maxSpace-=o+C.getGapSize(e,this.Options,d)}return n}_calculateMaxWrap(e,i,r){for(var s=!1;this.IsOverlapping(e,0)&&this._maxLineWrap>1;){s=!0;for(var a=0;a<i.length;a++){var n=i[a];if((n instanceof t.MultilineText||n instanceof t.BackgroundMultilineText)&&n.getLineCount()==this._maxLineWrap){var o=n.getLineHeight();r?e[a].w-=o:(e[a].y+=.5*o,e[a].h-=o)}}this._maxLineWrap--}return s}isLabelRotated(e){return null==e&&(e=this._numLevels-1),this._isLabelRotated[e]}_setOverflow(e,i,r){e=Math.max(e-this._startBuffer,0),i=Math.max(i-this._endBuffer,0);var s=t.Agent.isRightToLeft(this.getCtx());this.StartCoord+=(e-this.StartOverflow)*(s?-1:1),this.EndCoord-=(i-this.EndOverflow)*(s?-1:1),this._processGroupWidthRatios();for(var a=0;a<this._numLevels;a++){r=this._labels[a];for(var n=0;n<r.length;n++){var o=r[n];if(o){var l=this._getLabelCoord(a,this.getLabelIdx(o));this._numLevels>1?o.setTranslateX(l):o.setX(l)}}}this.StartOverflow=e,this.EndOverflow=i}getLabels(e,t){return null==t&&(t=this._numLevels-1),this._labels||this._generateLabels(e),this._labels[t]}_getLabelCoord(e,t){var i=this.getStartIdx(t,e),r=this.getEndIdx(t,e);if(null==i||null==r)return null;i<this.MinValue&&r>this.MinValue&&(i=this.MinValue),r>this.MaxValue&&i<this.MaxValue&&(r=this.MaxValue);var s=r?i+(r-i)/2:i;return this.getCoordAt(s)}_generateLabels(e){var i=[];this._labels=[];for(var r,s,a,n,o,l=e.getStage(),h="top"==this.Position||"bottom"==this.Position,g=t.Agent.isRightToLeft(e),d=this._numLevels>1,u=this.getGroupWidth(),c=this._maxSpace,p=h?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",_=d?C.getGapSize(e,this.Options,this.Options.layout[p]):0,m="auto"==this.Options.tickLabel.rotation&&h,v={},f=this.isAutoRotate(),y=this.Options.tickLabel.style,x=A.isWrapEnabled(this.Options.tickLabel.style)&&"tangential"!=this.Position&&u>t.TextUtils.getTextStringHeight(e,y),S=0;S<this._numLevels;S++){var b=this._levelsArray[S],M=f?this.getSkipIncrement():1;v[S]=[];for(var T=0;T<b.length;T+=M)if(b[T]){if(""===(r=this.getLabelAt(T,S))||!r&&0!=r){i.push(null);continue}var w=this._getLabelCoord(S,T);if(null!=w){n=this.getLabelStyleAt(T,S);var D=!f&&x&&"number"!=typeof r&&r.indexOf(" ")>=0;o=this.CreateLabel(e,r,w,n,D),this.isDrillable(T,S)&&!D&&o.setAriaProperty("hidden",null);var O=u*(this.getEndIdx(T,S)-this.getStartIdx(T,S)+1);v[S].push(O),D&&this._isTextWrapNeeded(e,r,n,m,h?O:c)&&c>0?h?o.wrapText(O,c,1,!0):o.wrapText(c,o.getLineHeight()*this._maxLineWrap,1,!1):D&&(!h||c<0)&&o.setWrapEnabled(!1),o._index=T,i.push(o),s||0!=S||(s=o),0==S&&(a=o)}else i.push(null)}else i.push(null);if(x&&d){for(var P=0,E=0;E<i.length;E++)if(i[E]){var I=i[E].getDimensions();P=Math.max(P,h?I.h:I.w)}c-=P+_}this._labels.push(i),i=[]}i=this._labels[this._numLevels-1];var L=[];if(s){if("tangential"==this.Position)return L=this.GetLabelDims(i,l),void(this._labels[0]=this.SkipTangentialLabels(i,L));var R=s.getDimensions(),k=!1;if(h){var B,F;if(null!=this.Options._startOverflow&&null!=this.Options._endOverflow)B=this.Options._startOverflow,F=this.Options._endOverflow;else{var H=a.getDimensions();B=g?R.w+R.x-this.StartCoord:this.StartCoord-R.x,F=g?this.EndCoord-H.x:H.w+H.x-this.EndCoord}k=B>this._startBuffer||F>this._endBuffer}for(S=0;S<this._numLevels;S++)if(i=this._labels[S],f)this._labels[S]=this._rotateLabels(i,l,R.h/2,S);else{L=this.GetLabelDims(i,l,S);var N=this.IsOverlapping(L,0,v[S]);if(N||(this._labels[S]=i),h)if(m){if(N)this._labels[S]=this._rotateLabels(i,l,R.h/2,S);else if(k&&this._setOverflow(B,F,i),this._labels[S]=i,d){var G=0;for(E=0;E<L.length;E++)L[E]&&(G=Math.max(G,L[E].h));this._maxSpace-=G+_}}else k&&this._setOverflow(B,F,i),L=this.GetLabelDims(i,l),this._labels[S]=this.SkipLabels(i,L);else{if(x)this._sanitizeWrappedText(e,L,i,!1,d)&&(L=this.GetLabelDims(i,l,S));this._labels[S]=this.SkipLabels(i,L)}}}}getMajorTickCoords(){for(var e,t=[],i="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,r=0;r<this._levelsArray[0].length;r++)if(this._levelsArray[0][r]){var s=this.getStartIdx(r,0),a=this.getEndIdx(r,0);null!=(e=this._renderGridAtLabels?this.getCoordAt(s+.5*(a-s)):a+.5<i?this.getCoordAt(a+.5):null)&&t.push(e)}return t}getMinorTickCoords(){var e,t=[];if(!this._levelsArray[1])return t;for(var i=0;i<this._levelsArray[1].length;i++)if(this._levelsArray[1][i]){var r=this.getStartIdx(i,1),s=this.getEndIdx(i,1);null!=(e=this._renderGridAtLabels?this.getCoordAt(r+.5*(s-r)):s+.5<this.getGroupCount()-1?this.getCoordAt(s+.5):null)&&t.push(e)}return t}getUnboundedValAt(e){if(null==e)return null;if(this._groupWidthRatios){for(var t=this._borderCoords.length,i=0;i<this._borderCoords.length;i++)if(e<=this._borderCoords[i]){t=i;break}return 0==t?this._borderValues[0]-(this._borderCoords[0]-e)/this._groupWidths[0]:this._borderValues[t-1]+(e-this._borderCoords[t-1])/this._groupWidths[t]}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.MinValue+(e-this.StartCoord)/r}getUnboundedCoordAt(e){if(null==e)return null;if(this._groupWidthRatios){for(var t=this._borderValues.length,i=0;i<this._borderValues.length;i++)if(e<=this._borderValues[i]){t=i;break}return 0==t?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-e):this._borderCoords[t-1]+this._groupWidths[t]*(e-this._borderValues[t-1])}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.StartCoord+(e-this.MinValue)*r}getLabelAt(e,t){if(null==t&&(t=this._numLevels-1),(e=Math.round(e))<0)return null;var i=this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].item:null;return i&&(i.name?i=i.name:null!=i.id&&(i="")),i}getGroupAt(e,t){if(null==t&&(t=this._numLevels-1),(e=Math.round(e))<0)return null;var i=this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].item:null;if(i){if(i.id)return i.id;if(i.name||""===i.name)return i.name}return i}getLabelStyleAt(e,i){var r=this._getGroupAttribute(e,i,"labelStyle");if(r){var s=new t.CSSStyle(r);return s.getStyle("font-size")||s.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),s}return null}getDatatip(e,t){return this._getGroupAttribute(e,t,"shortDesc")}isDrillable(e,t){var i=this._getGroupAttribute(e,t,"drilling");return"on"==i||"off"!=i&&("on"==this._drilling||"groupsOnly"==this._drilling)}getGroup(e,t){if(e<0||e>this.getGroupCount()-1)return null;if(1==this._numLevels)return this.getGroupAt(e);var i=[];null==t&&(t=this._numLevels-1);for(var r=this.getStartIdx(e,t),s=0;s<=t;s++)for(var a=this._levelsArray[s],n=0;n<a.length;n++)this.getStartIdx(n,s)<=r&&this.getEndIdx(n,s)>=r&&i.push(this.getGroupAt(n,s));return i.length>0?1===i.length&&1===this._numLevels?i[0]:i:null}getLabelBackground(e,i,r){null==r&&(r=this._numLevels-1);var s=e.getCSSStyle();if(s){var a=s.getStyle(t.CSSStyle.BACKGROUND_COLOR),n=s.getStyle(t.CSSStyle.BORDER_COLOR),o=s.getStyle(t.CSSStyle.BORDER_WIDTH),l=s.getStyle(t.CSSStyle.BORDER_RADIUS);if(null!=a||null!=n||null!=o||null!=l){var h=e.getDimensions(),g=.15*h.h;"blink"!==t.Agent.engine&&"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||e.getVertAlignment()!==t.OutputText.V_ALIGN_BOTTOM||(h.y+=h.h/2);var d=new t.Rect(i,h.x-g,h.y,h.w+2*g,h.h),u=new t.CSSStyle;return null!=a?u.setStyle(t.CSSStyle.BACKGROUND_COLOR,a):d.setInvisibleFill(),u.setStyle(t.CSSStyle.BORDER_COLOR,n),u.setStyle(t.CSSStyle.BORDER_WIDTH,o),u.setStyle(t.CSSStyle.BORDER_RADIUS,l),d.setCSSStyle(u),this._isLabelRotated[r]&&d.setMatrix(e.getMatrix()),d.setMouseEnabled(!1),d}return null}return null}getGroupIndex(e){if(null==e)return-1;for(var i=-1,r=0;r<this._groupCount;r++){var s=this.getGroup(r);if(e instanceof Array&&s instanceof Array?t.ArrayUtils.equals(e,s):e==s){i=r;break}}return i}getMinExtent(){return 1}getGroupWidth(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)}getGroupCount(){return this._groupCount}getNumLevels(){return this._numLevels}_generateLevelsArray(e,t,i,r){for(var s=0;s<e.length;s++)if(i[t]||(i[t]=[]),i[t].push({item:e[s],start:r,end:r,position:s}),e[s]&&e[s].groups){var a=i[t].length-1,n=this._generateLevelsArray(e[s].groups,t+1,i,i[t][a].start);r!=n?(i[t][a].end=n-1,r=n):r++}else r++;return r}_getGroupAttribute(e,t,i){null==t&&(t=this._numLevels-1);var r=this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].item:null;return r?r[i]:null}areSeparatorsRendered(){return this._areSeparatorsRendered}getSeparatorColor(){return this._separatorColor}getStartIdx(e,t){return null==t&&(t=this._numLevels-1),this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].start:null}getEndIdx(e,t){return null==t&&(t=this._numLevels-1),this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].end:null}getPosition(e,t){return null==t&&(t=this._numLevels-1),this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].position:null}getItemsRange(e){e instanceof Array||(e=[e]);for(var t=0,i=this._groupCount,r=[],s=0;s<e.length;s++)for(var a=this._levelsArray[s],n=e[s],o=0;o<a.length;o++){if((a[o].item.id?a[o].item.id:a[o].item.name)===n){var l=a[o].start,h=a[o].end;t<=l&&i>=h&&(t=l,i=h,r.push(a[o].item))}}return{startIndex:t,endIndex:i,groupData:r}}isRenderGridAtLabels(){return this._renderGridAtLabels}setLastRenderedLevel(e){this._lastRenderedLevel=e}getLastRenderedLevel(){return this._lastRenderedLevel}getSeparatorStartLevel(){for(var e=this._lastRenderedLevel,t=this._lastRenderedLevel-1;t>=0;t--)this._labels[t].length!=this._levelsArray[t].length&&(e=t);return e}getLabelIdx(e){return e._index>=0?e._index:null}getMaxLineWrap(){return this._maxLineWrap}_isTextWrapNeeded(e,i,r,s,a){var n=t.TextUtils.getTextStringWidth(e,i,r);return n>=a&&(n/this._maxLineWrap<a||!s)}isAutoRotate(){var e="top"==this.Position||"bottom"==this.Position,t=this._numLevels>1,i=this.getGroupWidth(),r="auto"==this.Options.tickLabel.rotation&&e;return!t&&r&&i<this._ROTATE_THRESHOLD}getSkipIncrement(){var e=1;return e=this._ROTATE_THRESHOLD/(2*this.getGroupWidth()),this.Options._duringZoomAndScroll&&(e*=4),Math.max(1,Math.floor(e))}}x.registerConstructor("group",M);class T extends t.Automation{constructor(e){super(e),this._options=this._comp.getOptions(),this._axisInfo=this._comp.getInfo()}GetSubIdForDomElement(e){var i=this._comp.getEventManager().GetLogicalObject(e);if(i&&i instanceof t.SimpleObjPeer){if("title"===i.getParams().type)return"title";if(this._options.groups){for(var r=i.getParams().level||0,s=this._axisInfo.getStartIdx(i.getParams().index,r),a="",n=0;n<=r;n++)for(var o=this._axisInfo.getLabels(this._comp.getCtx(),n),l=0;l<o.length;l++){var h=this._axisInfo.getLabelIdx(o[l]);this._axisInfo.getStartIdx(h,n)<=s&&this._axisInfo.getEndIdx(h,n)>=s&&(a+="["+this._axisInfo.getPosition(h,n)+"]")}if(a.length>0)return"item"+a}}return null}getDomElementForSubId(e){if("title"===e){var t=this._axisInfo.getTitle();if(t)return t.getElem()}else if(this._axisInfo instanceof M)for(var i=e.split("[").length-1-1,r=0,s=0,a=0;a<=i;a++){var n=e.indexOf("["),o=e.indexOf("]"),l=Number(e.substring(n+1,o));e=e.substring(o+1);for(var h,g=this._axisInfo.getLabels(this._comp.getCtx(),a),d=0;d<g.length;d++)if(h=this._axisInfo.getLabelIdx(g[d]),this._axisInfo.getStartIdx(h,a)===s){r=h;break}for(var u=r;u<g.length;u++)if(h=this._axisInfo.getLabelIdx(g[u]),this._axisInfo.getPosition(h,a)===l){if(0===e.length)return g[u].getElem();s=this._axisInfo.getStartIdx(h,a);break}}return null}findPeerFromGroupId(e){let i=this._comp._navigablePeers;for(let r=0;r<i.length;r++){let s=i[r];if("string"==typeof s._group&&1===e.length&&e[0]===s._group||Array.isArray(s._group)&&t.ArrayUtils.equals(s._group,e))return s}return null}dispatchDrillEvent(e){let t=this.findPeerFromGroupId(e);this._comp.getEventManager().processDrillEvent(t)}}class w extends t.KeyboardHandler{constructor(e,t){super(e),this._axis=t}processKeyDown(e){var i=e.keyCode,r=this._eventManager.getFocus(),s=null;if(i===t.KeyboardEvent.TAB){r&&(t.EventManager.consumeEvent(e),s=r);var a=this._axis.__getKeyboardObjects();a.length>0&&(t.EventManager.consumeEvent(e),s=this.getDefaultNavigable(a))}else i===t.KeyboardEvent.ENTER?r&&(this._eventManager.processDrillEvent(r),t.EventManager.consumeEvent(e)):s=super.processKeyDown(e);return s}}class D extends t.BaseComponent{constructor(e,t,i){super(e,t,i),this.Defaults=new C(e),this.EventManager=new b(this),this.EventManager.addListeners(this),this.EventManager.setKeyboardHandler(new w(this.EventManager,this)),this._bounds=null}SetOptions(e){e?"off"!==e.rendered?this.Options=this.Defaults.calcOptions(e):(e.tickLabel.style=new t.CSSStyle(e.tickLabel.style),e.titleStyle=new t.CSSStyle(e.titleStyle),this.Options=e):this.Options||(this.Options=this.GetDefaults());this.Options.isRTL=t.Agent.isRightToLeft(this.getCtx())}getPreferredSize(e,t,i,r){return this.SetOptions(e),A.getPreferredSize(this,t,i,r)}render(e,i,r,s,a){this.getCache().clearCache(),this.SetOptions(e),this._navigablePeers=[],this.Width=i,this.Height=r,this.removeChildren(),s||(s=0),a||(a=0);var n=new t.Rectangle(s,a,i,r);A.render(this,n)}__registerObject(e){(null!=e.getDatatip()||e.isDrillable())&&this._navigablePeers.push(e)}__getKeyboardObjects(){return this._navigablePeers}isNavigable(){return this._navigablePeers.length>0}getKeyboardFocus(){return null!=this.EventManager?this.EventManager.getFocus():null}setKeyboardFocus(e,i){if(null!=this.EventManager){for(var r=this.__getKeyboardObjects(),s=e.getId(),a=!1,n=0;n<r.length;n++){var o=r[n].getId();if(s instanceof Array&&o instanceof Array&&t.ArrayUtils.equals(s,o)||s===o){this.EventManager.setFocusObj(r[n]),a=!0,i&&r[n].showKeyboardFocusEffect();break}}a||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r));var l=this.getKeyboardFocus();if(l){var h=l.getDisplayable();h.setAriaProperty("label",l.getAriaLabel()),this.getCtx().setActiveElement(h)}}}processEvent(e,t){this===t&&this.dispatchEvent(e)}getInfo(){return this.Info}__setInfo(e){this.Info=e}getWidth(){return this.Width}getHeight(){return this.Height}__setBounds(e){this._bounds=e}__getBounds(){return this._bounds}getAutomation(){return new T(this)}static getDefaults(e){return(new C).getDefaults(e)}}const O={getHideAndShowBehavior:e=>e.getOptions().hideAndShowBehavior,getHoverBehavior:e=>e.getOptions().hoverBehavior,isScrollable:e=>!!l.isScrollSupported(e)&&"off"!=e.getOptions().zoomAndScroll,isZoomable:e=>{if(!l.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"live"==t||"delayed"==t},getZoomDir:e=>l.isScatterBubble(e)?e.getOptions().zoomDirection:"auto",isLiveScroll:e=>{if(!l.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"live"==t||"liveScrollOnly"==t},isDelayedScroll:e=>{if(!l.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"delayed"==t||"delayedScrollOnly"==t},isPlotAreaDraggable:e=>{var t=e.getOptions(),i=t.dnd?t.dnd.drag.items:{};return Object.keys(i).length>0},isPlotAreaDropTarget:e=>{var t=e.getOptions(),i=t.dnd?t.dnd.drop.plotArea:{};return Object.keys(i).length>0},isHorizScrollbarSupported:e=>{var t=O.getZoomDir(e);return!l.isPolar(e)&&(l.isBLAC(e)&&l.isVertical(e)||l.isScatterBubble(e)&&"y"!=t)},isVertScrollbarSupported:e=>{var t=O.getZoomDir(e);return!l.isPolar(e)&&(l.isBLAC(e)&&l.isHorizontal(e)||l.isScatterBubble(e)&&"x"!=t)}},P=(e,i,r,s,a,n,o,l)=>{var h=new t.OutputText(i.getCtx(),r,a,n);return h.setCSSStyle(s),t.TextUtils.fitText(h,o,l,i)?(e.associate(h,new t.SimpleObjPeer(h.getUntruncatedTextString())),h):null},E=e=>{var t=e.getOptions();return t.title.text||t.subtitle.text||t.footnote.text},I=(e,i,r)=>{var s=e.getOptions();if(d.hasInvalidTimeData(e)&&d.hasData(e))var a=s.translations.labelInvalidData;else(a=s.emptyText)||(a=s.translations.labelNoData);e.renderEmptyText(i,a,new t.Rectangle(r.x,r.y,r.w,r.h),e.getEventManager(),s._statusMessageStyle)},L={getXAxisPos:e=>l.isPolar(e)?"tangential":l.isHorizontal(e)?t.Agent.isRightToLeft(e.getCtx())?"right":"left":"bottom",getBaselineScaling:(e,t)=>{var i=t+"Axis",r=e.getOptions()[i].baselineScaling;return!r||"zero"!=r&&"min"!=r?l.isStock(e)?"min":"zero":r},getYAxisPos:e=>{var i=e.getOptions().yAxis.position;return l.isPolar(e)?"radial":l.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"bottom":i:(l.isStock(e)&&(i=i||"end"),t.Agent.isRightToLeft(e.getCtx())?i&&"end"==i?"left":"right":i&&"end"==i?"right":"left")},getY2AxisPos:e=>{var i=e.getOptions().y2Axis.position;return l.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"top":i:t.Agent.isRightToLeft(e.getCtx())?i&&"start"==i?"right":"left":i&&"start"==i?"left":"right"},getAxisOffset:e=>{var t="axisOffset",i=e.getCache().getFromCache(t);if(null!=i)return i;var r=e.getOptions().styleDefaults.groupSeparators;if(l.hasGroupAxis(e)&&d.getNumLevels(e)>1&&"on"==r.rendered)i=.5;else if(d.hasBarSeries(e)||p.hasCenteredSeries(e)||d.hasCandlestickSeries(e)||d.hasBoxPlotSeries(e)||l.isBLAC(e)&&1==d.getGroupCount(e))i=.5;else if(l.isSpark(e)||O.isScrollable(e)||l.isOverview(e))i=0;else{var s=l.isHorizontal(e)?.2:.5;i=s-s/Math.sqrt(d.getGroupCount(e))}return e.getCache().putToCache(t,i),i},isGridShifted:e=>{if(!l.isBLAC(e))return!1;if(d.getNumLevels(e)>1)return!0;for(var t=d.getSeriesCount(e),i=0;i<t;i++)if(d.isSeriesRendered(e,i)){var r=d.getSeriesType(e,i),s=p.getLineType(e,i);if("bar"!=r&&"centeredSegmented"!=s&&"centeredStepped"!=s)return!1}return!0},isGridPolygonal:e=>!(!l.isBLAC(e)||d.hasBarSeries(e))&&"polygon"==e.getOptions().polarGridShape,isAxisRendered:(e,t)=>{if(!l.hasAxes(e))return!1;var i=e.getOptions(),r=i.overview.content&&i.overview.content[t+"Axis"],s=r&&"on"==r.rendered;if("y"==t&&d.hasY2DataOnly(e)&&!s)return!1;if("y2"==t&&!d.hasY2Data(e)&&!s)return!1;var a=i[t+"Axis"];return!("off"==a.rendered&&!s)&&!("off"==a.tickLabel.rendered&&!a.title&&!s)},isAxisLineRendered:(e,t)=>{var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.axisLine.rendered&&!("auto"==i.axisLine.rendered&&"x"!=t&&l.isBLAC(e)&&!l.isPolar(e))},isMajorTickRendered:(e,t)=>{var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.majorTick.rendered&&!("auto"==i.majorTick.rendered&&"x"==t&&l.isBLAC(e)&&!l.isPolar(e))},isMinorTickRendered:(e,t)=>{var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.minorTick.rendered&&("on"==i.minorTick.rendered||L.isLog(e,t))},isLog:(e,t)=>"log"==e.getOptions()[t+"Axis"].scale,getTickLabelHeight:(e,i)=>{var r=e.getOptions(),s=r[i+"Axis"].tickLabel.style;return s instanceof t.CSSStyle||(s=new t.CSSStyle(s)),s.mergeUnder(D.getDefaults(r.skin).tickLabel.style),t.TextUtils.getTextStringHeight(e.getCtx(),s)},getTickLabelGapSize:(e,t)=>{if(L.isTickLabelInside(e,t))return 0;var i=e.getOptions(),r=l.isHorizontal(e),s=L.getGapScalingFactor(e,t),a=Math.ceil(i.layout.tickLabelGapWidth*s),n=Math.ceil(i.layout.tickLabelGapHeight*s);return"x"==t?r?a:n:r?n:a},getGapScalingFactor:(e,t)=>L.isAxisRendered(e,t)?L.getTickLabelHeight(e,t)/14:0,isTickLabelInside:(e,t)=>!(l.isPolar(e)||l.isScatterBubble(e)||l.isBLAC(e)&&"x"==t)&&"inside"==e.getOptions()[t+"Axis"].tickLabel.position,getXAxisViewportMinMax:(e,t)=>{var i=t?"xAxisViewportMinMaxUG":"xAxisViewportMinMax",r=e.getCache().getFromCache(i);if(r)return r;var s=e.getOptions().xAxis,a=l.hasGroupAxis(e),n=L.getAxisOffset(e);if(t)var o=L.getXAxisGlobalMinMax(e);var h=null;null!=s.viewportMin?h=s.viewportMin:null!=s.viewportStartGroup?h=a?d.getGroupIdx(e,s.viewportStartGroup)-n:s.viewportStartGroup:t&&(h=o.min);var g=null;return null!=s.viewportMax?g=s.viewportMax:null!=s.viewportEndGroup?g=a?d.getGroupIdx(e,s.viewportEndGroup)+n:s.viewportEndGroup:t&&(g=o.max),r={min:h,max:g},e.getCache().putToCache(i,r),r},getXAxisGlobalMinMax:e=>{var t=e.getOptions().xAxis,i=l.hasGroupAxis(e),r=L.getAxisOffset(e);if(!i)var s=L.getMinMaxVal(e,"x");return{min:null!=t.min?t.min:i?0-r:s.min,max:null!=t.max?t.max:i?d.getGroupCount(e)-1+r:s.max}},applyInitialZooming:(e,t)=>{var i=e.getOptions(),r=i.xAxis,s=i.initialZooming;if(l.isBLAC(e)&&"off"!=i.zoomAndScroll&&"none"!=s){i._initialZoomed&&("last"==s?r.viewportMin=null:r.viewportMax=null);var a=L.getXAxisViewportMinMax(e,!1),n=a.min,o=a.max;if(!("last"==s&&null!=n||"first"==s&&null!=o)){var h=l.isHorizontal(e)?t.h:t.w,g=Math.floor(h/(2*L.getTickLabelHeight(e,"x")))+L.getAxisOffset(e),u=d.getGroupCount(e)-1;if(!(u<=g)){var c,p;if(l.hasGroupAxis(e))c=0,p=u;else{var _=L.getMinMaxVal(e,"x");c=_.min,p=_.max}var m=g/u*(p-c);"last"==i.initialZooming?(null==o&&(o=p),r.viewportMin=Math.max(o-m,c)):(null==n&&(n=c),r.viewportMax=Math.min(n+m,p)),i._initialZoomed=!0}}}},isYAdjustmentNeeded:e=>{var t=e.getOptions().styleDefaults.dataLabelPosition,i=e.getOptionsCache().getFromCache("hasDataOutsideBarEdge"),r="outsideBarEdge"==t||i,s=p.isStackLabelRendered(e);return!(!d.hasBarSeries(e)||!r&&!s)},axisContainsPoint:(e,t)=>{if(!e)return!1;var i=e.getOptions().position,r="top"==i||"bottom"==i,s=r?4:10,a=r?10:4,n=e.__getBounds().clone();n.x-=a,n.y-=s,n.w+=2*a,n.h+=2*s;var o=e.stageToLocal(t);return n.containsPoint(o.x,o.y)},isStandalonePlotArea:e=>!E(e)&&(!l.isLegendRendered(e)&&(!L.isAxisRendered(e,"x")&&(!L.isAxisRendered(e,"y")&&!L.isAxisRendered(e,"y2")))),isStandaloneXAxis:e=>{var t=e.getOptions();return!E(e)&&("off"==t.legend.rendered&&("off"==t.plotArea.rendered&&(!L.isAxisRendered(e,"y")&&!L.isAxisRendered(e,"y2"))))},isStandaloneYAxis:e=>{var t=e.getOptions();return!E(e)&&("off"==t.legend.rendered&&(!L.isAxisRendered(e,"x")&&("off"==t.plotArea.rendered&&!L.isAxisRendered(e,"y2"))))},isStandaloneY2Axis:e=>{var t=e.getOptions();return!E(e)&&("off"==t.legend.rendered&&(!L.isAxisRendered(e,"x")&&(!L.isAxisRendered(e,"y")&&"off"==t.plotArea.rendered)))},getViewportMinMaxGroupIdx:(e,t)=>{var i=L.getXAxisViewportMinMax(e,!0),r=l.hasGroupAxis(e),s=d.getGroupCount(e),a=i.min,n=0;if(null!=a)if(r)n=Math.ceil(a);else for(var o=0;o<s;o++){if(d.getXVal(e,t,o)>=a){n=o;break}}var h=i.max,g=s-1;if(r)g=Math.floor(h);else for(var u=s-1;u>=n;u--){if(d.getXVal(e,t,u)<=h){g=u;break}}return{min:n,max:g}},getViewportGroupCount:e=>{var t=L.getXAxisViewportMinMax(e,!0),i=L.getXAxisGlobalMinMax(e),r=(t.max-t.min)/(i.max-i.min);return isNaN(r)?1:r*d.getGroupCount(e)},_computeYAlongLine:(e,i,r,s,a,n)=>{e&&(r=t.Math.log10(r),a=t.Math.log10(a));var o=r+(a-r)*(n-i)/(s-i);return e?Math.pow(10,o):o},getMinMaxVal:(e,t,i)=>{var r=t+(i?"MinMaxDO":"MinMax"),s=e.getCache().getFromCache(r);if(s)return s;var a=e.getOptions()[t+"Axis"];if(null!=a.dataMax&&null!=a.dataMin&&i)return s={min:a.dataMin,max:a.dataMax},e.getCache().putToCache(r,s),s;var n=l.hasTimeAxis(e);if(null!=a.max&&null!=a.min&&!i&&!n)return s={min:a.min,max:a.max},e.getCache().putToCache(r,s),s;var o="z"!=t&&L.isLog(e,t),h="y2"==t;h&&(t="y");for(var g="y"==t,u=!i&&g&&l.isBLAC(e),c="withoutRescale"==O.getHideAndShowBehavior(e)||"x"==t&&l.hasTimeAxis(e),_=-1/0,v=1/0,f=d.getSeriesCount(e),y=0;y<f;y++){var C=d.getSeriesItem(e,y),x=d.getSeriesType(e,y),S=g&&(d.isRangeSeries(e,y)||"candlestick"==x||"boxPlot"==x);if(c||d.isSeriesRendered(e,y)){var b=d.isAssignedToY2(e,y);if(!g||h==b){var A=C.items;if(A){var M=0,T=A.length-1;if(u){var w=L.getViewportMinMaxGroupIdx(e,y);M=w.min,T=w.max}for(var D=M;D<=T;D++)if(c||d.isDataItemRendered(e,y,D)){var P=A[D],E=null;if(g?S||(E=d.getCumulativeVal(e,y,D,c)):"x"==t&&n&&!l.isMixedFrequency(e)?(E=d.getGroupLabel(e,D),null!=P&&(P.x=E)):null!=P&&(E=P[t]),!("z"==t&&E<=0)){if(!(S||null==E||"number"!=typeof E||o&&E<=0)){var I=0;if(l.isBubble(e)&&!i&&"z"!=t){var R=p.getMarkerSize(e,y,D);I=L.getBubbleAxisRadius(e,t,R)}_=Math.max(_,o?E*Math.pow(10,I):E+I),v=Math.min(v,o?E/Math.pow(10,I):E-I)}if(S){var k=d.getHighVal(e,y,D),B=d.getLowVal(e,y,D);o&&(k<=0||B<=0)||(_=Math.max(_,k,B),v=Math.min(v,k,B))}if(u&&!S){var F=null,H=null;if(M>0&&D==M?(F=D-1,H=L.getXAxisViewportMinMax(e,!0).min):T<A.length-1&&D==T&&(F=D+1,H=L.getXAxisViewportMinMax(e,!0).max),null!=F){var N=d.getXVal(e,y,D),G=d.getXVal(e,y,F),j=d.getCumulativeVal(e,y,F),V=L._computeYAlongLine(o,N,E||0,G,j||0,H);_=Math.max(_,V),v=Math.min(v,V)}}if("x"!=t){var U=d.getNestedDataItemCount(e,y,D);if(U>0)for(var W=0;W<U;W++){var Y=d.getNestedDataItem(e,y,D,W),z="number"==typeof Y;_=z?Math.max(_,Y):Math.max(_,Y.value),v=z?Math.min(v,Y):Math.min(v,Y.value)}}}}}}}}var X=null;if("x"==t?X=d.getAxisRefObjs(e,"x"):h?X=d.getAxisRefObjs(e,"y2"):g&&(X=d.getAxisRefObjs(e,"y")),null!=X)for(var K=0;K<X.length;K++){var q=X[K],Z=q.items,Q="withRescale"==O.getHideAndShowBehavior(e)&&!m.isObjRendered(e,q);if(!Q)if(Z&&!Q){var J=0,$=Z.length-1;if(u){var ee=L.getViewportMinMaxIdx(e,Z);J=ee.min,$=ee.max}for(var te=J;te<=$;te++)if(null!=Z[te]){var ie=m.getLowVal(Z[te]),re=m.getHighVal(Z[te]),se=isNaN(Z[te])?Z[te].value:Z[te];null!=ie&&isFinite(ie)&&(v=Math.min(v,ie),_=Math.max(_,ie)),null!=re&&isFinite(re)&&(v=Math.min(v,re),_=Math.max(_,re)),null!=se&&isFinite(se)&&(v=Math.min(v,se),_=Math.max(_,se))}}else{var ae=m.getLowVal(q),ne=m.getHighVal(q),oe=q.value;null!=ae&&isFinite(ae)&&(v=Math.min(v,ae),_=Math.max(_,ae)),null!=ne&&isFinite(ne)&&(v=Math.min(v,ne),_=Math.max(_,ne)),null!=oe&&isFinite(oe)&&(v=Math.min(v,oe),_=Math.max(_,oe))}}return s={min:v,max:_},e.getCache().putToCache(r,s),s},getBubbleAxisRadius:(e,t,i)=>{if(!i)return 0;var r="x"==t?"_xAxisBubbleRatio":"_yAxisBubbleRatio";return i/2*e.getCache().getFromCache(r)},getViewportMinMaxIdx:(e,t)=>{var i=L.getXAxisViewportMinMax(e,!0),r=l.hasGroupAxis(e),s=i.min,a=0;if(null!=s)if(r)a=Math.ceil(s);else for(var n=0;n<t.length;n++){if(m.getXVal(e,t,n)>=s){a=n;break}}var o=i.max,h=t.length-1;if(r)h=Math.floor(o);else for(var g=t.length-1;g>=a;g--){if(d.getXVal(e,t,g)<=o){h=g;break}}return{min:a,max:h}}},R={getGroupWidthRatios:e=>{if(!d.hasBarSeries(e)&&!d.hasCandlestickSeries(e)&&!d.hasBoxPlotSeries(e))return null;var t=e.getOptions(),i=R.getBarGapRatio(e);if(i>=1)return t._averageGroupZ=1/0,null;t._averageGroupZ=0;var r,s,a,n,o,l,h=d.getGroupCount(e),g=d.isSplitDualY(e),u=d.getStackCategories(e,"bar"),c=u.y.length,p=u.y2.length;if(e.getOptionsCache().getFromCache("hasConstantZValue")){var _=e.getOptionsCache().getFromCache("constantZValue")*(g?Math.max(c,p):c+p);l=(o=_*h)*i/(1-i),r=null}else{for(var m=[],v=0;v<h;v++){for(s=0,n=0;n<c;n++)s+=d.getBarCategoryZ(e,u.y[n],v,!1);for(a=0,n=0;n<p;n++)a+=d.getBarCategoryZ(e,u.y2[n],v,!0);m.push(g?Math.max(s,a):s+a)}o=m.reduce((e,t)=>e+t),l=o*i/(1-i),r=m.map(e=>e+l/h)}return t._averageGroupZ=(o+l)/h,r},getBarGapRatio:e=>{var t="barGapRatio",i=e.getCache().getFromCache(t);if(i)return i;if("string"==typeof(i=e.getOptions().styleDefaults.barGapRatio)&&"%"==i.slice(-1)&&(i=Number(i.slice(0,-1))/100),null!=i&&!isNaN(i))return Number(i);var r=d.getStackCategories(e,"bar"),s=r.y.length,a=r.y2.length,n=d.isSplitDualY(e)?Math.max(s,a):s+a;return i=l.isPolar(e)?1==n?0:.25:1==n?.37+.26/L.getViewportGroupCount(e):.25,e.getCache().putToCache(t,i),i},getBarInfo:(e,i,r,s)=>{var a,n,o=l.isHorizontal(e),g=d.isStacked(e),u=t.Agent.isRightToLeft(e.getCtx()),c=e.xAxis,_=d.isRangeSeries(e,i),m=p.getBarCategoryOffsetMap(e,r),v=d.getXVal(e,i,r),f=c.getUnboundedCoordAt(v),y=d.isAssignedToY2(e,i),C=y?e.y2Axis:e.yAxis,x=C.getBaselineCoord();if(_){var S=d.getLowVal(e,i,r),b=d.getHighVal(e,i,r);if(null==S||isNaN(S)||null==b||isNaN(b))return null;if((a=C.getBoundedCoordAt(S))==(n=C.getBoundedCoordAt(b))&&null==C.getCoordAt(S))return null}else{var A=d.getVal(e,i,r),M=d.getCumulativeVal(e,i,r);if(null==A||isNaN(A))return null;if((a=C.getBoundedCoordAt(M))==(n=g?C.getBoundedCoordAt(M-A):x)&&null==C.getCoordAt(M))return null}var T=d.getStackCategory(e,i),w=p.getBarWidth(e,i,r),D=g?p.getBarStackWidth(e,T,r,y):w;if("pixel"==p.getBarSpacing(e)&&"firefox"===t.Agent.browser){var O=w/(1-R.getBarGapRatio(e));w>1&&O-w<2&&(D=--w)}var P=m[y?"y2":"y"][T]+.5*(D-w),E=u&&!o?f-P-w:f+P,I=E+w,L=(E+I)/2,k=_?(a+n)/2:a;return{x1:E,x2:I,axisCoord:x,baseCoord:n,yCoord:a,dataPos:h.convertAxisCoord(e,new t.Point(L,k),s),barWidth:w}},getDataLabelPos:(e,i,r,s,a,n)=>{var o,h=d.getNestedDataItem(e,i,r,s),g=d.getDataItem(e,i,r);if(n)o="outsideBarEdge";else if((o=h&&h.labelPosition?h.labelPosition:g.labelPosition)||(o=e.getOptions().styleDefaults.dataLabelPosition),"none"==(o=p._parseLowHighArray(o,a)))return"none";var u=t.Agent.isRightToLeft(e.getCtx()),c=l.isHorizontal(e),_=l.isPolar(e);if(l.isFunnel(e)||l.isPyramid(e))return"center";if("bar"==d.getSeriesType(e,i)){if("center"==o||_)return"center";var m,v=d.isStacked(e);if("insideBarEdge"!=o){if(v&&!n)return"center";"outsideBarEdge"!=o&&(o="insideBarEdge")}if("insideBarEdge"==o&&!v){var f,y=e.getOptions().styleDefaults.dataLabelStyle,C=g.labelStyle?t.CSSStyle.mergeStyles([y,new t.CSSStyle(g.labelStyle)]):y;if(c){var x=p.getDataLabel(e,i,r,s,a);f=t.TextUtils.getTextStringWidth(e.getCtx(),x,C)}else f=t.TextUtils.getTextStringHeight(e.getCtx(),C);var S=R.getBarInfo(e,i,r);(S?Math.abs(S.baseCoord-S.yCoord):0)<=f&&(o="outsideBarEdge")}return m="low"==a?g.low<=g.high:"high"==a?g.high<g.low:d.getVal(e,i,r,s)<0,"outsideBarEdge"==o?c?!m&&!u||m&&u?"right":"left":m?"bottom":"top":c?!m&&!u||m&&u?"inRight":"inLeft":m?"inBottom":"inTop"}if("center"==o)return"center";if("belowMarker"==o)return"bottom";if("aboveMarker"==o)return"top";if("afterMarker"!=o&&"beforeMarker"!=o){if(l.isBubble(e))return"center";if("low"!=a||_)if("high"!=a||_)o="afterMarker";else{if(!c)return"top";o="afterMarker"}else{if(!c)return"bottom";o="beforeMarker"}}return!u&&"afterMarker"==o||u&&"beforeMarker"==o?"right":"left"}},k={getBarFill:(e,t,i,r)=>{var s=p.getColor(e,t,i),a=p.getPattern(e,t,i);return k.getRectangleFill(e,s,a,r)},getRectangleFill:(e,i,r,s)=>{var a=p.getSeriesEffect(e);if(r)return new t.PatternFill(r,i);if("gradient"==a&&s>3){var n,o,h=l.isHorizontal(e)?270:0;return n=[t.ColorUtils.adjustHSL(i,0,-.09,.04),t.ColorUtils.adjustHSL(i,0,-.04,-.05)],o=[0,1],new t.LinearGradientFill(h,n,null,o)}return new t.SolidFill(i)},getAreaFill:(e,i)=>{var r,s="lineWithArea"==d.getSeriesType(e,i),a=d.getSeriesItem(e,i);a&&a.areaColor?r=a.areaColor:(r=p.getColor(e,i),s&&(r=t.ColorUtils.setAlpha(r,.2)));var n=p.getPattern(e,i),o=p.getSeriesEffect(e);if(n)return new t.PatternFill(n,r);if("gradient"==o){var h,g,u=l.isHorizontal(e)?180:270;if(s){var c=t.ColorUtils.getAlpha(r);h=[t.ColorUtils.setAlpha(r,Math.min(c+.2,1)),t.ColorUtils.setAlpha(r,Math.max(c-.15,0))],g=[0,1]}else h=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],g=[0,1];return new t.LinearGradientFill(u,h,null,g)}return new t.SolidFill(r)},getMarkerFill:(e,i,r,s)=>{var a=p.getMarkerColor(e,i,r,s),n=p.getPattern(e,i,r,s);if(n)return new t.PatternFill(n,a);if(l.isBubble(e)&&"gradient"==p.getSeriesEffect(e)){var o=[t.ColorUtils.adjustHSL(a,0,-.09,.04),t.ColorUtils.adjustHSL(a,0,-.04,-.05)];return new t.LinearGradientFill(270,o,null,[0,1])}return new t.SolidFill(a)},getFunnelPyramidSliceFill:(e,i,r,s,a)=>{var n,o=p.getPattern(e,i,0),h=p.getSeriesEffect(e);if(o&&!a)return("vertical"==e.getOptions().orientation||l.isPyramid(e))&&(n=t.Agent.isRightToLeft(e.getCtx())?new t.Matrix(0,-1,1,0):new t.Matrix(0,1,-1,0)),new t.PatternFill(o,r,null,n);if("gradient"==h){var g,d,u=l.isPyramid(e)?180:90;return"on"==e.getOptions().styleDefaults.threeDEffect?(g=[t.ColorUtils.adjustHSL(r,0,0,-.1),t.ColorUtils.adjustHSL(r,0,0,.12),r],d=[0,.65,1]):(g=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],d=[0,1]),new t.LinearGradientFill(u,g,null,d,[s.x,s.y,s.w,s.h])}return new t.SolidFill(r)}};class B extends t.Path{constructor(e,i,r,s,a,n,o,l,h){super(e.getCtx()),this._FUNNEL_3D_WIDTH_RATIO=.08,this._FUNNEL_ANGLE_2D=36,this._FUNNEL_RATIO=1/3,this._BORDER_COLOR="#FFFFFF",this._MIN_CHARS_DATA_LABEL=3,this._LINE_FRACTION=2/3,this._AREA_FRACTION=.41,this._HEIGHT_FRACTION=.28,this._LINE_FRACTION_2=.4,this._AREA_FRACTION_2=.8,this._HEIGHT_FRACTION_2=.7,this._chart=e;var g=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._funnelWidth=s,this._funnelHeight=a,this._startPercent=n,this._valuePercent=o,this._fillPercent=l,this._3dRatio="on"==g.threeDEffect?1:0,this._gap=h;var d=this._getPath();this._dataColor=p.getColor(this._chart,this._seriesIndex,0),this._backgroundColor=g.backgroundColor?g.backgroundColor:g.funnelBackgroundColor,this.setCmds(d.slice),d.bar&&(this._bar=new t.Path(this.getCtx(),d.bar),this.addChild(this._bar),this._bar.setMouseEnabled(!1)),this._setColorProps(d.sliceBounds),this._label=this._getSliceLabel(d.sliceBounds,d.barBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))}_getPath(){var e=t.Agent.isRightToLeft(this.getCtx()),i=d.getSeriesCount(this._chart),r=(this._numDrawnSeries+1)*this._gap,s=t.Math.degreesToRads(this._FUNNEL_ANGLE_2D-2*this._3dRatio),a=this._funnelWidth-i*this._gap,n=a/Math.sin(t.Math.degreesToRads(this._FUNNEL_ANGLE_2D)),o=this._funnelHeight/Math.sin(s),l=this._3dRatio*this._funnelWidth/this._funnelHeight*this._FUNNEL_3D_WIDTH_RATIO;l<1e-5&&(l=0);var h,g,u,c,p,_,m,v,f,y,C,x,S=this._funnelHeight,b=this._funnelHeight*this._FUNNEL_RATIO;this._startPercent<this._AREA_FRACTION?(h=this._startPercent,u=S,p=this._funnelHeight*this._LINE_FRACTION,m=this._AREA_FRACTION,f=a*this._HEIGHT_FRACTION,C=a*(1-this._HEIGHT_FRACTION)):this._startPercent<this._AREA_FRACTION_2?(h=this._startPercent-this._AREA_FRACTION,u=this._funnelHeight*this._LINE_FRACTION,p=this._funnelHeight*this._LINE_FRACTION_2,m=this._AREA_FRACTION_2-this._AREA_FRACTION,f=a*(this._HEIGHT_FRACTION_2-this._HEIGHT_FRACTION),C=a*(1-this._HEIGHT_FRACTION_2)):(h=this._startPercent-this._AREA_FRACTION_2,u=this._funnelHeight*this._LINE_FRACTION_2,p=b,m=1-this._AREA_FRACTION_2,f=a*(1-this._HEIGHT_FRACTION_2),C=0),this._startPercent+this._valuePercent<this._AREA_FRACTION?(c=S,_=this._funnelHeight*this._LINE_FRACTION,g=this._startPercent+this._valuePercent,v=this._AREA_FRACTION,y=a*this._HEIGHT_FRACTION,x=a*(1-this._HEIGHT_FRACTION)):this._startPercent+this._valuePercent<this._AREA_FRACTION_2?(c=this._funnelHeight*this._LINE_FRACTION,_=this._funnelHeight*this._LINE_FRACTION_2,g=this._startPercent+this._valuePercent-this._AREA_FRACTION,v=this._AREA_FRACTION_2-this._AREA_FRACTION,y=a*(this._HEIGHT_FRACTION_2-this._HEIGHT_FRACTION),x=a*(1-this._HEIGHT_FRACTION_2)):(c=this._funnelHeight*this._LINE_FRACTION_2,_=b,g=this._startPercent+this._valuePercent-this._AREA_FRACTION_2,v=1-this._AREA_FRACTION_2,y=a*(1-this._HEIGHT_FRACTION_2),x=0);var A,M,T,w=Math.sqrt((m-h)/m*u*u+h/m*p*p),D=Math.sqrt((v-g)/v*c*c+g/v*_*_),O=.98*Math.asin(((w-p)*f/(u-p)+C)/n),P=.98*Math.asin(((D-_)*y/(c-_)+x)/n),E=(1+this._FUNNEL_RATIO)/2*this._funnelHeight+o,I=(1-this._FUNNEL_RATIO)/2*this._funnelHeight-o;e?(A=[n*Math.sin(O)+r,E-o*Math.cos(O),n*Math.sin(P)+r,E-o*Math.cos(P),n*Math.sin(P)+r,I+o*Math.cos(P),n*Math.sin(O)+r,I+o*Math.cos(O)],M=0,T=1):(A=[this._funnelWidth-r-n*Math.sin(O),E-o*Math.cos(O),this._funnelWidth-r-n*Math.sin(P),E-o*Math.cos(P),this._funnelWidth-r-n*Math.sin(P),I+o*Math.cos(P),this._funnelWidth-r-n*Math.sin(O),I+o*Math.cos(O)],M=1,T=0);var L=t.PathUtils.moveTo(A[0],A[1]),R=null;L+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,Math.PI,T,A[6],A[7]),L+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,Math.PI,T,A[0],A[1]),L+=t.PathUtils.arcTo(n,o,s,M,A[2],A[3]),L+=t.PathUtils.arcTo(l*(A[3]-A[5])/2,(A[3]-A[5])/2,Math.PI,T,A[4],A[5]),L+=t.PathUtils.arcTo(n,o,s,M,A[6],A[7]);var k=new t.Rectangle(Math.min(A[0],A[2]),A[5],Math.abs(A[0]-A[2]),Math.abs(A[3]-A[5]));if(null!=this._fillPercent){var B=Math.max(Math.min(this._fillPercent,1),0),F=e?-B*Math.PI:B*Math.PI;R=t.PathUtils.moveTo(A[0],A[1]),R+=t.PathUtils.arcTo(n,o,s,M,A[2],A[3]),R+=t.PathUtils.arcTo(l*(A[3]-A[5])/2,(A[3]-A[5])/2,F,T,A[2]+l*(A[3]-A[5])/2*Math.sin(F),(A[5]+A[3])/2+(A[3]-A[5])/2*Math.cos(F)),this._fillPercent>.95?R+=t.PathUtils.arcTo(n,o,s,M,A[6],A[1]+B*(A[7]-A[1])):this._fillPercent<.05?R+=t.PathUtils.arcTo(n,o,s,T,A[6],A[1]+B*(A[7]-A[1])):R+=t.PathUtils.lineTo(A[6]+l*(A[1]-A[7])/2*Math.sin(F),(A[7]+A[1])/2+(A[1]-A[7])/2*Math.cos(F)),R+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,F,M,A[0],A[1]),R+=t.PathUtils.closePath();var H=new t.Rectangle(Math.min(A[0],A[2]),A[5]+Math.abs(A[3]-A[5])*(1-B),Math.abs(A[0]-A[2]),Math.abs(A[3]-A[5])*B)}return{slice:L,bar:R,sliceBounds:k,barBounds:R?H:k}}_getSliceLabel(e,i){var r=p.getDataLabel(this._chart,this._seriesIndex,0);if(r||(r=d.getSeriesLabel(this._chart,this._seriesIndex)),r&&"none"!=R.getDataLabelPos(this._chart,this._seriesIndex,0)){var s=new t.MultilineText(this.getCtx(),r,0,0),a=null!=p.getPattern(this._chart,this._seriesIndex,0),n=this._chart.getOptions().styleDefaults,o=[n._dataLabelStyle,n.dataLabelStyle,new t.CSSStyle(d.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],l=t.CSSStyle.mergeStyles(o);if(s.setCSSStyle(l),t.TextUtils.fitText(s,e.h-this._3dRatio*(.8-this._valuePercent)*50,e.w,this,this._MIN_CHARS_DATA_LABEL)){var h=s.getDimensions(),g=this._getLabelPos(e);if(a){var u=.15*h.h,c=t.Agent.isRightToLeft(this.getCtx())?.5:-.5,_=t.PathUtils.roundedRectangle(h.x-u,h.y,h.w+2*u,h.h,2,2,2,2),m=new t.Path(this.getCtx(),_);m.setSolidFill(p.SERIES_PATTERN_BG_COLOR,.9),g=g.translate(c*h.h,-c*h.w),m.setMatrix(g),this.addChild(m)}var v=a?t.ColorUtils.getContrastingTextColor(p.SERIES_PATTERN_BG_COLOR):i.containsPoint(e.x,e.y+(e.h-h.w)/2)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(this._backgroundColor),f=new t.CSSStyle({color:v});return o.splice(1,0,f),t.Agent.isHighContrast()&&o.push(f),l=t.CSSStyle.mergeStyles(o),s.setCSSStyle(l),s.setMatrix(this._getLabelPos(e)),s.alignCenter(),s.alignMiddle(),s}}}_getLabelPos(e){var i=this._3dRatio*(e.h*this._funnelWidth/this._funnelHeight*this._FUNNEL_3D_WIDTH_RATIO/2),r=new t.Matrix;return r=t.Agent.isRightToLeft(this.getCtx())?(r=r.rotate(Math.PI/2)).translate(e.x+e.w/2-i,e.y+e.h/2):(r=r.rotate(3*Math.PI/2)).translate(e.x+e.w/2+i,e.y+e.h/2)}_setColorProps(e){var i=k.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=p.getBorderColor(this._chart,this._seriesIndex,0),s=p.getUserBorderWidth(this._chart,this._seriesIndex,0),a=p.getDefaultBorderWidth(this._chart,this._seriesIndex,0),n=!1,o="redwood"===this.getCtx().getThemeBehavior();null==r&&this._3dRatio>0&&(n=!0,r=this._BORDER_COLOR);var l=null!==s?s:a;!r||o&&this._chart.isSelectionSupported()&&!this._bar&&n||this.setSolidStroke(r,null,l);var h=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor),g=k.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._backgroundColor,e,!0);this._bar?(this.setFill(g),this._bar.setFill(i),this._bar.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this._bar.setClassName(p.getClassName(this._chart,this._seriesIndex,0))):(this.setFill(i),this.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(p.getClassName(this._chart,this._seriesIndex,0))),this.OriginalStroke=this.getStroke();var d=null!=this._bar?this._bar:this;if(this._chart.isSelectionSupported())if(this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),o)if(null!=this._bar)d.setSolidStroke(this._dataColor,null,0),d.setFeedbackClassName("oj-dvt-selectable");else{var u=null==r||n?this._dataColor:r,c=null!==s?s:0;d.setSolidStroke(u,null,c),d.setFeedbackClassName("oj-dvt-selectable"),r&&(n&&d.addClassName("oj-dvt-default-border-color"),null==s&&d.addClassName("oj-dvt-default-border-width"))}else{var _=p.getSelectedInnerColor(this._chart),m=p.getSelectedOuterColor(this._chart)?p.getSelectedOuterColor(this._chart):this._dataColor;d.setHoverStroke(new t.Stroke(h,1,2)),d.setSelectedStroke(new t.Stroke(_,1,1.5),new t.Stroke(m,1,4.5)),d.setSelectedHoverStroke(new t.Stroke(_,1,1.5),new t.Stroke(h,1,4.5))}}getAnimParams(){return[this._startPercent,this._valuePercent,this._fillPercent,this.getAlpha(),this._3dRatio]}setAnimParams(e){this._startPercent=e[0],this._valuePercent=e[1],this._fillPercent=null!=this._fillPercent?e[2]:null,this.setAlpha(e[3]),this._3dRatio=e[4];var t=this._getPath();this.setCmds(t.slice),t.bar&&this._bar&&this._bar.setCmds(t.bar),this._label&&this._label.setMatrix(this._getLabelPos(t.sliceBounds))}setSelected(e){if(null!=this._bar){if(this.IsSelected==e)return;this.IsSelected=e,this._bar.setSelected(e)}else super.setSelected(e);var t=this.getDimensions(),i=null!=this._bar?this._bar:this,r=t.w;e?(i.setScaleX((r-3)/r),i.setTranslateX(Math.ceil(1.5)+3/r*t.x)):(i.setScaleX(1),i.setTranslateX(0))}showHoverEffect(){null!=this._bar?this._bar.showHoverEffect():super.showHoverEffect()}hideHoverEffect(){null!=this._bar?this._bar.hideHoverEffect():super.hideHoverEffect()}copyShape(){return new B(this._chart,this._seriesIndex,this._numDrawnSeries,this._funnelWidth,this._funnelHeight,this._startPercent,this._valuePercent,this._fillPercent,this._gap)}}const F={setVisibility:(e,t,i)=>{var r=m.getRefObj(e,t);null!=r&&(r.visibility=i);var s=d.getHiddenCategories(e),a=s.indexOf(t);"hidden"==i&&a<0?s.push(t):"visible"==i&&a>=0&&s.splice(a,1);var n=e.getOptions();if(n&&n.legend&&n.legend.sections){for(var o=0;o<n.legend.sections.length;o++){var l=n.legend.sections[o];if(l&&l.items)for(var h=0;h<l.items.length;h++)l.items[h].id==t&&(l.items[h].categoryVisibility=i)}return!0}return!1},processIds:(e,t)=>{for(var i=[],r=0;r<t.length;r++){var s=t[r];if(s.series==c.OTHER_ID){var a=c.getOtherSliceIds(e);i=i.concat(a)}else i.push(s)}return i},adjustBounds:e=>{null!=e.x&&(e.x-=1),null!=e.w&&(e.w+=2),null!=e.y&&(e.y-=1),null!=e.h&&(e.h+=2)},getBoundedObjs:(e,t)=>{for(var i=e.getChartObjPeers().concat(F.getFilteredChartObjPeers(e)),r=[],s=0;s<i.length;s++){var a=i[s],n=a.getDataPosition();if(n){n=e.getPlotArea().ConvertCoordSpaceRect({x:n.x,y:n.y,h:0,w:0},e.getCtx().getStage());var o=null==t.x||n.x>=t.x&&n.x<=t.x+t.w,l=null==t.y||n.y>=t.y&&n.y<=t.y+t.h;o&&l&&r.push(a)}}return r},getFilteredChartObjPeers:e=>{if(!e.getCache().getFromCache("dataFiltered"))return[];var t="filteredChartObjPeers",i=e.getCache().getFromCache(t);if(!i){i=[];for(var r=0;r<d.getSeriesCount(e);r++)for(var s=0;s<d.getGroupCount(e);s++){var a;if(d.isDataItemFiltered(e,r,s))a="bar"==d.getSeriesType(e,r)?R.getBarInfo(e,r,s).dataPos:d.getMarkerPos(e,r,s),i.push(new f(e,[],r,s,null,a))}e.getCache().putToCache(t,i)}return i},getAxisBounds:(e,i,r)=>{var s=e.getPlotArea(),a=s.stageToLocal(new t.Point(i.x,i.y)),n=s.stageToLocal(new t.Point(i.x+i.w,i.y+i.h));null==i.x&&(a.x=null,n.x=null),null==i.y&&(a.y=null,n.y=null);var o=F._convertToAxisCoord(e,a.x,n.x,a.y,n.y),l={},h={},g={},d={};return e.xAxis&&(l=F._getAxisMinMax(e.xAxis,o.xMin,o.xMax,r),d=F.getAxisStartEndGroup(e.xAxis,l.min,l.max)),e.yAxis&&(h=F._getAxisMinMax(e.yAxis,o.yMin,o.yMax,r)),e.y2Axis&&(g=F._getAxisMinMax(e.y2Axis,o.yMin,o.yMax,r)),{xMin:l.min,xMax:l.max,unchanged:l.unchanged,yMin:h.min,yMax:h.max,y2Min:g.min,y2Max:g.max,startGroup:d.startGroup,endGroup:d.endGroup}},_getAxisMinMax:(e,t,i,r)=>{if(null==t||null==i)return{min:null,max:null};var s=e.getUnboundedLinearValAt(t),a=e.getUnboundedLinearValAt(i);if(r){var n=e.getInfo().getMinExtent();if(a-s<n){var o=(a+s)/2;a=o+n/2,s=o-n/2}return F._limitToGlobal(e,s,a)}return F.getActualMinMax(e,s,a)},getAxisBoundsByDelta:(e,t,i,r,s)=>{var a=F._convertToAxisCoord(e,t,i,r,s),n=O.getZoomDir(e),o={},l={},h={},g={};return e.xAxis&&"y"!=n&&(o=F._getAxisMinMaxByDelta(e.xAxis,a.xMin,a.xMax),g=F.getAxisStartEndGroup(e.xAxis,o.min,o.max)),e.yAxis&&"x"!=n&&(l=F._getAxisMinMaxByDelta(e.yAxis,a.yMin,a.yMax)),e.y2Axis&&(h=F._getAxisMinMaxByDelta(e.y2Axis,a.yMin,a.yMax)),{xMin:o.min,xMax:o.max,unchanged:o.unchanged,yMin:l.min,yMax:l.max,y2Min:h.min,y2Max:h.max,startGroup:g.startGroup,endGroup:g.endGroup}},_getAxisMinMaxByDelta:(e,t,i)=>{var r=e.getLinearViewportMin(),s=e.getLinearViewportMax();if(i==t&&e.isFullViewport())return F.getActualMinMax(e,r,s);var a=e.getUnboundedLinearValAt(t)-e.getUnboundedLinearValAt(0),n=e.getUnboundedLinearValAt(i)-e.getUnboundedLinearValAt(0),o=1,l=s+n-(r+a),h=e.getInfo().getMinExtent();return t!=i&&l<h&&(o=(s-r-h)/(a-n)),r+=a*o,s+=n*o,F._limitToGlobal(e,r,s)},_convertToAxisCoord:(e,i,r,s,a)=>{var n={},o=t.Agent.isRightToLeft(e.getCtx());return l.isHorizontal(e)?(n.xMin=s,n.xMax=a,n.yMin=o?r:i,n.yMax=o?i:r):(n.xMin=o?r:i,n.xMax=o?i:r,n.yMin=a,n.yMax=s),n},_limitToGlobal:(e,t,i)=>{var r=e.getLinearGlobalMin(),s=e.getLinearGlobalMax();return i-t>=s-r?(t=r,i=s):t<r?(i+=r-t,t=r):i>s&&(t-=i-s,i=s),F.getActualMinMax(e,t,i)},getActualMinMax:(e,t,i)=>{var r={min:e.linearToActual(t),max:e.linearToActual(i)};if(e.isGroupAxis()){var s=e.getLinearViewportMin(),a=e.getLinearViewportMax(),n=1e-4;Math.abs(t-s)<n&&Math.abs(i-a)<n&&(r.unchanged=!0)}return r},getAxisStartEndGroup:(e,t,i)=>{if(e.isGroupAxis()&&null!=t&&null!=i){var r=Math.ceil(t),s=Math.floor(i);if(s>=r)return{startGroup:e.getInfo().getGroup(r),endGroup:e.getInfo().getGroup(s)}}return{startGroup:null,endGroup:null}},setInitialSelection:(e,t)=>{var i=e.getSelectionHandler();if(i)if(t&&0!=t.length){for(var r=[],s=0;s<t.length;s++)null!=t[s].id?r.push(t[s].id):null!=t[s].series&&null!=t[s].group&&r.push(a(t[s].series,t[s].group));for(var n=new(e.getCtx().KeySetImpl)(r),o=e.getChartObjPeers(),l=[],h=0;h<o.length;h++){var g=o[h];if(g.isSelectable()){var d=g.getDataItemId(),u=a(g.getSeries(),g.getGroup());(n.has(d)||n.has(u))&&l.push(g.getId())}}i.processInitialSelections(l,o)}else i.clearSelection()},getKeyboardNavigables:e=>{var t=[];if(l.isPie(e)&&e.pieChart)for(var i=e.pieChart.__getSlices(),r=0;r<i.length;r++)d.isSeriesRendered(e,i[r].getSeriesIndex())&&t.push(i[r]);else for(var s=e.getChartObjPeers(),a=0;a<s.length;a++)s[a].isNavigable()&&t.push(s[a]);return t},addEventData:(e,t)=>{var i=d.getSeriesIdx(e,t.series),r=d.getGroupIdx(e,t.group),s=d.getNestedDataItemIdx(e,i,r,t.id),a=p.getDataContext(e,i,r,s);a&&(t.data=a.data,t.itemData=a.itemData,t.seriesData=a.seriesData,a.groupData?t.groupData=a.groupData:null!=r&&(t.groupData=d.getGroupsDataForContext(e)[r]))},addGroupDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=e.xAxis.getInfo().getItemsRange(t.group);delete i.series;for(var s=r.startIndex,a=r.endIndex,n=[],o=s;o<a+1;o++)for(var l=d.getSeriesCount(e),h=0;h<l;h++)n.push(d.getRawDataItem(e,h,o));return i.items=n,i.groupData=r.groupData,i},addMultiSeriesDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=c._getSeriesIndicesArrays(e).other;delete i.group;for(var s=[],a=[],n=[],o=0;o<r.length;o++){var l=d.getSeriesDataForContext(e,r[o]),h=d.getRawDataItem(e,r[o],0);s.push(l),a.push(h),n.push(d.getSeries(e,r[o]))}return i.seriesData=s,i.items=a,i.series=n,i},addSeriesDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=d.getSeriesIdx(e,t.id),s=d.getGroupCount(e);i.series=t.id,delete i.group,i.seriesData=d.getSeriesDataForContext(e,r);for(var a=[],n=0;n<s;n++){var o=d.getRawDataItem(e,r,n);a.push(o)}return i.items=a,i},addItemDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=d.getSeriesIdx(e,t.series),s=d.getGroupIdx(e,t.group),a=d.getNestedDataItemIdx(e,r,s,t.id);return i.seriesData=d.getSeriesDataForContext(e,r),i.groupData=d.getGroupsDataForContext(e)[s],i.data=d.getRawDataItem(e,r,s,a),i.itemData=d.getDataItem(e,r,s,a)._itemData,i},addPlotAreaDnDBackground:(e,i,r,s)=>{var a=O.isPlotAreaDraggable(e);if(O.isPlotAreaDropTarget(e)||a){var n=new t.Rect(e.getCtx(),0,0,s?r.w:r.h,s?r.h:r.w);n.setInvisibleFill(),i.addChild(n),e.getCache().putToCache("plotAreaBackground",n),a&&n.setClassName("oj-draggable")}}},H={_DEFAULT_3D_GAP_RATIO:1/36,_DEFAULT_2D_GAP_RATIO:1/70,_MAX_WIDTH_FOR_GAPS:.25,_GROUP_IDX:0,_SLICE_VALUE_THRESHOLD:1e-4,render:(e,i,r)=>{var s=new t.Container(e.getCtx());s.setTranslate(r.x,r.y),i.addChild(s),e.setPlotArea(s);var a,n=l.isHorizontal(e);if(n)a=new t.Rectangle(0,0,r.w,r.h);else{var o=new t.Matrix,h=t.Agent.isRightToLeft(e.getCtx())?-1:1;o=(o=(o=o.translate(-r.h/2,-r.w/2)).rotate(h*Math.PI/2)).translate(r.x+r.w/2,r.y+r.h/2),a=new t.Rectangle(0,0,r.h,r.w),s.setMatrix(o)}F.addPlotAreaDnDBackground(e,s,r,n),H._renderFunnelSlices(e,s,a)||I(e,i,r);var g=d.getInitialSelection(e);F.setInitialSelection(e,g),e.highlight(d.getHighlightedCategories(e))},_renderFunnelSlices:(e,t,i)=>{for(var r=e.getOptions(),s=d.getSeriesCount(e),a=p.getDataItemGaps(e),n=("on"==r.styleDefaults.threeDEffect?H._DEFAULT_3D_GAP_RATIO:H._DEFAULT_2D_GAP_RATIO)*i.w,o=a*Math.min(H._MAX_WIDTH_FOR_GAPS*i.w/(s-1),n),l=0,h=0,g=0,u=0;u<s;u++)if(d.isDataItemRendered(e,u)){var c=d.getTargetVal(e,u);null==c&&(c=d.getVal(e,u,H._GROUP_IDX)),c<=0||(l+=c)}if(0==l)return!1;for(var _=s-1;_>=0;_--)if(d.isDataItemRendered(e,_)){var m,v=d.getVal(e,_,H._GROUP_IDX),y=d.getTargetVal(e,_);if(!(v<=0&&null==y||null!=y&&y<=0))if(!((null!=y?y:v)<H._SLICE_VALUE_THRESHOLD*l))null!=y?(g+=y/l,m=new B(e,_,h,i.w,i.h,1-g,y/l,v/y,o)):(g+=v/l,m=new B(e,_,h,i.w,i.h,1-g,v/l,null,o)),h++,t.addChild(m),f.associate(m,e,_,H._GROUP_IDX)}return!0}};class N extends t.Path{constructor(e,i,r,s,a,n,o,l){super(e.getCtx()),this._MIN_CHARS_DATA_LABEL=3,this._SLICE_LABEL_HORIZONTAL_PADDING=4,this._3D_WIDTH_FACTOR=.2,this._chart=e;var h=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._pyramidWidth=s,this._pyramidHeight=a,this._startPercent=n,this._valuePercent=o,this._3dRatio="on"==h.threeDEffect?1:0,this._gap=l;var g=this._getPath();this._dataColor=p.getColor(this._chart,this._seriesIndex,0),this._3dRatio>0?(this.setCmds(g.threeDPathTop),this._threeDPathSide=new t.Path(this.getCtx(),g.threeDPathSide),this._mainFace=new t.Path(this.getCtx(),g.slice),this.addChild(this._threeDPathSide),this.addChild(this._mainFace)):this.setCmds(g.slice),this._setColorProps(g.sliceBounds),this._label=this._getSliceLabel(g.sliceBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))}_getPath(){var e,i,r,s,a,n,o=t.Agent.isRightToLeft(this.getCtx()),l=d.getSeriesCount(this._chart),h=(l-this._numDrawnSeries-1)*this._gap,g=this._3dRatio*this._3D_WIDTH_FACTOR*.98*this._pyramidWidth,u=this._chart.getOptions(),c=Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent)),p=this._startPercent+this._valuePercent>=1?0:Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent-this._valuePercent)),_=.98*(1-this._3dRatio*this._3D_WIDTH_FACTOR)*this._pyramidWidth*(p/this._pyramidHeight),m=0==this._numDrawnSeries?c:c-this._gap,v=.98*(1-this._3dRatio*this._3D_WIDTH_FACTOR)*this._pyramidWidth*(m/this._pyramidHeight);if(o?(i=[this._pyramidWidth-.5*this._pyramidWidth+g/2-_/2,h+p],s=[this._pyramidWidth-.5*this._pyramidWidth+g/2-v/2,h+c],r=[this._pyramidWidth-.5*this._pyramidWidth+g/2+v/2,h+c],e=[this._pyramidWidth-.5*this._pyramidWidth+g/2+_/2,h+p]):(e=[.5*this._pyramidWidth-g/2-_/2,h+p],r=[.5*this._pyramidWidth-g/2-v/2,h+c],s=[.5*this._pyramidWidth-g/2+v/2,h+c],i=[.5*this._pyramidWidth-g/2+_/2,h+p]),"on"==u.styleDefaults.threeDEffect){var f=Math.atan(2*c/v),y=Math.min(.9*f,Math.PI/4),C=this._3dRatio*this._3D_WIDTH_FACTOR*v*Math.sqrt(2)/2,x=this._3dRatio*this._3D_WIDTH_FACTOR*_*Math.sqrt(2)/2,S=x/Math.tan(y);a=t.PathUtils.moveTo(i[0],i[1]),a+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(x,1),i[1]-Math.max(x,.5)),a+=t.PathUtils.lineTo(e[0]+(o?-1:1)*Math.max(S,1),e[1]-Math.max(x,.5)),a+=t.PathUtils.lineTo(e[0],e[1]),a+=t.PathUtils.closePath(),n=t.PathUtils.moveTo(i[0],i[1]),n+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(x,1),i[1]-Math.max(x,.5)),n+=t.PathUtils.lineTo(s[0]+(o?-1:1)*C,s[1]-C),n+=t.PathUtils.lineTo(s[0],s[1]),n+=t.PathUtils.closePath()}var b=t.PathUtils.moveTo(i[0],i[1]);b+=t.PathUtils.lineTo(s[0],s[1]),b+=t.PathUtils.lineTo(r[0],r[1]),b+=t.PathUtils.lineTo(e[0],e[1]),b+=t.PathUtils.closePath();var A=_/v,M=.5*Math.abs(e[1]-r[1])*(1+A),T=.5*Math.abs(s[0]-r[0])*(1+A)-this._SLICE_LABEL_HORIZONTAL_PADDING,w=r[1]-M,D=r[0]+(v-T)/2*(o?-1:1);return{slice:b,sliceBounds:new t.Rectangle(D,w,T,M),threeDPathTop:a,threeDPathSide:n}}_getSliceLabel(e){var i=p.getDataLabel(this._chart,this._seriesIndex,0);if(i||(i=d.getSeriesLabel(this._chart,this._seriesIndex)),i&&"none"!=R.getDataLabelPos(this._chart,this._seriesIndex,0)){var r=new t.MultilineText(this.getCtx(),i,0,0),s=null!=p.getPattern(this._chart,this._seriesIndex,0),a=this._chart.getOptions().styleDefaults,n=[a._dataLabelStyle,a.dataLabelStyle,new t.CSSStyle(d.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],o=t.CSSStyle.mergeStyles(n);if(r.setCSSStyle(o),t.TextUtils.fitText(r,e.w,e.h,this,this._MIN_CHARS_DATA_LABEL)){var l=r.getDimensions(),h=this._getLabelPos(e);if(s){var g=.15*l.h,u=t.PathUtils.roundedRectangle(l.x-g,l.y,l.w+2*g,l.h,2,2,2,2),c=new t.Path(this.getCtx(),u);c.setSolidFill(p.SERIES_PATTERN_BG_COLOR,.9),h=h.translate(-.5*l.w,-.5*l.h),c.setMatrix(h),this.addChild(c)}var _=s?t.ColorUtils.getContrastingTextColor(p.SERIES_PATTERN_BG_COLOR):e.containsPoint(e.x+(e.w-l.w)/2,e.y)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(null),m=new t.CSSStyle({color:_});return n.splice(1,0,m),t.Agent.isHighContrast()&&n.push(m),o=t.CSSStyle.mergeStyles(n),r.setCSSStyle(o),r.setMatrix(this._getLabelPos(e)),r.alignCenter(),r.alignMiddle(),r}}}_getLabelPos(e){var i=new t.Matrix;return i=t.Agent.isRightToLeft(this.getCtx())?i.translate(e.x-e.w/2,e.y+e.h/2):i.translate(e.x+e.w/2,e.y+e.h/2)}_setColorProps(e){var i=k.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=p.getBorderColor(this._chart,this._seriesIndex,0),s=p.getUserBorderWidth(this._chart,this._seriesIndex,0),a=p.getDefaultBorderWidth(this._chart,this._seriesIndex,0),n=null!==s?s:a,o=!1,l="redwood"===this.getCtx().getThemeBehavior();null==r&&this._3dRatio>0&&(o=!0,r="#FFFFFF"),!r||l&&this._chart.isSelectionSupported()&&o||(this.setSolidStroke(r,null,n),this._3dRatio>0&&(this._threeDPathSide.setSolidStroke(r,null,n),this._mainFace.setSolidStroke(r,null,n)));var h=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor);if(this._3dRatio>0){var g=!i.getPattern&&!i.getAlphas;this._mainFace.setFill(i),this._mainFace.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this._mainFace.setClassName(p.getClassName(this._chart,this._seriesIndex,0)),this._threeDPathSide.setFill(g?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this._threeDPathSide.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this._threeDPathSide.setClassName(p.getClassName(this._chart,this._seriesIndex,0)),this.setFill(g?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(p.getClassName(this._chart,this._seriesIndex,0))}else this.setFill(i),this.setStyle(p.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(p.getClassName(this._chart,this._seriesIndex,0));if(this.OriginalStroke=this.getStroke(),this._chart.isSelectionSupported())if(this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this._3dRatio>0)if(this._mainFace.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this._threeDPathSide.setCursor(t.SelectionEffectUtils.getSelectingCursor()),l){this._mainFace.setFeedbackClassName("oj-dvt-selectable"),this._threeDPathSide.setFeedbackClassName("oj-dvt-selectable");var d=null==r||o?this._dataColor:r,u=null!==s?s:0;this._mainFace.setSolidStroke(d,null,u),this._threeDPathSide.setSolidStroke(d,null,u),r&&(o&&(this._mainFace.addClassName("oj-dvt-default-border-color"),this._threeDPathSide.addClassName("oj-dvt-default-border-color")),null==s&&(this._mainFace.addClassName("oj-dvt-default-border-width"),this._threeDPathSide.addClassName("oj-dvt-default-border-width")))}else{var c=p.getSelectedInnerColor(this._chart),_=p.getSelectedOuterColor(this._chart)?p.getSelectedOuterColor(this._chart):this._dataColor;this._mainFace.setHoverStroke(new t.Stroke(h,1,2)),this._threeDPathSide.setHoverStroke(new t.Stroke(h,1,2)),this._mainFace.setSelectedStroke(new t.Stroke(c,1,1.5),new t.Stroke(_,1,4.5)),this._mainFace.setSelectedHoverStroke(new t.Stroke(c,1,1.5),new t.Stroke(h,1,4.5))}else if(this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),l){this.setFeedbackClassName("oj-dvt-selectable");d=null==r||o?this._dataColor:r,u=null!==s?s:0;this.setSolidStroke(d,null,u),r&&(o&&this.addClassName("oj-dvt-default-border-color"),null==s&&this.addClassName("oj-dvt-default-border-width"))}else{c=p.getSelectedInnerColor(this._chart),_=p.getSelectedOuterColor(this._chart)?p.getSelectedOuterColor(this._chart):this._dataColor;this.setHoverStroke(new t.Stroke(h,1,2)),this.setSelectedStroke(new t.Stroke(c,1,1.5),new t.Stroke(_,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(c,1,1.5),new t.Stroke(h,1,4.5))}}getAnimParams(){return[this._startPercent,this._valuePercent,this.getAlpha(),this._3dRatio]}setAnimParams(e){this._startPercent=e[0],this._valuePercent=e[1],this.setAlpha(e[2]),this._3dRatio=e[3];var t=this._getPath();this._threeDPathSide&&this._mainFace?(this.setCmds(t.threeDPathTop),this._threeDPathSide.setCmds(t.threeDPathSide),this._mainFace.setCmds(t.slice)):this.setCmds(t.slice),this._label&&this._label.setMatrix(this._getLabelPos(t.sliceBounds))}setSelected(e){if(this._3dRatio>0)if(this._mainFace.setSelected(e),"redwood"===this.getCtx().getThemeBehavior()&&this._threeDPathSide.setSelected(e),e){var t=this.getDimensions(),i=t.w,r=t.h,s=(i-3)/i,a=(r-5)/r;this._mainFace.setScaleX(s),this._mainFace.setScaleY(a),this._mainFace.setTranslateX(Math.ceil(1.5)+3/i*t.x),this._mainFace.setTranslateY(Math.ceil(2.5)+5/r*t.y)}else this._mainFace.setScaleX(1),this._mainFace.setScaleY(1),this._mainFace.setTranslateX(0),this._mainFace.setTranslateY(0);else super.setSelected(e)}showHoverEffect(){"redwood"===this.getCtx().getThemeBehavior()&&0!==this._3dRatio||super.showHoverEffect(),this._3dRatio>0&&(this._threeDPathSide.showHoverEffect(),this._mainFace.showHoverEffect())}hideHoverEffect(){"redwood"===this.getCtx().getThemeBehavior()&&0!==this._3dRatio||super.hideHoverEffect(),this._3dRatio>0&&(this._threeDPathSide.hideHoverEffect(),this._mainFace.hideHoverEffect())}copyShape(){return new N(this._chart,this._seriesIndex,this._numDrawnSeries,this._pyramidWidth,this._pyramidHeight,this._startPercent,this._valuePercent,this._gap)}getPrimaryFill(){return this._mainFace?this._mainFace.getFill():this.getFill()}}const G={_DEFAULT_GAP_RATIO:1/70,_MAX_HEIGHT_FOR_GAPS:.25,_GROUP_IDX:0,render:(e,i,r)=>{var s=new t.Container(e.getCtx());s.setTranslate(r.x,r.y),i.addChild(s),e.setPlotArea(s);var a=new t.Rectangle(0,0,r.w,r.h);F.addPlotAreaDnDBackground(e,s,r,!0),G._renderPyramidSlices(e,s,a)||I(e,i,r);var n=d.getInitialSelection(e);F.setInitialSelection(e,n),e.highlight(d.getHighlightedCategories(e))},_renderPyramidSlices:(e,t,i)=>{for(var r=d.getSeriesCount(e),s=p.getDataItemGaps(e),a=G._DEFAULT_GAP_RATIO*i.h,n=s*Math.min(G._MAX_HEIGHT_FOR_GAPS*i.h/(r-1),a),o=0,l=0,h=0,g=0;g<r;g++)if(d.isDataItemRendered(e,g)){var u=d.getVal(e,g,G._GROUP_IDX);u<=0||(o+=u)}if(0==o)return!1;for(var c=0;c<r;c++)if(d.isDataItemRendered(e,c)){var _=d.getVal(e,c,G._GROUP_IDX);if(!(_<=0)){var m=new N(e,c,l,i.w,i.h,h,_/o,n);h+=_/o,l++,t.addChild(m),f.associate(m,e,c,G._GROUP_IDX)}}return!0}};class j extends t.Path{setWedgeParams(e,t,i,r,s,a,n,o){this._cx=e,this._cy=t,this._rx=i,this._ry=r,this._sa=s,this._ae=a,this._gap=n,this._ir=o;var l=this._makeWedgePath(0);this.setCmds(l)}_makeWedgePath(e){var i,r=Math.max(this._rx-e,0),s=Math.max(this._ry-e,0),a=360==this._ae||r<e?0:this._gap+2*e,n=this._ir?this._ir+e:0,o=360==this._ae?t.Math.degreesToRads(359.99):t.Math.degreesToRads(this._ae),l=t.Math.degreesToRads(this._sa),h=a/2,g=h<r?Math.asin(h/r):0,d=-o/2-l,u=Math.min(5*h,o>0?Math.abs(h/Math.sin(o/2)):0),c=0==r?u:u*s/r,p=this._cx+Math.cos(d)*u,_=this._cy+Math.sin(d)*c,m=this._cx+Math.cos(-g-l)*r,v=this._cy+Math.sin(-g-l)*s,f=this._cx+Math.cos(-l-o+g)*r,y=this._cy+Math.sin(-l-o+g)*s,C=t.Math.calculateAngleBetweenTwoVectors(f-this._cx,y-this._cy,m-this._cx,v-this._cy);if(C=Math.min(C,o),n>0){var x=h<n?Math.asin(h/n):0,S=this._cx+Math.cos(-x-l)*n,b=this._cy+Math.sin(-x-l)*n,A=this._cx+Math.cos(-l-o+x)*n,M=this._cy+Math.sin(-l-o+x)*n,T=t.Math.calculateAngleBetweenTwoVectors(A-this._cx,M-this._cy,S-this._cx,b-this._cy);T=Math.min(T,C,o),360==this._ae?(i=t.PathUtils.moveTo(f,y),i+=t.PathUtils.arcTo(r,s,o,1,m,v),i+=t.PathUtils.lineTo(f,y),i+=t.PathUtils.moveTo(S,b),i+=t.PathUtils.arcTo(n,n,o,0,A,M)):(i=t.PathUtils.moveTo(A,M),i+=t.PathUtils.lineTo(f,y),i+=t.PathUtils.arcTo(r,s,C,1,m,v),i+=t.PathUtils.lineTo(S,b),i+=t.PathUtils.arcTo(n,n,T,0,A,M))}else 360==this._ae?(i=t.PathUtils.moveTo(f,y),i+=t.PathUtils.arcTo(r,s,o,1,m,v)):(i=t.PathUtils.moveTo(p,_),i+=t.PathUtils.lineTo(f,y),i+=t.PathUtils.arcTo(r,s,C,1,m,v));return i+=t.PathUtils.closePath()}_initializeSelectionEffects(){var e="redwood"===this.getCtx().getThemeBehavior(),i=this.isSelected()||e?j._OUTER_BORDER_WIDTH:j._OUTER_BORDER_WIDTH_HOVER,r=this._makeWedgePath(i),s=this._makeWedgePath(i+j._INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setCmds(r),void this.InnerChild.setCmds(s);this.OuterChild=new t.Path(this.getCtx(),r),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Path(this.getCtx(),s),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)}_showNestedBorders(e,t){this._initializeSelectionEffects(),t?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(t),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):e?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._shapeStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())}setStyleProperties(e,i,r,s,a,n,o){this._fill=e,this._shapeStroke=i;var l="redwood"===this.getCtx().getThemeBehavior();this._hoverColor=l?r:t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=s,this._outerColor=a,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(e),i&&this.setStroke(i)}showHoverEffect(){this.IsShowingHoverEffect=!0;var e="redwood"===this.getCtx().getThemeBehavior()&&this.isSelected()?this._outerColor:this._hoverColor;this._showNestedBorders(e,this._innerColor)}hideHoverEffect(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()}setSelected(e){if(this.IsSelected!=e){this.IsSelected=e;var t="redwood"===this.getCtx().getThemeBehavior();if(this.isHoverEffectShown()){var i=t&&this.isSelected()?this._outerColor:this._hoverColor;this._showNestedBorders(i,this._innerColor)}else this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()}}UpdateSelectionEffect(){}}j._OUTER_BORDER_WIDTH=2,j._OUTER_BORDER_WIDTH_HOVER=1.25,j._INNER_BORDER_WIDTH=1;class V{constructor(){this._sliceLabel=null,this._slice=null,this._angle=-1,this._position=-1,this._width=-1,this._height=-1,this._x=-1,this._y=-1,this._initialNumLines=-1,this._hasFeeler=!1,this._maxY=-1,this._minY=-1}getAngle(){return this._angle}setAngle(e){this._angle=e}getHeight(){return this._height}setHeight(e){this._height=e}getInitialNumLines(){return this._initialNumLines}setInitialNumLines(e){this._initialNumLines=e}getMaxY(){return this._maxY}setMaxY(e){this._maxY=e}getMinY(){return this._minY}setMinY(e){this._minY=e}boundY(e){return this._minY<=this._maxY&&(e=Math.max(e,this._minY),e=Math.min(e,this._maxY)),e}hasFeeler(){return this._hasFeeler}setHasFeeler(e){this._hasFeeler=e}getPosition(){return this._position}setPosition(e){this._position=e}getSlice(){return this._slice}setSlice(e){this._slice=e}getSliceLabel(){return this._sliceLabel}setSliceLabel(e){this._sliceLabel=e}getWidth(){return this._width}setWidth(e){this._width=e}getX(){return this._x}setX(e){this._x=e}getY(){return this._y}setY(e){this._y=e}}const U={SURFACE_CRUST:0,SURFACE_LEFT:1,SURFACE_RIGHT:2,reflectAngleOverYAxis:(e,i,r,s,a)=>{var n=t.Math.degreesToRads(360-e);return{x:i+Math.cos(n)*s,y:r+Math.sin(n)*a}},getGradientColors:(e,i)=>"2D"==i||"3D"==i?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,-.09,.04)]:"CRUST"==i?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,0,-.14)]:"SIDE"==i?[t.ColorUtils.adjustHSL(e,0,-.1,.06),t.ColorUtils.adjustHSL(e,0,-.04,-.05)]:void 0,getGradientAlphas:(e,t)=>{var i=null==e||isNaN(e)||0==e?1:e;return"2D"==t?[i,i,i]:"BORDER"==t?[i/1.59375,i/5.3125,i/(255/96)]:"3D"==t?[i,i,i,i,i]:"CRUST"==t?[i,i,i,i]:"SIDE"==t?[i,i]:void 0},createTopSurface:(e,i)=>{var r=e.getPieChart(),s=r.getCtx(),a=e.getCenter(),n=e.getInnerRadius(),o=r.is3D()||e.getSliceGaps()>Math.sin(t.Math.degreesToRads(e.getAngleExtent()))*e._radiusX+1?null:e.getSliceGaps(),l=new j(s);l.setWedgeParams(a.x,a.y,e._radiusX,e._radiusY,e.getAngleStart(),e.getAngleExtent(),o,n);var h=p.getSelectedInnerColor(r.chart),g=p.getSelectedOuterColor(r.chart),d=new t.Stroke(e.getStrokeColor(),1,e.getBorderWidth()),u=e.getSeriesIndex(),c=p.getClassName(r.chart,u,0),_=p.getStyle(r.chart,u,0);l.setStyleProperties(i,d,e.getFillColor(),h,g,c,_);var m=[l];return U.associate(e,m),m},associate:(e,t)=>{if(t)for(var i=0;i<t.length;i++)e.getPieChart().chart.getEventManager().associate(t[i],e)},createLateralSurface:(e,i,r)=>{if(0==e.getAngleExtent())return[];var s=[];if(t.ColorUtils.getAlpha(e.getFillColor())>0)if(i==U.SURFACE_LEFT||i==U.SURFACE_RIGHT)s.push(U._generateLateralShape(e,i,null,r));else if(i==U.SURFACE_CRUST)for(var a=U._createCrustPathCommands(e),n=a.length,o=0;o<n;o++)s.push(U._generateLateralShape(e,i,a[o],r));return U.associate(e,s),s},generateLateralGradientFill:(e,i)=>{var r=U.getGradientColors(t.ColorUtils.getRGB(e.getFillColor()),i),s=U.getGradientAlphas(t.ColorUtils.getAlpha(e.getFillColor()),i);return new t.LinearGradientFill(270,r,s,[0,1],null)},_generateLateralShape:(e,i,r,s)=>{var a=e.getPieChart().getCtx();if(i==U.SURFACE_LEFT||i==U.SURFACE_RIGHT){for(var n=e.getAngleStart(),o=e.getAngleExtent(),l=e.getCenter().x,h=e.getCenter().y,g=e._radiusX,d=e._radiusY,u=e.getDepth(),c=i==U.SURFACE_LEFT?U.reflectAngleOverYAxis(n+o,l,h,g,d):U.reflectAngleOverYAxis(n,l,h,g,d),p=U._generateInnerPoints(l,h,c.x,c.y,u),_=[],m=0;m<p.length;m++)_.push(p[m].x,p[m].y);var v=new t.Polygon(a,_);return v.setFill(s),e.getStrokeColor()&&v.setSolidStroke(e.getStrokeColor()),v}if(r){var f=new t.Path(a,null);return f.setCmds(r),f.setTranslate(e.__getExplodeOffsetX(),e.__getExplodeOffsetY()),f.setFill(s),e.getStrokeColor()&&f.setSolidStroke(e.getStrokeColor()),f}return null},_createCrustPathCommands:e=>{var t=e.getAngleStart(),i=e.getAngleExtent(),r=t+i,s=e.getCenter().x,a=e.getCenter().y,n=e._radiusX,o=e._radiusY,l=e.getDepth(),h=[];return t<180&&r>360?(h.push(U._makeOuterPath(s,a,n,o,l,t,180-t)),h.push(U._makeOuterPath(s,a,n,o,l,360,r-360)),h.push(U._makeOuterPath(s,a,n,o,l,180,180))):r>360?(h.push(U._makeOuterPath(s,a,n,o,l,t,360-t)),h.push(U._makeOuterPath(s,a,n,o,l,360,r-360))):t<180&&r>180?(h.push(U._makeOuterPath(s,a,n,o,l,t,180-t)),h.push(U._makeOuterPath(s,a,n,o,l,180,r-180))):h.push(U._makeOuterPath(s,a,n,o,l,t,i)),h},_makeOuterPath:(e,i,r,s,a,n,o)=>{var l=t.Math.degreesToRads(o),h=-(t.Math.degreesToRads(n)+l),g=U.reflectAngleOverYAxis(n,e,i,r,s),d=e+Math.cos(h)*r,u=i+Math.sin(h)*s,c=t.PathUtils.moveTo(g.x,g.y);return c+=t.PathUtils.arcTo(r,s,l,0,d,u),c+=t.PathUtils.lineTo(d,u+a),c+=t.PathUtils.arcTo(r,s,l,1,g.x,g.y+a),c+=t.PathUtils.lineTo(g.x,g.y)},_generateInnerPoints:(e,t,i,r,s)=>{var a=[];return a.push({x:e,y:t}),a.push({x:i,y:r}),a.push({x:i,y:r+s}),a.push({x:e,y:t+s}),a}},W={_MAX_LINES_PER_LABEL:3,_COLLISION_MARGIN:1,_LEFT_SIDE_LABELS:1,_RIGHT_SIDE_LABELS:2,_OUTSIDE_LABEL_DISTANCE:1.04,_FEELER_RAD_MINSIZE:.1,_FEELER_HORIZ_MINSIZE:.1,_LABEL_TO_FEELER_OFFSET:.5,_LABEL_TO_FEELER_DISTANCE:3,_NO_COLLISION:0,_HALF_COLLISION:1,_ALL_COLLISION:2,layoutLabelsAndFeelers:e=>{var t=e.getLabelPos();W._layoutInsideLabels(e,"auto"==t),W._layoutOutsideLabelsAndFeelers(e)},_layoutInsideLabels:(e,i)=>{for(var r=e.__getSlices(),s=0;s<r.length;s++){var a=r[s],n=e.getSeriesLabelPos(a.getSeriesIndex());if("none"!=n&&"outsideSlice"!=n&&!W._skipSliceLabel(e,a)){var o=a.getAngleStart()+a.getAngleExtent()/2,l=a.getInnerRadius(),h=a.getCenter(),g=0,d=0,u=W._createLabel(a,!0);if(1==r.length)g=h.x,d=h.y;else{var c=Math.max(.45,.65-.45*l/Math.max(a.getRadiusY(),.001)),p=U.reflectAngleOverYAxis(o,h.x,h.y,l+(a.getRadiusX()-l)*c,l+(a.getRadiusY()-l)*c);g=p.x,d=p.y}u.setX(g),u.setY(d),u.alignMiddle(),u.alignCenter();for(var _=u.getDimensions(),m=g,v=g,f=d-_.h/2,y=d+_.h/2;a.contains(m,f)&&a.contains(m,y);)m--;for(;a.contains(v,f)&&a.contains(v,y);)v++;m=Math.ceil(m+3),v=Math.floor(v-3);var C=2*Math.min(g-m,v-g);if(C<_.w&&(u.setX((m+v)/2),C=v-m),i&&"center"!=n){u.getDimensions().w<C?a.setSliceLabel(u):a.setSliceLabel(null)}else{var x=e.getCtx().getStage(),S=W._isTextLabel(e,a)?null:u.getTextString().length;t.TextUtils.fitText(u,C,_.h,x,S)&&(x.removeChild(u),a.setSliceLabel(u))}null!=a.getSliceLabel()&&a.setNoOutsideFeeler()}}},_layoutOutsideLabelsAndFeelers:e=>{var t,i,r=W._generateInitialLayout(e);t=r[0],i=r[1];var s=W._refineInitialLayout(e,t,W._LEFT_SIDE_LABELS),a=W._refineInitialLayout(e,i,W._RIGHT_SIDE_LABELS);s==W._HALF_COLLISION&&a!=W._NO_COLLISION&&W._columnLabels(e,t,!0,!0,!0),s!=W._NO_COLLISION&&a==W._HALF_COLLISION&&W._columnLabels(e,i,!1,!0,!0),W._setLabelsAndFeelers(e,t,W._LEFT_SIDE_LABELS),W._setLabelsAndFeelers(e,i,W._RIGHT_SIDE_LABELS)},_createLabel:(e,i)=>{var r,s=t.Agent.isHighContrast(),a=e.getPieChart(),n=a.getCtx(),o=e.getId().series===c.OTHER_ID,l=null!=p.getPattern(a.chart,e.getSeriesIndex(),0)||o&&"pattern"==p.getSeriesEffect(a),h=i&&l;r=h?new t.BackgroundOutputText(n):i?new t.OutputText(n):new t.MultilineText(n);var g=h?t.ColorUtils.getContrastingTextColor(p.SERIES_PATTERN_BG_COLOR):i?t.ColorUtils.getContrastingTextColor(e.getFillColor()):t.ColorUtils.getContrastingTextColor(t.ColorUtils.getColorFromName("black")),u=new t.CSSStyle({color:g}),_=a.getOptions().styleDefaults,m=[_._dataLabelStyle];i&&m.push(u),m.push(_.dataLabelStyle);var v=d.getDataItem(a.chart,e.getSeriesIndex(),0);if(v&&m.push(new t.CSSStyle(v.labelStyle)),s&&m.push(u),h){var f=new t.CSSStyle({"background-color":"rgba(255, 255, 255, 0.9)","border-radius":"2px"});m.push(f)}var y=t.CSSStyle.mergeStyles(m);r.setCSSStyle(y);var C=W.generateSliceLabelString(e,_.sliceLabelType);return r.setTextString(C),e.setSliceLabelString(C),r},createPieCenter:e=>{var i=e.getOptions(),r=e.getCtx(),s=W.getPieCenterOptions(e,i),a=s.label,n=s.renderer,o=e.getLabelPos(),l=i.tooltip,h=l?l.renderer:null,d=e.getCenter(),u=e.getInnerRadius();if(a||n){var c=e.getRadiusX(),p=(u=u>0?u:"outsideSlice"==o?.9*c:.5*c)*Math.sqrt(2);if(a){var _=new t.MultilineText(r),m=s.labelStyle;if(_.setCSSStyle(m),"number"==typeof a&&(a=g.formatVal(e,s,a,a,a,0)),_.setTextString(a),t.TextUtils.fitText(_,p,p,e)){var v=_.getDimensions();_.setY(d.y-v.h/2),_.setX(d.x),_.alignCenter(),h||e.chart.getEventManager().associate(_,new t.SimpleObjPeer(_.getTextString(),null,null,{type:"pieCenterLabel"})),e.addChild(_),e.setCenterLabel(_)}}if(h){var f=new t.Circle(r,d.x,d.y,u);f.setInvisibleFill(),e.addChild(f);var y=e.getCtx().getTooltipManager();e.chart.getEventManager().associate(f,new t.CustomDatatipPeer(y,h,"#4b4b4b",{component:i._widgetConstructor,label:a}))}if(n){var C={outerBounds:{x:d.x-u,y:d.y-u,width:2*u,height:2*u},innerBounds:{x:d.x-p/2,y:d.y-p/2,width:p,height:p},label:a,totalValue:e.getTotalValue(),component:i._widgetConstructor};C=r.fixRendererContext(C);var x=r.getContainer(),S=e.chart.pieCenterDiv;S&&x.removeChild(S);var b=n(C);if(!b)return;var A=r.createOverlayDiv();Array.isArray(b)?b.forEach(e=>{A.appendChild(e)}):"string"==typeof b?(A.textContent=b,A.style.position="absolute",A.style.left=`${d.x}px`,A.style.top=`${d.y}px`,A.style.transform="translate(-50%, -50%)",A.style.width=2*u+"px",A.style.height=2*u+"px",A.style.display="flex",A.style.textAlign="center",A.style.alignItems="center"):A.appendChild(b),e.chart.pieCenterDiv=A,x.appendChild(A);var M=r.getOverlayAttachedCallback();M&&M(A)}}},generateSliceLabelString:(e,t)=>{var i,r=W.getDefaultSliceLabelString(e,t),s=e.getPieChart().getOptions().dataLabel;if(s){var a=p.getDataContext(e._chart,e.getSeriesIndex(),0);if(a.label=r,"number"==typeof(i=s(a))){var n=g.getValueFormat(e.getPieChart().chart,"label");i=g.formatVal(e.getPieChart(),n,i)}}return i||r},getDefaultSliceLabelString:(e,t)=>{var i=e.getPieChart(),r=e.getCustomLabel(),s=g.getValueFormat(i.chart,"label");return null!=r?"number"==typeof r?g.formatVal(i,s,r):r:"percent"==t?W.generateSlicePercentageString(e):"number"==t?g.formatVal(i,s,e.getVal()):"text"==t?e.getSeriesLabel():"textAndPercent"==t?e.getSeriesLabel()+", "+W.generateSlicePercentageString(e):null},generateSlicePercentageString:e=>{var t=e.getPieChart(),i=t.getTotalValue(),r=0==i?0:e.getVal()/i,s=r<.01?3:r<.1?2:r<1?1:0;2*t.getRadiusX()<150&&(s=Math.max(s-1,0));var a,n=t.getOptions().valueFormats;n&&n.label&&n.label.converter&&(a=n.label.converter);var o=t.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:s,minimumFractionDigits:s}),l="";return a&&a.format?l=a.format(r):o&&o.format?l=o.format(r):(r*=100,l=g.formatVal(t,{},r,null,null,100==r?1:Math.pow(10,-1*s))+"%"),l},_refineInitialLayout:(e,t,i)=>{if(t&&t.length>0){for(var r,s,a=e.__getFrame().y,n=!1,o=!1,l=!1,h=0,g=!1,d=i==W._LEFT_SIDE_LABELS,u=0;u<t.length;u++)s=g,(r=t[u]).getPosition()>90&&(g=!0),h=r.getY()+r.getHeight(),a-r.getY()>W._COLLISION_MARGIN&&(g?s?l=!0:o=!0:n=!0),h>a&&(a=h);return n&&l||o?(W._columnLabels(e,t,d,!0,!0),W._ALL_COLLISION):n?(W._columnLabels(e,t,d,!0,!1),W._HALF_COLLISION):l?(W._columnLabels(e,t,d,!1,!0),W._HALF_COLLISION):W._NO_COLLISION}},_setLabelsAndFeelers:(e,i,r)=>{if(!(null==i||i.length<=0)){var s,a,n,o,l,h=r==W._LEFT_SIDE_LABELS,g=e.__getFrame(),d=1/0;for(s=0;s<i.length;s++)if(a=(o=i[s]).getSlice(),o.hasFeeler()){l=W._calculateFeeler(o,a,h);var u=t.TextUtils.getTextStringHeight(e.getCtx(),o.getSliceLabel().getCSSStyle()),c=o.getWidth(),p=W._isTextLabel(e,a)?Math.min(2*u,c):c;if(W.getMaxLabelWidth(e,o.getX(),h)+l<p||0==o.getWidth()){o.setSliceLabel(null),a.setNoOutsideFeeler();continue}d=Math.min(d,l)}else a.setNoOutsideFeeler();for(s=0;s<i.length;s++)a=(o=i[s]).getSlice(),(n=o.getSliceLabel())&&(o.hasFeeler()&&(h?o.setX(o.getX()+d):o.setX(o.getX()-d),W._calculateFeeler(o,a,h)),n.setY(o.getY()),n.setX(o.getX()),o.getY()<g.y||o.getY()+o.getHeight()>g.y+g.h?(a.setSliceLabel(null),a.setNoOutsideFeeler()):(W._truncateSliceLabel(e,a,o,h),0==o.getWidth()||0==o.getHeight()?(a.setSliceLabel(null),a.setNoOutsideFeeler()):a.setSliceLabel(n)))}},_calculateFeeler:(e,i,r)=>{var s=e.getX(),a=e.getY()+e.getHeight()*W._LABEL_TO_FEELER_OFFSET,n=W._FEELER_HORIZ_MINSIZE*i.getRadiusX(),o={x:r?(s+=W._LABEL_TO_FEELER_DISTANCE)+n:(s-=W._LABEL_TO_FEELER_DISTANCE)-n,y:a},l={x:s,y:a},h=e.getAngle(),g=W._adjustForDepth(h,i.getDepth()),d=U.reflectAngleOverYAxis(h,i.getCenter().x,i.getCenter().y+g,i.getRadiusX(),i.getRadiusY()),u=t.Math.degreesToRads(e.getPosition()),c=Math.abs(Math.atan2(o.x-d.x,d.y-o.y)),p=(d.y-o.y)*Math.tan(u);return(u>Math.PI/2&&c>Math.PI/2&&c<u||u<Math.PI/2&&c<Math.PI/2&&c>u)&&(o.x=r?d.x-p:d.x+p),i.setOutsideFeelerPoints(d,o,l),Math.abs(l.x-o.x)-n},_adjustForDepth:(e,t)=>{var i=0;return e>189&&e<351&&(i=t),i},_getMiddleLabel:e=>{for(var t=91,i=-1,r=0;r<e.length;r++){var s=e[r].getPosition();Math.abs(s-90)<t&&(t=Math.abs(s-90),i=r)}return i},_setOptimalLabelPos:(e,i,r,s)=>{i.setX(r);var a=e.getRadiusY()*(1+W._FEELER_RAD_MINSIZE),n=t.Math.degreesToRads(i.getPosition()),o=a*Math.cos(n),l=W._adjustForDepth(i.getAngle(),e.getDepth()),h=e.getCenter().y-o-i.getHeight()*W._LABEL_TO_FEELER_OFFSET+l;i.setY(i.boundY(h))},_getRadFeelerAngle:(e,t,i)=>{var r=e.getSlice(),s=r.getCenter(),a=e.getAngle(),n=W._adjustForDepth(a,r.getDepth()),o=U.reflectAngleOverYAxis(a,s.x,s.y+n,r.getRadiusX(),r.getRadiusY());return Math.atan2(Math.abs(t-o.x),o.y-i)},_columnLabels:(e,i,r,s,a)=>{var n,o,l,h=e.__getFrame(),g=h.y,d=h.y+h.h,u=0,c=e.getCenter().x,p=e.getRadiusX()*(1+W._FEELER_RAD_MINSIZE+W._FEELER_HORIZ_MINSIZE);for(l=r?(c-=p)+e.getRadiusX()*W._FEELER_HORIZ_MINSIZE:(c+=p)-e.getRadiusX()*W._FEELER_HORIZ_MINSIZE,n=0;n<i.length;n++)o=i[n],u=t.Math.degreesToRads(o.getPosition()),W._getRadFeelerAngle(o,l,g)-u>.45*Math.PI||W._skipSliceLabel(e,o.getSlice())?(i.splice(n,1),n--):(i[n].setMinY(g),g+=i[n].getHeight());for(n=i.length-1;n>=0;n--)o=i[n],(u=t.Math.degreesToRads(o.getPosition()))-W._getRadFeelerAngle(o,l,d)>.45*Math.PI||W._skipSliceLabel(e,o.getSlice())?i.splice(n,1):(d-=i[n].getHeight(),i[n].setMaxY(d));if(0!=i.length){var _=W._getMiddleLabel(i),m=i[_];s&&!a&&m.getMinY()+m.getHeight()>e.getCenter().y&&(a=!0),a&&!s&&m.getMaxY()<e.getCenter().y&&(s=!0);var v=m.getPosition();(a&&s||v>90&&a||v<=90&&s)&&(W._setOptimalLabelPos(e,m,c,r),m.setHasFeeler(!0));var f,y,C=m.getY(),x=m.getY()+m.getHeight();if(s)for(n=_-1;n>=0;n--)y=(o=i[n]).getHeight(),W._setOptimalLabelPos(e,o,c,r),o.setHasFeeler(!0),(f=o.getY())+y<C?C=f:C-=y,o.setY(C);if(a)for(n=_+1;n<i.length;n++)y=(o=i[n]).getHeight(),W._setOptimalLabelPos(e,o,c,r),o.setHasFeeler(!0),(f=o.getY())>x?x=f+y:x+=y,o.setY(x-y)}},_truncateSliceLabel:(e,t,i,r)=>{var s,a,n=i.getSliceLabel(),o=n.getCSSStyle(),l=e.getNumChildren(),h=!1;e.contains(n)||(e.addChild(n),h=!0),n.setCSSStyle(o);var g=t.getSliceLabelString();return n.setTextString(g),h&&e.removeChildAt(l),s=W.getMaxLabelWidth(e,i.getX(),r),a=W._getTextDim(e,t,n,s,i.getInitialNumLines()),i.setWidth(a.x),i.getHeight()!=a.y&&(i.setHeight(a.y),!0)},_generateInitialLayout:e=>{for(var t=[],i=[],r=[],s=e.__getSlices(),a=e.__getFrame(),n=0;n<s.length;n++){var o=s[n],l=e.getSeriesLabelPos(o.getSeriesIndex());if(null==o.getSliceLabel()&&"none"!=l&&"center"!=l&&!W._skipSliceLabel(e,o)){var h=W._createLabel(o,!1),g=o.getAngleStart()+o.getAngleExtent()/2;g>360&&(g-=360),g<0&&(g+=360);var d=U.reflectAngleOverYAxis(g,e.getCenter().x,e.getCenter().y,e.getRadiusX()*W._OUTSIDE_LABEL_DISTANCE,e.getRadiusY()*W._OUTSIDE_LABEL_DISTANCE),u=g>=90&&g<270,c=W.getMaxLabelWidth(e,d.x,u),p=W._getTextDim(e,o,h,c,W._MAX_LINES_PER_LABEL),_=15;g<165&&g>_?d.y-=1*p.y:g<_||g>345?(d.y-=.5*p.y,d.x+=.2*p.y):g>165&&g<195&&(d.y-=.5*p.y,d.x-=.2*p.y);var m,v=W._adjustForDepth(g,e.getDepth());if(d.y+=v,1==s.length&&(d.x-=p.x/2),!(d.y<a.y||d.y+p.y>a.y+a.h))g>=90&&g<270?(h.alignRight(),m=g-90,W._createLabelInfo(o,h,g,m,p,d,i)):(m=g<=90?Math.abs(90-g):180-(g-270),W._createLabelInfo(o,h,g,m,p,d,r))}}return t[0]=i,t[1]=r,t},_createLabelInfo:(e,t,i,r,s,a,n)=>{for(var o,l=-1,h=t,g=0;g<n.length;g++)if((o=n[g]).getPosition()>r){l=g;break}-1==l&&(l=n.length),(o=new V).setPosition(r),o.setAngle(i),o.setSliceLabel(h),o.setSlice(e),o.setWidth(s.x),o.setHeight(s.y),o.setX(a.x),o.setY(a.y),o.setInitialNumLines(h.getLineCount()),n.splice(l,0,o)},_getTextDim:(e,i,r,s,a)=>{r.setMaxLines(a);var n=W._isTextLabel(e,i)?null:r.getTextString().length;if(t.TextUtils.fitText(r,s,1/0,e,n)){e.addChild(r);var o=r.getDimensions();return e.removeChild(r),{x:o.w,y:o.h}}return{x:0,y:0}},_isTextLabel:(e,t)=>{var i=t.getCustomLabel(),r=null!=e.getOptions().dataLabel;return-1!=e.getOptions().styleDefaults.sliceLabelType.indexOf("text")||null!=i&&"number"!=typeof i||r},getMaxLabelWidth:(e,t,i)=>{var r=e.__getFrame();return i?t-r.x:r.x+r.w-t},getPieCenterOptions:(e,i)=>{var r=t.JsonUtils.clone(i.pieCenter,null,e.chart.Defaults.getNoCloneObject().pieCenter),s=i.pieCenterLabel;if(s){var a=s.style,n=s.text;n&&(r.label=n),a&&(r.labelStyle=new t.CSSStyle(a))}return r},_skipSliceLabel:(e,t)=>t.getAngleExtent()<3&&d.getSeriesCount(e.chart)>120};class Y{constructor(e,t){this._pieChart=e,this._chart=e.chart,this._angleStart=0,this._angleExtent=0,this._topSurface=null,this._leftSurface=null,this._rightSurface=null,this._crustSurface=null,this._explodeOffsetX=0,this._explodeOffsetY=0,this._sliceLabel=null,this._sliceLabelString=null,this._hasFeeler=!1,this._feelerRad=null,this._feelerHoriz=null,this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._selected=!1,this._selecting=!1,this._centerX=this._pieChart.getCenter().x,this._centerY=this._pieChart.getCenter().y,this._radiusX=this._pieChart.getRadiusX(),this._radiusY=this._pieChart.getRadiusY(),this._depth=this._pieChart.getDepth();var i=this._chart.getOptions();if(null!=t){var r=d.getDataItem(this._chart,t,0);this._value=d.getVal(this._chart,t,0),this._explode=c.getSliceExplode(this._chart,t),this._fillColor=p.getColor(this._chart,t,0),this._fillPattern=p.getPattern(this._chart,t,0),this._strokeColor=p.getBorderColor(this._chart,t),this._borderWidth=p.getBorderWidth(this._chart,t),this._customLabel=r?r.label:null,this._seriesLabel=d.getSeries(this._chart,t),this._drillable=d.isDataItemDrillable(this._chart,t,0),this._id=c.getSliceId(this._chart,t),this._seriesIndex=t,this._categories=d.getCategories(this._chart,t,0)}else this._value=c.getOtherVal(this._chart),this._explode=0,this._fillColor=i.styleDefaults.otherColor,this._fillPattern=null,this._strokeColor=i.styleDefaults.borderColor,this._borderWidth=i.styleDefaults.borderWidth,this._customLabel=null,this._seriesLabel=i.translations.labelOther,this._drillable=d.isMultiSeriesDrillEnabled(this._chart),this._id=c.getOtherSliceId(this._chart),this._otherId=!0}getPieChart(){return this._pieChart}render(e){for(var i=Y._sortPieSurfaces(this._topSurface,this._leftSurface,this._rightSurface,this._crustSurface,this._angleStart,this._angleExtent),r=i.length,s=0;s<r;s++)for(var a=i[s],n=a.length,o=0;o<n;o++){this._pieChart.__getShapesContainer().addChild(a[o]),a[o].render&&a[o].render()}if(this._sliceLabel&&(this._pieChart.addChild(this._sliceLabel),U.associate(this,[this._sliceLabel]),e?(this._pieChart.addChild(this._feelerRad),this._pieChart.addChild(this._feelerHoriz)):this._renderOutsideFeeler()),this._explodeSlice(),this._drillable||this._pieChart.chart.isSelectionSupported()){var l=this.getDisplayables();for(s=0;s<l.length;s++)l[s].setCursor(t.SelectionEffectUtils.getSelectingCursor())}var h=this.getTopDisplayable();h&&(h.setAriaRole("img"),this._updateAriaLabel())}_feelerFromPts(e,i){var r=new t.Line(this._pieChart.getCtx(),e.x,e.y,i.x,i.y),s=this._pieChart.getOptions().styleDefaults.pieFeelerColor,a=new t.Stroke(s);return r.setStroke(a),this._pieChart.addChild(r),r}_renderOutsideFeeler(){if(this._hasFeeler){var e=this._feelerFromPts(this._outsideFeelerStart,this._outsideFeelerMid),t=this._feelerFromPts(this._outsideFeelerMid,this._outsideFeelerEnd);this._feelerRad=e,this._feelerHoriz=t}}preRender(){var e,i=this._bFillerSlice?"color":p.getSeriesEffect(this._chart),r=this.getFillColor(),s=this.getFillPattern();if("pattern"==i||null!=s)e=new t.PatternFill(s,r),i="pattern";else if("gradient"==i){var a=this._pieChart.is3D()?"3D":"2D",n=U.getGradientColors(t.ColorUtils.getRGB(r),a),o=U.getGradientAlphas(t.ColorUtils.getAlpha(r),a),l=[Math.floor(this._centerX-this._radiusX),Math.floor(this._centerY-this._radiusY),Math.ceil(2*this._radiusX),Math.ceil(2*this._radiusY)];e=new t.LinearGradientFill(270,n,o,[0,1],l)}else e=new t.SolidFill(r);if(this._topSurface=U.createTopSurface(this,e),this._depth>0||this._radiusX!=this._radiusY){var h="gradient"==i,g=new t.SolidFill(t.ColorUtils.getDarker(r,.4)),d=h?U.generateLateralGradientFill(this,"SIDE"):g,u=h?U.generateLateralGradientFill(this,"CRUST"):g;this._leftSurface=U.createLateralSurface(this,U.SURFACE_LEFT,d),this._rightSurface=U.createLateralSurface(this,U.SURFACE_RIGHT,d),this._crustSurface=U.createLateralSurface(this,U.SURFACE_CRUST,u)}this.setSliceLabel(null),this.setNoOutsideFeeler()}static _sortPieSurfaces(e,t,i,r,s,a){var n=[];return t&&i&&r&&(s<=270&&s+a>270?(n.push(t),n.push(i),n.push(r)):s>270||s+a<=90?(n.push(t),n.push(r),n.push(i)):(n.push(i),n.push(r),n.push(t))),n.push(e),n}static oppositeDir(e,t,i){return e-t>0!=e-i>0}_explodeSlice(){if(0!=this._explode){var e=this._angleExtent,i=(360-(this._angleStart+e/2))*t.Math.RADS_PER_DEGREE,r=this._pieChart.is3D()?Y.THREED_TILT:1,s=this._explode*this._pieChart.__calcMaxExplodeDistance();this._explodeOffsetX=Math.cos(i)*s,this._explodeOffsetY=Math.sin(i)*r*s,"safari"!==t.Agent.browser&&"blink"!==t.Agent.engine||(this._explodeOffsetX=Math.round(this._explodeOffsetX),this._explodeOffsetY=Math.round(this._explodeOffsetY))}else this._explodeOffsetX=0,this._explodeOffsetY=0;if(this._topSurface){var a=this._pieChart.is3D()&&this._topSurface[0].getSelectionOffset?this._topSurface[0].getSelectionOffset():[];Y._translateShapes(this._topSurface,a[0]?a[0]+this._explodeOffsetX:this._explodeOffsetX,a[1]?a[1]+this._explodeOffsetY:this._explodeOffsetY)}if(this._rightSurface&&Y._translateShapes(this._rightSurface,this._explodeOffsetX,this._explodeOffsetY),this._leftSurface&&Y._translateShapes(this._leftSurface,this._explodeOffsetX,this._explodeOffsetY),this._crustSurface&&Y._translateShapes(this._crustSurface,this._explodeOffsetX,this._explodeOffsetY),this._hasFeeler){var n=this._outsideFeelerStart.x,o=this._outsideFeelerStart.y,l=n+this._explodeOffsetX,h=o+this._explodeOffsetY;this._feelerRad.setX1(l),this._feelerRad.setY1(h);var g=this._outsideFeelerMid.x,d=this._outsideFeelerMid.y;Y.oppositeDir(g,n,l)?(this._feelerRad.setX2(l),this._feelerHoriz.setX1(l)):(this._feelerRad.setX2(g),this._feelerHoriz.setX1(g)),Y.oppositeDir(d,o,h)?(this._feelerRad.setY2(h),this._feelerHoriz.setY1(h)):(this._feelerRad.setY2(d),this._feelerHoriz.setY1(d))}this._sliceLabel&&!this._hasFeeler&&this._sliceLabel.setTranslate(this._explodeOffsetX,this._explodeOffsetY)}static _translateShapes(e,t,i){if(e)for(var r=e.length,s=0;s<r;s++){e[s].setTranslate(t,i)}}getRadiusX(){return this._radiusX}getRadiusY(){return this._radiusY}getCenter(){return new t.Point(this._centerX,this._centerY)}getDepth(){return this._depth}getAngleExtent(){return this._angleExtent}setAngleExtent(e){this._angleExtent=e}getAngleStart(){return this._angleStart}setAngleStart(e){this._angleStart=e}__getExplodeOffsetX(){return this._explodeOffsetX}__getExplodeOffsetY(){return this._explodeOffsetY}setOutsideFeelerPoints(e,t,i){this._outsideFeelerStart=e,this._outsideFeelerMid=t,this._outsideFeelerEnd=i,this._hasFeeler=!0}setNoOutsideFeeler(){this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._hasFeeler=!1}getLabelAndFeeler(){var e=[];return this._sliceLabel&&e.push(this._sliceLabel),this._feelerRad&&e.push(this._feelerRad),this._feelerHoriz&&e.push(this._feelerHoriz),e}getSliceLabel(){return this._sliceLabel}setSliceLabel(e){this._sliceLabel=e}getSliceLabelString(){return this._sliceLabelString}setSliceLabelString(e){this._sliceLabelString=e}getTopSurface(){return this._topSurface}getVal(){return this._value}getId(){return this._id}getSeriesIndex(){return this._seriesIndex}static _shapeIsSelectable(e){return e instanceof j}contains(e,t){for(var i=this._pieChart.getInnerRadius(),r=this._pieChart.getCenter(),s=(e-r.x)/this._radiusX,a=(t-r.y)/this._radiusY,n=-Math.atan2(a,s)*(180/Math.PI);n<this._angleStart;)n+=360;for(;n-this._angleStart>=360;)n-=360;var o=Math.pow(s,2)+Math.pow(a,2),l=Math.sqrt(o)>i/this._radiusX&&o<=1,h=n<=this._angleStart+this._angleExtent;return l&&h}GetAnimParams(){var e=t.ColorUtils.getRed(this._fillColor),i=t.ColorUtils.getGreen(this._fillColor),r=t.ColorUtils.getBlue(this._fillColor),s=t.ColorUtils.getAlpha(this._fillColor);return[this._value,this._radiusX,this._radiusY,this._explode,this._centerX,this._centerY,this._depth,e,i,r,s]}SetAnimParams(e){this._value=e[0],this._radiusX=e[1],this._radiusY=e[2],this._explode=e[3],this._centerX=e[4],this._centerY=e[5],this._depth=e[6];var i=Math.round(e[7]),r=Math.round(e[8]),s=Math.round(e[9]),a=Math.round(e[10]);this._fillColor=t.ColorUtils.makeRGBA(i,r,s,a)}getDeletedAnimParams(){var e=this.GetAnimParams();return e[0]=0,e[1]=this.getInnerRadius(),e[2]=this.getInnerRadius(),e[3]=0,e}animateUpdate(e,i){var r=i.GetAnimParams(),s=this.GetAnimParams();if(!t.ArrayUtils.equals(r,s)){var a=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimDuration());a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimParams,this.SetAnimParams,s),e.add(a,0),this.SetAnimParams(r)}}animateInsert(e){var i=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimDuration());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimParams,this.SetAnimParams,this.GetAnimParams()),e.add(i,0),this.SetAnimParams(this.getDeletedAnimParams())}animateDelete(e,i){var r=i.__getSlices(),s=this.getPieChart().__getSlices(),a=s.indexOf(this)-1;if(a>=0){for(var n=s[a].getId(),o=0;o<r.length;o++)if(r[o].getId().equals(n)){r.splice(o+1,0,this);break}}else r.splice(0,0,this);this._pieChart=i;var l=new t.CustomAnimation(i.getCtx(),this,this.getPieChart().getAnimDuration());l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimParams,this.SetAnimParams,this.getDeletedAnimParams()),l.setOnEnd(this._removeDeletedSlice,this),e.add(l,0)}_removeDeletedSlice(){var e=this.getPieChart().__getSlices(),t=e.indexOf(this);t>=0&&e.splice(t,1)}getDisplayables(){var e=new Array;return this._topSurface&&(e=e.concat(this._topSurface)),this._leftSurface&&(e=e.concat(this._leftSurface)),this._rightSurface&&(e=e.concat(this._rightSurface)),this._crustSurface&&(e=e.concat(this._crustSurface)),this._sliceLabel&&e.push(this._sliceLabel),this._feelerRad&&e.push(this._feelerRad),this._feelerHoriz&&e.push(this._feelerHoriz),e}getAriaLabel(){var e,i=this._pieChart.getOptions().translations;e=null==this._seriesIndex?v.getOtherSliceDatatip(this._chart,this._value,!1):v.getDatatip(this._chart,this._seriesIndex,0,null,!1);var r=i.labelPercentage,s=W.generateSlicePercentageString(this);e+="; "+t.ResourceUtils.format(i.labelAndValue,[r,s]);var a=[];return this.isSelectable()&&a.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),d.isDataItemDrillable(this._chart,this._seriesIndex,this._groupIndex)&&a.push(i.stateDrillable),t.Displayable.generateAriaLabel(e,a)}_updateAriaLabel(){var e=this.getTopDisplayable();e&&!t.Agent.deferAriaCreation()&&e.setAriaProperty("label",this.getAriaLabel())}getTopDisplayable(){return this._topSurface&&this._topSurface.length>0?this._topSurface[0]:null}isSelectable(){return this._chart.isSelectionSupported()}isSelected(){return this._selected}setSelected(e,i){if(this._selected=e,this.getTopSurface()){if(this._selected?this._pieChart.bringToFrontOfSelection(this):this._selecting||this._pieChart.pushToBackOfSelection(this),p.isSelectionHighlighted(this._chart))for(var r=this.getDisplayables(),s=0;s<r.length;s++)Y._shapeIsSelectable(r[s])&&r[s].setSelected(e);if(p.isSelectionExploded(this._chart)){var a=e?1:0;if(i||"none"==p.getAnimOnDataChange(this._chart))this.setExplode(a);else{var n=new t.CustomAnimation(this._pieChart.getCtx(),this,this._pieChart.getAnimDuration()/2);n.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getExplode,this.setExplode,a),n.play()}}this._updateAriaLabel()}}showHoverEffect(){this._selecting=!0,this._pieChart.bringToFrontOfSelection(this);for(var e=this.getDisplayables(),t=0;t<e.length;t++)Y._shapeIsSelectable(e[t])&&e[t].showHoverEffect()}hideHoverEffect(){this._selecting=!1,this._selected||this._pieChart.pushToBackOfSelection(this);for(var e=this.getDisplayables(),t=0;t<e.length;t++)Y._shapeIsSelectable(e[t])&&e[t].hideHoverEffect()}getDatatip(e,t,i){return e==this._sliceLabel&&this._sliceLabel&&this._sliceLabel.isTruncated()?this.getSliceLabelString():this.getTooltip()}getDatatipColor(){return this.getFillColor()}getCategories(){return this._categories&&this._categories.length>0?this._categories:[this.getId().series]}getNextNavigable(e){var i=e.keyCode;if(e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;var r=t.Agent.isRightToLeft(this._chart.getCtx()),s=this._pieChart.__getSlices(),a=s.indexOf(this),n=null;return i==t.KeyboardEvent.RIGHT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&!r||i==t.KeyboardEvent.UP_ARROW&&r?n=a<s.length-1?s[a+1]:s[0]:(i==t.KeyboardEvent.LEFT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&r||i==t.KeyboardEvent.UP_ARROW&&!r)&&(n=0==a?s[s.length-1]:s[a-1]),n}getKeyboardBoundingBox(e){var i=this.getDisplayables();return i[0]?i[0].getDimensions(e):new t.Rectangle(0,0,0,0)}getTargetElem(){var e=this.getDisplayables();return e[0]?e[0].getElem():null}showKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect()}hideKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()}isShowingKeyboardFocusEffect(){return this._isShowingKeyboardFocusEffect}isDragAvailable(){return!0}getDragTransferable(){return[this.getId()]}getDragFeedback(){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var e=this._chart.getSelectionHandler().getSelection(),t=[],i=0;i<e.length;i++)t=t.concat(e[i].getDisplayables());return t}return this.getDisplayables()}getExplode(){return this._explode}setExplode(e){this._explode=e,this._explodeSlice()}getCustomLabel(){return this._customLabel}getSeriesLabel(){return this._seriesLabel}getFillColor(){return this._fillColor}getFillPattern(){return this._fillPattern}getStrokeColor(){return this._strokeColor}getBorderWidth(){return this._borderWidth}getSliceGaps(){return 0==this._depth?3*p.getDataItemGaps(this._chart):0}getInnerRadius(){return this._pieChart.getInnerRadius()}getTooltip(){return null==this._seriesIndex?v.getOtherSliceDatatip(this._chart,this._value,!0):v.getDatatip(this._chart,this._seriesIndex,0,null,!0)}isDrillable(){return this._drillable}static createFillerSlice(e,t){var i=new Y(e);return i._value=t,i._bFillerSlice=!0,i._centerX=e.getCenter().x,i._centerY=e.getCenter().y,i._fillColor="rgba(255,255,255,0)",i._strokeColor="rgba(255,255,255,0)",i._id=new o(null,null,null,null),i}getSeriesIndex(){return this._seriesIndex}}Y.THREED_TILT=.59;class z extends t.Automation{constructor(e){super(e),this._options=this._comp.getOptions(),this._legend=this._comp.legend,this._xAxis=this._comp.xAxis,this._yAxis=this._comp.yAxis,this._y2Axis=this._comp.y2Axis,this._legendAutomation=this._legend?this._legend.getAutomation():null,this._xAxisAutomation=this._xAxis?this._xAxis.getAutomation():null,this._yAxisAutomation=this._yAxis?this._yAxis.getAutomation():null,this._y2AxisAutomation=this._y2Axis?this._y2Axis.getAutomation():null}GetSubIdForDomElement(e){var i=null;if(e.isDescendantOf(this._xAxis))return(i=this._xAxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(i,"xAxis"):null;if(e.isDescendantOf(this._yAxis))return(i=this._yAxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(i,"yAxis"):null;if(e.isDescendantOf(this._y2Axis))return(i=this._y2AxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(i,"y2Axis"):null;if(e.isDescendantOf(this._legend)){var r=this._legendAutomation.GetSubIdForDomElement(e);return r?this._convertLegendSubIdToChartSubId(r):null}var s=this._comp.getEventManager().GetLogicalObject(e);if(!s)return null;if(s instanceof t.SimpleObjPeer){var a=s.getParams().type;if("pieCenterLabel"==a)return"pieCenterLabel";if("plotArea"==a)return"plotArea"}if(s instanceof Y)return"dataItem["+s.getSeriesIndex()+"]";if(s instanceof f){var n=s.getSeriesIndex(),o=s.getGroupIndex();if(null!=n&&o>=0&&("funnel"!=this._options.type||"pyramid"!=this._options.type))return"dataItem["+n+"]["+o+"]";if(null!=n&&o==H._GROUP_IDX&&("funnel"==this._options.type||"pyramid"==this._options.type))return"dataItem["+n+"]";if(null!=n&&(null==o||o<0))return"series["+n+"]"}else if(s instanceof y){var l=s.getAxisType(),h=s.getIndex();return l&&h>=0?l+":referenceObject["+h+"]":null}return null}_convertLegendSubIdToChartSubId(e){var t=this._legend.getOptions(),i=this._legendAutomation.getLegendItem(t,e);if(i){for(var r=0;r<this._options.series.length;r++){if(this._options.series[r].name==i.text)return"series["+r+"]"}return"legend:"+e}return null}_convertAxisSubIdToChartSubId(e,t){if("title"==e&&t)return t+":"+e;var i=e.substring(e.indexOf("["));return i?"group"+i:null}getDomElementForSubId(e){if(e==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._comp,v.isDataCursorEnabled(this._comp)?_.TOOLTIP_ID:null);if("pieCenterLabel"==e)return this._comp.pieChart.getCenterLabel().getElem();if("plotArea"==e)return this._comp.getPlotArea().getElem();var i,r,s,a=e.indexOf("["),n=e.indexOf("]"),o=e.indexOf(":");if(a>0&&n>0||o>0){var l=o<0?e.substring(0,a):e.substring(0,o);if("group"==l)return this._xAxisAutomation.getDomElementForSubId(e);if("series"==l)return e=this._convertToLegendSubId(e),this._legendAutomation.getDomElementForSubId(e);if("legend"==e.substring(0,o))return e=e.substring(o+1),this._legendAutomation.getDomElementForSubId(e);var h,g=e.substring(a+1,n);if("xAxis"==l||"yAxis"==l||"y2Axis"==l){var d=e.substring(o+1);if("title"==d){if("xAxis"==l)return this._xAxisAutomation.getDomElementForSubId(d);if("yAxis"==l)return this._yAxisAutomation.getDomElementForSubId(d);if("y2Axis"==l)return this._y2AxisAutomation.getDomElementForSubId(d)}else if(i=d.indexOf("["),r=d.indexOf("]"),"referenceObject"==d.substring(0,i)){var u=d.substring(i+1,r);if(s=this._getRefObjPeer(u))return s.getDisplayables()[0].getElem()}}if("pie"==this._options.type){var c=this._comp.pieChart.getSliceDisplayable(g);if(c)return c.getElem()}if("funnel"==this._options.type?h=H._GROUP_IDX:"pyramid"==this._options.type?h=G._GROUP_IDX:(i=(e=e.substring(n+1)).indexOf("["),r=e.indexOf("]"),i>=0&&r>=0&&(h=e.substring(i+1,r))),s=this._getChartObjPeer(g,h))return s.getDisplayables()[0].getElem()}return null}_getChartObjPeer(e,t){for(var i=this._comp.getChartObjPeers(),r=0;r<i.length;r++){var s=i[r].getSeriesIndex(),a=i[r].getGroupIndex();if(s==e&&a==t)return i[r]}return null}_getChartObjPeerFromId(e,i,r){for(var s=this._comp.getChartObjPeers(),a=0;a<s.length;a++){var n=s[a].getSeries(),o=s[a].getGroup();if(n===e&&("string"==typeof o&&1===i.length&&i[0]===o||Array.isArray(o)&&t.ArrayUtils.equals(o,i))&&(null==r||r===s[a]._itemIndex))return s[a]}return null}_getRefObjPeer(e){for(var t=this._comp.getRefObjPeers(),i=0;i<t.length;i++)if(e==t[i].getIndex())return t[i];return null}_convertToLegendSubId(e){var t=e.indexOf("["),i=e.indexOf("]"),r=e.substring(t+1,i),s=this._legend.getOptions(),a=this._options.series[r];return"section"+this._legendAutomation.getIndicesFromSeries(a,s)}getDataItem(e,t){"pie"!=this._options.type&&"funnel"!=this._options.type&&"pyramid"!=this._options.type||(t=0);var i=d.getDataItem(this._comp,e,t);return i?{borderColor:p.getBorderColor(this._comp,e,t),color:p.getColor(this._comp,e,t),label:p.getDataLabel(this._comp,e,t),targetValue:d.getTargetVal(this._comp,e,t),tooltip:v.getDatatip(this._comp,e,t,null,!1),value:d.getVal(this._comp,e,t),open:i.open,close:i.close,high:d.getHighVal(this._comp,e,t),low:d.getLowVal(this._comp,e,t),volume:i.volume,x:d.getXVal(this._comp,e,t),y:i.y,z:i.z,min:i.min,max:i.max,group:d.getGroup(this._comp,t),series:d.getSeries(this._comp,e),selected:d.isDataSelected(this._comp,e,t)}:null}getGroup(e){return d.getGroup(this._comp,e)}getSeries(e){return this._options.series[e].name}getGroupCount(){return d.getGroupCount(this._comp)}getSeriesCount(){return this._options.series.length}getTitle(){return this._options.title.text}getLegend(){var e=this._legend.__getBounds(),i=this._legend.localToStage(new t.Point(e.x,e.y));return{bounds:{x:i.x,y:i.y,width:e.w,height:e.h},title:this._legend.getOptions().title}}getPlotArea(){var e=this._comp.__getPlotAreaSpace();return{bounds:{x:e.x,y:e.y,width:e.w,height:e.h}}}getXAxis(){return this._getAxis("x")}getYAxis(){return this._getAxis("y")}getY2Axis(){return this._getAxis("y2")}_getAxis(e){var i="x"==e?this._xAxis:"y"==e?this._yAxis:this._y2Axis;if(i){var r=i.__getBounds(),s=i.localToStage(new t.Point(r.x,r.y)),a={x:s.x,y:s.y,width:r.w,height:r.h},n=this._comp;return{bounds:a,title:this._options[e+"Axis"].title,getPreferredSize:(t,r)=>{var s,a=i.getOptions(),o=a.position,l=L.getTickLabelGapSize(n,e),h=L.isStandaloneXAxis(n)||L.isStandaloneYAxis(n)||L.isStandaloneY2Axis(n)?2:0;return"top"==o||"bottom"==o?(s=i.getPreferredSize(a,t,r-l-h)).h=Math.ceil(s.h+l+h):(s=i.getPreferredSize(a,t-l-h,r)).w=Math.ceil(s.w+l+h),{width:s.w,height:s.h}}}}return null}IsTooltipElement(e){var i=e.getAttribute("id");return!(!i||0!=i.indexOf(_.TOOLTIP_ID)&&0!=i.indexOf(t.HtmlTooltipManager._TOOLTIP_DIV_ID))}dispatchItemDrill(e,t,i){var r=this._getChartObjPeerFromId(e,t,i);r&&this._comp.getEventManager().processDrillEvent(r)}dispatchMultiSeriesDrill(){var e=this._comp.pieChart;e&&e.otherSlice&&this._comp.getEventManager().processDrillEvent(e.otherSlice)}dispatchGroupDrill(e){this._xAxisAutomation&&e&&this._xAxisAutomation.dispatchDrillEvent(e)}dispatchSeriesDrill(e){this._legendAutomation&&e&&this._legendAutomation.dispatchDrillEvent(e)}}class X extends t.EventManager{constructor(e){super(e.getCtx(),e.processEvent,e,e),this._chart=e,this._dragMode=null,this._dragButtonsVisible=t.Agent.isTouchDevice(),this.panButton=null,this.zoomButton=null,this.selectButton=null,this._dataCursorHandler=null,this._panZoomHandler=null,this._marqueeZoomHandler=null,this._marqueeSelectHandler=null}addListeners(e){t.SvgDocumentUtils.addDragListeners(this._chart,this._onDragStart,this._onDragMove,this._onDragEnd,this),super.addListeners(e),t.Agent.isTouchDevice()||e.addEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)}RemoveListeners(e){super.RemoveListeners(e),t.Agent.isTouchDevice()||e.removeEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)}getLogicalObject(e){return this.GetLogicalObject(e,!0)}_getDragHandler(e){return e&&"user"==this._chart.getOptions().dragMode&&l.isBLAC(this._chart)&&(this._dragMode==X.DRAG_MODE_PAN||this._dragMode==X.DRAG_MODE_ZOOM)&&(this._panZoomHandler&&this._panZoomHandler.isWithinBounds(e)?this._dragMode=X.DRAG_MODE_PAN:this._dragMode=X.DRAG_MODE_ZOOM),this._dragMode==X.DRAG_MODE_PAN?this._panZoomHandler:this._dragMode==X.DRAG_MODE_ZOOM?this._marqueeZoomHandler:this._dragMode==X.DRAG_MODE_SELECT?this._marqueeSelectHandler:null}_onDragStart(e){return t.EventManager.isTouchEvent(e)?this._onTouchDragStart(e):this._onMouseDragStart(e)}_onDragMove(e){return t.EventManager.isTouchEvent(e)?this._onTouchDragMove(e):this._onMouseDragMove(e)}_onDragEnd(e){return t.EventManager.isTouchEvent(e)?this._onTouchDragEnd(e):this._onMouseDragEnd(e)}_onMouseDragStart(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler(i),s=this.GetLogicalObject(e.target);return!(s&&s.isSelectable&&s.isSelectable())&&0==e.button&&r&&((t=r.processDragStart(i,e.ctrlKey))&&this._callback.call(this._callbackObj,t),this._chart.setCursor(r.getCursor(i)),this.setDragButtonsVisible(!1),this._chart!=this.getCtx().getCurrentKeyboardFocus()&&this.getCtx().setCurrentKeyboardFocus(this._chart)),!!t&&(this._dataCursorHandler&&this._dataCursorHandler.processEnd(),!0)}_onMouseDragMove(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler();r&&(t=r.processDragMove(i,e.ctrlKey))&&(this._callback.call(this._callbackObj,t),this.setDragButtonsVisible(!1)),t&&e.stopPropagation()}_onMouseDragEnd(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler();if(r){(t=r.processDragEnd(i,e.ctrlKey))&&(this._callback.call(this._callbackObj,t),this.autoToggleZoomButton()),this._chart.setCursor(r.getCursor(i));var s=this._chart.__getAxisSpace();s&&this.setDragButtonsVisible(s.containsPoint(i.x,i.y))}}OnMouseMove(e){super.OnMouseMove(e);var i=this._context.pageToStageCoords(e.pageX,e.pageY);this._dataCursorHandler&&(this.GetLogicalObjectAndDisplayable(e.target).displayable instanceof t.IconButton?this._dataCursorHandler.processEnd():(i=this._component.stageToLocal(i),this._dataCursorHandler.processMove(i)));var r=this._getDragHandler(i);r?this._chart.setCursor(r.getCursor(i)):this._chart.setCursor("default")}OnMouseOut(e){super.OnMouseOut(e);var t=this._context.pageToStageCoords(e.pageX,e.pageY),i=this._chart.__getAxisSpace();i&&this.setDragButtonsVisible(i.containsPoint(t.x,t.y)),this._dataCursorHandler&&(t=this._component.stageToLocal(t),this._dataCursorHandler.processMove(t));this.GetLogicalObject(e.target)}OnMouseWheel(e){if(O.isZoomable(this._chart)){var t=null!=e.wheelDelta?e.wheelDelta:0,i=this._context.pageToStageCoords(e.pageX,e.pageY);if(this._panZoomHandler){var r=this._panZoomHandler.processMouseWheel(i,t);r&&(e.preventDefault(),e.stopPropagation(),this._callback.call(this._callbackObj,r),this._dataCursorHandler&&(i=this._component.stageToLocal(i),this._dataCursorHandler.processMove(i)))}}}ShowFocusEffect(e,i){if(this._dataCursorHandler){var r=i.getDataPosition();if(r){var s=this._chart.__getPlotAreaSpace();this._dataCursorHandler.processMove(new t.Point(r.x+s.x,r.y+s.y))}}super.ShowFocusEffect(e,i)}OnBlur(e){this._dataCursorHandler&&this._dataCursorHandler.processEnd(),super.OnBlur(e)}OnClickInternal(e){var t=this.GetLogicalObject(e.target),i=this._context.pageToStageCoords(e.pageX,e.pageY);this.SeriesFocusHandler&&this.SeriesFocusHandler.processSeriesFocus(i,t),t&&(t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))}OnDblClickInternal(e){var t=this.GetLogicalObject(e.target);t&&t.isSelectable&&t.isSelectable()&&this.processDrillEvent(t)}HandleTouchHoverStartInternal(e){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var t=this._context.pageToStageCoords(e.touch.pageX,e.touch.pageY);return this._dataCursorHandler.processMove(t),!1}var i=this.GetLogicalObject(e.target);return this.TouchManager.setTooltipEnabled(e.touch.identifier,this.getTooltipsEnabled(i)),!1}HandleTouchHoverMoveInternal(e){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var t=this._context.pageToStageCoords(e.touch.pageX,e.touch.pageY);return this._dataCursorHandler.processMove(t),!1}var i=this.GetLogicalObject(e.target);return this.TouchManager.setTooltipEnabled(e.touch.identifier,this.getTooltipsEnabled(i)),!1}HandleTouchHoverEndInternal(e){this.endDrag();var t=this.GetLogicalObject(e.target);t&&(t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))}HandleTouchClickInternal(e){var t=this.GetLogicalObject(e.target);t&&(t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))}HandleTouchDblClickInternal(e){var t=this.GetLogicalObject(e.target);t&&t.isSelectable&&t.isSelectable()&&(e.preventDefault(),e.stopPropagation(),this.processDrillEvent(t))}processDrillEvent(e){if(e&&e.isDrillable&&e.isDrillable()){var i=e.getId();if(e instanceof f)-1===e.getGroupIndex()?this.FireEvent(t.EventFactory.newChartDrillEvent(i,e.getSeries(),null,"series")):this.FireEvent(t.EventFactory.newChartDrillEvent(null!=i.id?i.id:i,e.getSeries(),e.getGroup(),"item"));else if(e instanceof Y){var r="_dvtOther"===i.series?"multiSeries":"item";this.FireEvent(t.EventFactory.newChartDrillEvent(i.id,i.series,i.group,r))}}}ProcessRolloverEvent(e,i,r){var s=this._chart.getOptions();if("dim"==O.getHoverBehavior(this._chart)){var a=i.getCategories?i.getCategories():[];s.highlightedCategories=r?a.slice():null;var n=t.EventFactory.newCategoryHighlightEvent(s.highlightedCategories,r),o=p.getHoverBehaviorDelay(this._chart),l=this._chart.getObjects();this._chart.pieChart&&(l=l.concat(this._chart.pieChart.__getSlices())),this.RolloverHandler.processEvent(n,l,o,"any"==s.highlightMatch)}}_onTouchDragStart(e){var t,i,r=e.touches;if(1==r.length){var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),a=this._getDragHandler();a?t=a.processDragStart(s,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(s),i=!0)}else if(2==r.length&&this._panZoomHandler&&O.isZoomable(this._chart)){this.endDrag();var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);t=this._panZoomHandler.processPinchStart(n,o)}return t&&(this._callback.call(this._callbackObj,t),this.getCtx().getTooltipManager().hideTooltip()),!(!t&&!i)&&(e.preventDefault(),e.stopPropagation(),this.setDragButtonsVisible(!1),!0)}_onTouchDragMove(e){var t,i,r=e.touches;if(1==r.length){var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),a=this._getDragHandler();a?t=a.processDragMove(s,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(s),i=!0)}else if(2==r.length&&this._panZoomHandler&&O.isZoomable(this._chart)){var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);t=this._panZoomHandler.processPinchMove(n,o)}(t||i)&&e.preventDefault(),t&&(this._callback.call(this._callbackObj,t),this.getCtx().getTooltipManager().hideTooltip())}_onTouchDragEnd(e){var t,i=this.endDrag();if(this._panZoomHandler&&O.isZoomable(this._chart)&&(t=this._panZoomHandler.processPinchEnd())&&this._callback.call(this._callbackObj,t),i||t){e.preventDefault(),this.getCtx().getTooltipManager().hideTooltip();var r=this.getTouchManager(),s=1==e.changedTouches.length?e.changedTouches[0].identifier:null,a=null!=s?r.getTouchInfo(s):null;a&&!a.touchMoved||r.reset()}this.setDragButtonsVisible(!0)}endDrag(){var e,t=this._getDragHandler();return t&&(e=t.processDragEnd(null,!0)),this._dataCursorHandler&&this._dataCursorHandler.processEnd(),e&&this._callback.call(this._callbackObj,e),e}zoomBy(e){if(this._panZoomHandler&&O.isZoomable(this._chart)){var t=this._panZoomHandler.zoomBy(e);t&&this._callback.call(this._callbackObj,t)}}panBy(e,t){if(this._panZoomHandler&&O.isScrollable(this._chart)){var i=this._panZoomHandler.panBy(e,t);i&&this._callback.call(this._callbackObj,i)}}hideHoverFeedback(){this.hideTooltip(),this._dataCursorHandler&&this._dataCursorHandler.processEnd()}hideTooltip(){this._dataCursorHandler&&this._dataCursorHandler.isDataCursorShown()||super.hideTooltip()}getTooltipsEnabled(e){return(!this._dataCursorHandler||!(e instanceof f||e instanceof y||this._dataCursorHandler.isDataCursorShown()))&&super.getTooltipsEnabled()}getDataCursorHandler(){return this._dataCursorHandler}setDataCursorHandler(e){this._dataCursorHandler=e}setPanZoomHandler(e){this._panZoomHandler=e}setMarqueeZoomHandler(e){this._marqueeZoomHandler=e}setMarqueeSelectHandler(e){this._marqueeSelectHandler=e}getMarqueeGlassPane(){return this._dragMode==X.DRAG_MODE_ZOOM?this._marqueeZoomHandler.getGlassPane():this._dragMode==X.DRAG_MODE_SELECT?this._marqueeSelectHandler.getGlassPane():null}cancelMarquee(e){this._dragMode==X.DRAG_MODE_ZOOM?this._marqueeZoomHandler.cancelMarquee()&&e.preventDefault():this._dragMode==X.DRAG_MODE_SELECT&&this._marqueeSelectHandler&&this._marqueeSelectHandler.cancelMarquee()&&this._chart.render()}getDragMode(){return this._dragMode}setDragMode(e){this._dragMode=null==e?this._getDefaultDragMode():e,!this._chart.xAxis.isFullViewport()||this._chart.yAxis&&!this._chart.yAxis.isFullViewport()||this.autoToggleZoomButton()}_getDefaultDragMode(){return t.Agent.isTouchDevice()?X.DRAG_MODE_OFF:O.isScrollable(this._chart)?X.DRAG_MODE_PAN:"multiple"==this._chart.getOptions().selectionMode?X.DRAG_MODE_SELECT:null}onZoomButtonClick(e){this.zoomButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(X.DRAG_MODE_ZOOM)):this.setDragMode(null)}onPanButtonClick(e){this.panButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(X.DRAG_MODE_PAN)):this.setDragMode(null)}onSelectButtonClick(e){this.selectButton.isToggled()?(this.zoomButton&&this.zoomButton.setToggled(!1),this.panButton&&this.panButton.setToggled(!1),this.setDragMode(X.DRAG_MODE_SELECT)):this.setDragMode(null)}setDragButtonsVisible(e){e&&!this._dragButtonsVisible?(this._chart.showDragButtons(),this._dragButtonsVisible=!0):!e&&this._dragButtonsVisible&&(this._chart.hideDragButtons(),this._dragButtonsVisible=!1)}areDragButtonsVisible(){return this._dragButtonsVisible}autoToggleZoomButton(){!t.Agent.isTouchDevice()&&this.zoomButton&&(this._chart.xAxis.isFullViewport()&&this._chart.yAxis.isFullViewport()?this._dragMode==X.DRAG_MODE_PAN&&(this.zoomButton.setToggled(!0),this.onZoomButtonClick(null)):this._dragMode==X.DRAG_MODE_ZOOM&&(this.zoomButton.setToggled(!1),this.onZoomButtonClick(null)))}GetTouchResponse(){return this._dragMode&&this._dragMode!=X.DRAG_MODE_OFF?t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:this._chart.getOptions().touchResponse}isDndSupported(){return!0}GetDragSourceType(){var e=this.DragSource.getDragObject();return e instanceof f&&e.getSeriesIndex()>=0&&e.getGroupIndex()>=0||e instanceof Y?"items":null}GetDragDataContexts(e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],s=0;s<i.length;s++){var a=p.getDataContext(this._chart,i[s].getSeriesIndex(),i[s].getGroupIndex(),i[s].getNestedDataItemIndex());e&&t.ToolkitUtils.cleanDragDataContext(a),r.push(a)}return r}var n=this.DragSource.getDragObject(),o=null;return n instanceof f&&(o=p.getDataContext(this._chart,n.getSeriesIndex(),n.getGroupIndex(),n.getNestedDataItemIndex())),n instanceof Y&&(o=p.getDataContext(this._chart,n.getSeriesIndex(),0)),o&&e&&t.ToolkitUtils.cleanDragDataContext(o),o?[o]:null}GetDropOffset(e){var i=this.DragSource.getDragObject();if(i instanceof f){var r=i.getDataPosition();if(r){r=this._chart.getPlotArea().localToStage(r);var s=this._context.pageToStageCoords(e.pageX,e.pageY);return new t.Point(r.x-s.x,r.y-s.y)}}return null}GetDropTargetType(e){var t=this._context.pageToStageCoords(e.pageX,e.pageY),i=this._chart.getOptions().dnd.drop,r=this._chart.__getPlotAreaSpace();return Object.keys(i.plotArea).length>0&&r.containsPoint(t.x,t.y)?"plotArea":Object.keys(i.xAxis).length>0&&L.isAxisRendered(this._chart,"x")&&L.axisContainsPoint(this._chart.xAxis,t)?"xAxis":Object.keys(i.yAxis).length>0&&L.isAxisRendered(this._chart,"y")&&L.axisContainsPoint(this._chart.yAxis,t)?"yAxis":Object.keys(i.y2Axis).length>0&&L.isAxisRendered(this._chart,"y2")&&L.axisContainsPoint(this._chart.y2Axis,t)?"y2Axis":null}GetDropEventPayload(e){var i=e.getNativeEvent().dataTransfer,r=Number(i.getData(t.EventManager.DROP_OFFSET_X_DATA_TYPE))||0,s=Number(i.getData(t.EventManager.DROP_OFFSET_Y_DATA_TYPE))||0,a=this._context.pageToStageCoords(e.pageX,e.pageY);return this._chart.getValsAt(a.x+r,a.y+s)}ShowDropEffect(e){var t=this._getDropObject(e);t&&(t.setClassName("oj-active-drop"),t.setSolidFill(this._chart.getOptions()._dropColor))}ClearDropEffect(){var e=this._chart.getCache().getFromCache("plotAreaBackground");if(e){var i=p.getBackgroundColor(this._chart);i?e.setSolidFill(i):e.setInvisibleFill(),t.ToolkitUtils.removeClassName(e.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(e.getElem(),"oj-active-drop")}var r=e=>{if(e){var i=e.getCache().getFromCache("background");i&&(i.setInvisibleFill(),t.ToolkitUtils.removeClassName(i.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(i.getElem(),"oj-active-drop"))}};r(this._chart.xAxis),r(this._chart.yAxis),r(this._chart.y2Axis)}ShowRejectedDropEffect(e){var t=this._getDropObject(e);t&&t.setClassName("oj-invalid-drop")}_getDropObject(e){var t,i=this.GetDropTargetType(e);return"plotArea"==i?t=this._chart.getCache().getFromCache("plotAreaBackground"):"xAxis"==i?t=this._chart.xAxis.getCache().getFromCache("background"):"yAxis"==i?t=this._chart.yAxis.getCache().getFromCache("background"):"y2Axis"==i&&(t=this._chart.y2Axis.getCache().getFromCache("background")),t}}X.DRAG_MODE_PAN="pan",X.DRAG_MODE_ZOOM="zoom",X.DRAG_MODE_SELECT="select",X.DRAG_MODE_OFF="off";class K extends t.KeyboardHandler{constructor(e,t){super(e),this._chart=t}isSelectionEvent(e){return this.isNavigationEvent(e)&&!e.ctrlKey}isMultiSelectEvent(e){return e.keyCode==t.KeyboardEvent.SPACE&&e.ctrlKey}processKeyDown(e){var i=e.keyCode;if(i==t.KeyboardEvent.TAB){if(s=this._eventManager.getFocus())return t.EventManager.consumeEvent(e),s;var r=F.getKeyboardNavigables(this._chart);if(r.length>0)return t.EventManager.consumeEvent(e),this.getDefaultNavigable(r)}else if(i==t.KeyboardEvent.ENTER){var s;if(s=this._eventManager.getFocus())return this._eventManager.processDrillEvent(s),t.EventManager.consumeEvent(e),s}else i==t.KeyboardEvent.ESCAPE?this._eventManager.cancelMarquee(e):i==t.KeyboardEvent.PAGE_UP?((e.ctrlKey||e.shiftKey||l.isBLAC(this._chart))&&l.isVertical(this._chart)?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),t.EventManager.consumeEvent(e)):i==t.KeyboardEvent.PAGE_DOWN?((e.ctrlKey||e.shiftKey||l.isBLAC(this._chart))&&l.isVertical(this._chart)?this._eventManager.panBy(.25,0):this._eventManager.panBy(0,.25),t.EventManager.consumeEvent(e)):t.KeyboardEvent.isEquals(e)||t.KeyboardEvent.isPlus(e)?this._eventManager.zoomBy(1.5):(t.KeyboardEvent.isMinus(e)||t.KeyboardEvent.isUnderscore(e))&&this._eventManager.zoomBy(1/1.5);return super.processKeyDown(e)}getDefaultNavigable(e){if(!e||e.length<=0)return null;for(var t,i,r,s,a=l.isPie(this._chart),n=0;n<e.length;n++)s=e[n],!t||s.getSeriesIndex()<i?(t=s,i=s.getSeriesIndex(),a||(r=s.getGroupIndex())):!a&&s.getGroupIndex()<r&&(t=s,i=s.getSeriesIndex(),r=s.getGroupIndex());return t}}class q{constructor(e,t,i){this._peer=e,this._updateDuration=.75*t,this._insertDuration=.5*t,this._deleteDuration=.5*t,this._shape=e.getDisplayables()[0],this._animId=(e.getDataItemId()||e.getSeries()+"/"+e.getGroup())+i}animateUpdate(e,t){var i=t._shape;this._shape&&this._shape.getUpdateAnim&&e.add(this._shape.getUpdateAnim(this._updateDuration,i),1)}animateInsert(e){if(this._shape&&this._shape.getInsertAnim)e.add(this._shape.getInsertAnim(this._insertDuration),2);else{var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,0)}}animateDelete(e,i){if(i.addChild(this._shape),this._shape&&this._shape.getDeleteAnim)e.add(this._shape.getDeleteAnim(this._deleteDuration),0);else{var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}}getId(){return this._animId}setId(e){this._animId=e}setOldChart(e){this._oldChart=e}}const Z={DIR_UP:0,DIR_DOWN:1,DIR_NOCHANGE:2,makeIndicator:(e,t,i,r,s,a)=>{if(l.isPolar(r))return null;var n=Z.getDirection(e,t,i,r,s,a);if(n==Z.DIR_NOCHANGE)return null;var o=n===Z.DIR_DOWN,h=o?p.getAnimDownColor(r):p.getAnimUpColor(r),g=Z._drawIndicator(r.getCtx(),o,l.isHorizontal(r),h);return r.getPlotArea().addChild(g),g},getDirection:(e,t,i,r,s,a)=>{var n=d.getVal(e,t,i),o=d.getVal(r,s,a);return null==o||null==n||o==n?Z.DIR_NOCHANGE:o>n?Z.DIR_UP:Z.DIR_DOWN},_drawIndicator:(e,i,r,s)=>{var a;r?a=(t.Agent.isRightToLeft(e)?!i:i)?"M3.5,-5L3.5,5L-3.5,0L3.5,-5":"M-3.5,-5L-3.5,5L3.5,0L-3.5,-5":a=i?"M-5,-3.5L5,-3.5L0,3.5L-5,-3.5Z":"M-5,3.5L5,3.5L0,-3.5L-5,3.5Z";var n=i?"oj-chart-animation-down":"oj-chart-animation-up",o=new t.Path(e,a);return o.setClassName(n),o.setStyle({fill:s}),o}};class Q extends q{constructor(e,t,i){super(e,t,i),this._indicator=null}animateInsert(e){var t=this._shape.getInsertAnim(this._insertDuration);e.add(t,2)}animateDelete(e,t){t.addChild(this._shape);var i=this._shape.getDeleteAnim(this._deleteDuration);e.add(i,0)}animateUpdate(e,i){var r=this._oldChart,s=this._peer.getChart(),a=l.isHorizontal(r)!=l.isHorizontal(s),n=i._getAnimParams(a),o=this._getAnimParams(),h=i._shape.getPrimaryFill(),g=this._shape.getPrimaryFill(),d=i._shape.isSelected()||this._shape.isSelected()||h.equals(g);if(!t.ArrayUtils.equals(n,o)||!h.equals(g)){var u=this._peer.getSeriesIndex(),c=i._peer.getSeriesIndex(),_=this._peer.getGroupIndex(),m=i._peer.getGroupIndex();"none"!==p.getAnimIndicators(s)&&(this._indicator=Z.makeIndicator(r,c,m,s,u,_)),this._setAnimParams(n),d||this._shape.setFill(h);var v=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);v.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,o),d||v.getAnimator().addProp(t.Animator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,g),this._indicator&&(v.setOnEnd(this._onEndAnim,this),this._indicator.setAlpha(0)),e.add(v,1)}}_getAnimParams(e){return this._shape.getAnimParams(e)}_setAnimParams(e){this._shape.setAnimParams(e,this._indicator)}_onEndAnim(){this._indicator&&(this._indicator.getParent().removeChild(this._indicator),this._indicator=null)}}class J extends q{animateUpdate(e,i){var r=this._shape,s=i._shape.getAnimParams(),a=r.getAnimParams(),n=i._shape.getFill(),o=this._shape.getFill();if(!t.ArrayUtils.equals(s,a)||!n.equals(o)){r.setAnimParams(s);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,a),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),this._indicator&&l.setOnEnd(this._onEndAnim,this),e.add(l,1)}}animateInsert(e){var i=this._shape,r=i.getAnimParams(),s=r.slice(0);s[0]+=s[1]/2,s[1]=0,s[3]=0,i.setAnimParams(s);var a=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,r),e.add(a,2)}animateDelete(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var s=r.getAnimParams(),a=s.slice(0);a[0]+=s[1]/2,a[1]=0,a[3]=0;var n=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,a),e.add(n,0)}}class $ extends q{constructor(e,t){super(e,t,""),this._context=this._shape.getCtx(),this._chart=this._peer.getChart(),this._animId+="/"+(this._shape.isArea()?"area":"line")}animateUpdate(e,i){this._baseCoords=this._shape.getBaseCoords(),this._coords=this._shape.getCoords();var r,s,a=this._shape.isArea(),n=this._oldChart,o=this._chart,l=this._peer.getSeriesIndex(),h=i._peer.getSeriesIndex(),g=this._shape.getCommonGroupIndices(i._shape),u=i._shape.getCommonGroupIndices(this._shape);if(a){var c=i._getBaseAnimParams(this._shape),_=this._getBaseAnimParams(i._shape);$._matchGroupIndices(c,_),t.ArrayUtils.equals(c,_)||(this._setBaseAnimParams(c),(r=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getBaseAnimParams,this._setBaseAnimParams,_))}var m=i._getAnimParams(this._shape),v=this._getAnimParams(i._shape);$._matchGroupIndices(m,v),t.ArrayUtils.equals(m,v)||(this._setAnimParams(m),(s=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,v));var f=d.getSeriesType(this._peer.getChart(),l);if("none"!==p.getAnimIndicators(o)&&(!a||"lineWithArea"!=f))for(var y,C,x=0;x<g.length;x++)y=Z.getDirection(n,h,u[x],o,l,g[x]),(C=Z.makeIndicator(n,h,u[x],o,l,g[x]))&&this._shape.addIndicator(g[x],y,C);if(r||s){var S=new t.ParallelPlayable(this._context,r,s);S.setOnEnd(this._onAnimEnd,this),e.add(S,1)}}animateInsert(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._context,this._shape,this._insertDuration);e.add(i,2)}animateDelete(e,i){var r;if("area"==d.getSeriesType(this._oldChart,this._peer.getSeriesIndex())){var s=this._chart.__getAreaContainer();if(this._deletedAreas=this._shape.getParent().getParent(),!s)return;s.addChild(this._deletedAreas),(r=new t.AnimFadeOut(this._context,this._deletedAreas,this._deleteDuration)).setOnEnd(this._removeDeletedAreas,this),e.add(r,0)}else i.addChild(this._shape),r=new t.AnimFadeOut(this._context,this._shape,this._deleteDuration),e.add(r,0)}_removeDeletedAreas(){var e=this._chart.__getAreaContainer();e&&e.removeChild(this._deletedAreas)}_getAnimParams(e){return this._shape.getAnimParams(e)}_setAnimParams(e){this._shape.setAnimParams(e)}_getBaseAnimParams(e){return this._shape.getBaseAnimParams(e)}_setBaseAnimParams(e){this._shape.setBaseAnimParams(e)}_onAnimEnd(){this._shape.removeIndicators(),this._shape.setCoords(this._coords,this._baseCoords)}static _matchGroupIndices(e,t){for(var i=3;i<e.length;i+=4)e[i]=t[i]}}class ee extends q{animateUpdate(e,i){var r=i._shape.getCenterDimensions(),s=this._shape.getCenterDimensions();if(!s.equals(r)){this._shape.setCenterDimensions(r);var a=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);a.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,this._shape,this._shape.getCenterDimensions,this._shape.setCenterDimensions,s);var n=this._peer.getChart();if(this.isValueChange(i)&&"none"!=p.getAnimIndicators(n)&&l.isScatterBubble(n)){var o=i._shape;o.setAlpha(.9),o.setClassName("oj-chart-animation-marker"),o.setCenterDimensions(r),this._peer.getChart().getPlotArea().addChild(o),a.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,o,o.getCenterDimensions,o.setCenterDimensions,s),a.getAnimator().addProp(t.Animator.TYPE_NUMBER,o,o.getAlpha,o.setAlpha,0),this._overlay=o,a.setOnEnd(this._onEndAnim,this)}e.add(a,1)}}animateInsert(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)}animateDelete(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}isValueChange(e){var t=!1;if(e){var i=e._peer.getSeriesIndex(),r=e._peer.getGroupIndex(),s=this._peer.getSeriesIndex(),a=this._peer.getGroupIndex(),n=e._oldChart.getOptions(),o=this._peer.getChart().getOptions(),l=n.series[i].items[r].x,h=n.series[i].items[r].y,g=n.series[i].items[r].z,d=o.series[s].items[a].x,u=o.series[s].items[a].y,c=o.series[s].items[a].z;t=d!==l||u!==h||c!==g}return t}_onEndAnim(){this._overlay&&(this._peer.getChart().getPlotArea().removeChild(this._overlay),this._overlay=null)}}class te extends q{animateUpdate(e,i){var r=this._shape,s=i._shape.getAnimParams(),a=r.getAnimParams(),n=i._shape.getPrimaryFill(),o=this._shape.getPrimaryFill();if(!t.ArrayUtils.equals(s,a)||!n.equals(o)){r.setAnimParams(s);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,a),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),e.add(l,1)}}animateInsert(e){var i=this._shape,r=i.getAnimParams(),s=r.slice(0);s[1]=0,s[2]=0,i.setAnimParams(s);var a=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,r),e.add(a,2)}animateDelete(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var s=r.getAnimParams().slice(0);s[1]=0,s[2]=0;var a=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,s),e.add(a,0)}}class ie extends q{animateInsert(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)}animateDelete(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}animateUpdate(e,i){var r=i._shape.getAnimParams(),s=this._shape.getAnimParams();this._shape.setAnimParams(r);var a=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._shape,this._shape.getAnimParams,this._shape.setAnimParams,s),e.add(a,1)}}class re extends t.Polygon{constructor(e,t,i,r){let s,a,n,o,l;t&&(a=Math.min(t[0],t[4]),n=Math.max(t[0],t[4]),o=Math.min(t[1],t[5]),l=Math.max(t[1],t[5]),s=[a,o,n,o,n,l,a,l]),super(e,s,i,r),this._x1=a,this._x2=n,this._y1=o,this._y2=l}setStyleProperties(e,i,r,s,a,n,o){this._fill=e,this._borderStroke=i,this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=s,this._outerColor=a,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(e),i&&this.setStroke(i)}setAnimParams(e){this._x1=Math.min(e[0],e[4]),this._x2=Math.max(e[0],e[4]),this._y1=Math.min(e[1],e[5]),this._y2=Math.max(e[1],e[5]),this.setPoints(e),this._initializeSelectionEffects()}showHoverEffect(){if(!this.IsShowingHoverEffect)if(this.IsShowingHoverEffect=!0,"redwood"===this.getCtx().getThemeBehavior()){if(!this.isSelected()){var e=this.getFill().getColor();this._showNestedBorders(e,this._innerColor)}}else this._showNestedBorders(this._hoverColor,this._innerColor)}hideHoverEffect(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,"redwood"===this.getCtx().getThemeBehavior()?this.isSelected()||this._showNestedBorders():this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())}setSelected(e){if(this.IsSelected!=e)if(this.IsSelected=e,"redwood"===this.getCtx().getThemeBehavior()){var t=this.getPrimaryFill().getColor();this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this.isHoverEffectShown()?this._showNestedBorders(t,this._innerColor):this._showNestedBorders()}else this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()}UpdateSelectionEffect(){}getPrimaryFill(){return this._fill}_initializeSelectionEffects(){var e=this.isSelected()?re.OUTER_BORDER_WIDTH:re.OUTER_BORDER_WIDTH_HOVER,i=this._createPointsArray(e),r=this._createPointsArray(e+re.INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setPoints(i),void this.InnerChild.setPoints(r);this.OuterChild=new t.Polygon(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Polygon(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)}_showNestedBorders(e,t){this._initializeSelectionEffects(),t?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(t),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):e?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._borderStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())}_createPointsArray(e){var t=this._x1+e,i=this._x2-e,r=this._y1+e,s=this._y2-e;return[t,r,i,r,i,s,t,s]}}re.OUTER_BORDER_WIDTH=2,re.OUTER_BORDER_WIDTH_HOVER=1.25,re.INNER_BORDER_WIDTH=1;class se extends re{constructor(e,t,i,r,s,a,n){super(e.getCtx(),null,null,n),this._MAX_GAP_SIZE=2,this._MIN_BAR_LENGTH_FOR_GAPS=5,this._INDICATOR_OFFSET=8,this._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING=15,this._bHoriz=l.isHorizontal(e),this._bStacked=d.isStacked(e),this._barGapRatio=R.getBarGapRatio(e),this._dataItemGaps=p.getDataItemGaps(e),this._axisCoord=t,this._doNotRender=!!n,this._setBarCoords(i,r,s,a,!0)}setSelected(e){if(this.IsSelected!=e){if(this.IsSelected=e,"redwood"===this.getCtx().getThemeBehavior())var t=this.getPrimaryFill().getColor();else t=this._hoverColor;this.isSelected()?(this._tempX1=this._x1,this._tempX2=this._x2,this._tempBaselineCoord=this._baselineCoord,this._x1=this._origX1,this._x2=this._origX2,this._baselineCoord=this._origBaselineCoord,this.setPoints(this._createPointsArray()),"redwood"===this.getCtx().getThemeBehavior()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders(this.isHoverEffectShown()?t:this._outerColor,this._innerColor)):(this._x1=this._tempX1,this._x2=this._tempX2,this._baselineCoord=this._tempBaselineCoord,this.setPoints(this._createPointsArray()),"redwood"===this.getCtx().getThemeBehavior()?this.isHoverEffectShown()?this._showNestedBorders(t,this._innerColor):this._showNestedBorders(null):this._showNestedBorders(this.isHoverEffectShown()?t:null))}}getAnimParams(e){return e?this._bHoriz?[this._x2,this._x1,this._baselineCoord,this._endCoord]:[this._x1,this._x2,this._endCoord,this._baselineCoord]:[this._baselineCoord,this._endCoord,this._x1,this._x2]}setAnimParams(e,t){if(this._setBarCoords(e[0],e[1],e[2],e[3],!1),t){var i=this.getIndicatorPos();t.setTranslate(i.x,i.y),t.setAlpha(1),t.getParent().addChild(t)}}getDisplayAnim(e){var i=this.getAnimParams();this.setAnimParams([this._axisCoord,this._axisCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r}getDeleteAnim(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r}getInsertAnim(e){this.setAlpha(0);var i=this.getDisplayAnim(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i}getIndicatorPos(){var e,i,r=(this._x1+this._x2)/2;if(this._bStacked){var s=(this._endCoord+this._baselineCoord)/2;e=this._bHoriz?s:r,i=this._bHoriz?r:s}else{var a=this._endCoord>=this._baselineCoord?this._endCoord+this._INDICATOR_OFFSET:this._endCoord-this._INDICATOR_OFFSET;e=this._bHoriz?a:r,i=this._bHoriz?r:a}return new t.Point(e,i)}_setBarCoords(e,i,r,s,a){this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=s;var n=this._x2-this._x1;if(n<1&&(this._x1=Math.floor(this._x1),this._x2=this._x1+1,n=1),this._origX1=this._x1,this._origX2=this._x2,this._origBaselineCoord=this._baselineCoord,this._origSize=this._x2-this._x1,this._dataItemGaps>0&&a&&!this.isSelected()){var o=Math.ceil(this._MAX_GAP_SIZE*this._dataItemGaps),l=Math.abs(this._baselineCoord-this._endCoord),h=this._axisCoord==this._baselineCoord;l>=this._MIN_BAR_LENGTH_FOR_GAPS&&this._bStacked&&!h&&(this._baselineCoord+=this._endCoord>this._baselineCoord?o:-o),n>=se._MIN_BAR_WIDTH_FOR_GAPS&&(1==t.Agent.getDevicePixelRatio()&&this._barGapRatio>0&&n>this._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING?("firefox"===t.Agent.browser||this._doNotRender||this.setPixelHinting(!0),this._x1=Math.round(this._x1),this._x2=Math.round(this._x2),this._origX1=this._x1,this._origX2=this._x2,this._x2-=o):(this._x1+=o/2,this._x2-=o/2),this._origSize-=o)}if(!this._doNotRender){var g=this._createPointsArray();this.setPoints(g),this.OuterChild&&this.OuterChild.setPoints(this._createPointsArray(re.OUTER_BORDER_WIDTH)),this.InnerChild&&this.InnerChild.setPoints(this._createPointsArray(re.OUTER_BORDER_WIDTH+re.INNER_BORDER_WIDTH))}}_createPointsArray(e){var t=this._baselineCoord,i=this._endCoord,r=this._x1,s=this._x2;if(e>0){if(Math.abs(r-s)<2*e||Math.abs(t-i)<2*e)return[];r+=e,s-=e,i<t?(t-=e,i+=e):(t+=e,i-=e)}return this._bHoriz?[i,r,i,s,t,s,t,r]:[r,i,s,i,s,t,r,t]}getBoundingBox(){var e=Math.min(this._x2,this._x1),i=Math.min(this._endCoord,this._baselineCoord),r=Math.abs(this._x2-this._x1),s=Math.abs(this._endCoord-this._baselineCoord);return this._bHoriz?new t.Rectangle(i,e,s,r):new t.Rectangle(e,i,r,s)}getOriginalBarSize(){return this._origSize}getDimensionsSelf(e){return this.ConvertCoordSpaceRect(this.getBoundingBox(),e)}}se._MIN_BAR_WIDTH_FOR_GAPS=5;class ae extends t.Shape{constructor(e,i,r,s,a,n,o,h,g){super(e.getCtx()),this._chart=e,this._bHoriz=l.isHorizontal(e),this._styleOptions=g,this._innerColor=p.getSelectedInnerColor(this._chart),this._outerColor=p.getSelectedOuterColor(this._chart),this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(this._styleOptions._color);var d=i-r/2,u=i+r/2;p.getDataItemGaps(e)>0&&r>se._MIN_BAR_WIDTH_FOR_GAPS&&u--,this._render(d,u,s,a,n,o,h)}_render(e,i,r,s,a,n,o){this._cleanUp();var l=this.getCtx();this._x1=Math.round(e),this._x2=Math.round(i),this._low=Math.round(r),this._q1=Math.round(s),this._q2=Math.round(a),this._q3=Math.round(n),this._high=Math.round(o);var h=i-e,g=p.getSizeInPixels(this._styleOptions.whiskerEndLength,h);g=Math.min(h,g),g=2*Math.floor((g-1)/2)+1;var d=Math.floor((e+i)/2)+.5,u=d-Math.floor(g/2)-.5,c=d+Math.floor(g/2)+.5;this._drawLine(d,this._low,d,this._high,"whisker"),this._drawLine(u,this._low,c,this._low,"whiskerEnd"),this._drawLine(u,this._high,c,this._high,"whiskerEnd"),this._q2Box=new t.Polygon(l,this._createQ2PointsArray(0));var _=k.getRectangleFill(this._chart,this._styleOptions.q2Color,this._styleOptions._q2Pattern,h);this._q2Box.setFill(_),this._applyCustomStyle(this._q2Box,"q2"),this.addChild(this._q2Box),this._q3Box=new t.Polygon(l,this._createQ3PointsArray(0));var m=k.getRectangleFill(this._chart,this._styleOptions.q3Color,this._styleOptions._q3Pattern,h);this._q3Box.setFill(m),this._applyCustomStyle(this._q3Box,"q3"),this.addChild(this._q3Box),this._drawMedianLine(0),this._borderColor=this._styleOptions.borderColor,this._borderColor&&(this._borderWidth=this._styleOptions.borderWidth,this._drawBorders(this._borderColor,this._borderWidth)),this.IsSelected&&(this.IsSelected=!1,this.setSelected(!0))}showHoverEffect(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this.isSelected()?"redwood"!==this.getCtx().getThemeBehavior()&&this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH_HOVER,this._innerColor,re.INNER_BORDER_WIDTH))}hideHoverEffect(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._drawBorders(this._outerColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))}setSelected(e){this.IsSelected!=e&&(this.IsSelected=e,this.isHoverEffectShown()?e?"redwood"===this.getCtx().getThemeBehavior()?this._drawBorders(this._outerColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH_HOVER,this._innerColor,re.INNER_BORDER_WIDTH):e?this._drawBorders(this._outerColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,this._borderWidth))}UpdateSelectionEffect(){}getDisplayAnim(e){return this.getInsertAnim(e)}getDeleteAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=[this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2];return i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,r),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i}getInsertAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._getAnimParams();return this._setAnimParams([this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2]),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,r),this.setAlpha(0),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i}getUpdateAnim(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),s=i._getQ2Fill(),a=this._getQ2Fill();s.equals(a)||(this._setQ2Fill(s),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ2Fill,this._setQ2Fill,a));var n=i._getQ3Fill(),o=this._getQ3Fill();n.equals(o)||(this._setQ3Fill(n),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ3Fill,this._setQ3Fill,o));var l=this._getAnimParams();return this._setAnimParams(i._getAnimParams()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,l),r}_getAnimParams(){return[this._x1,this._x2,this._low,this._q1,this._q2,this._q3,this._high]}_setAnimParams(e){this._render(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}_getQ2Fill(){return new t.SolidFill(this._styleOptions.q2Color)}_setQ2Fill(e){this._styleOptions.q2Color=e.getColor()}_getQ3Fill(){return new t.SolidFill(this._styleOptions.q3Color)}_setQ3Fill(e){this._styleOptions.q3Color=e.getColor()}_drawLine(e,i,r,s,a){var n=this._bHoriz?new t.Line(this.getCtx(),i,e,s,r):new t.Line(this.getCtx(),e,i,r,s);return this._applyCustomStyle(n,a),n.setPixelHinting(!0),this.addChild(n),n}_drawMedianLine(e){if(!this._medianLine){var i=new t.Line(this.getCtx(),0,0,0,0);this._applyCustomStyle(i,"median"),i.setPixelHinting(!0),this.addChild(i),this._medianLine=i}var r=this._x1+e,s=this._x2-e,a=this._q2;this._bHoriz?(this._medianLine.setX1(a),this._medianLine.setX2(a),this._medianLine.setY1(r),this._medianLine.setY2(s)):(this._medianLine.setY1(a),this._medianLine.setY2(a),this._medianLine.setX1(r),this._medianLine.setX2(s))}_drawBorders(e,i,r,s){if(!this._outerBorderShape){var a=this.getChildIndex(this._q2Box);this._innerBorderShape=new t.Polygon(this.getCtx()),this._innerBorderShape.setInvisibleFill(),this.addChildAt(this._innerBorderShape,a),this._outerBorderShape=new t.Polygon(this.getCtx()),this._outerBorderShape.setInvisibleFill(),this.addChildAt(this._outerBorderShape,a)}var n=0;i?(this._outerBorderShape.setPoints(this._createBoxPointsArray(0)),this._outerBorderShape.setSolidFill(e),n+=i,s?(this._innerBorderShape.setPoints(this._createBoxPointsArray(i)),this._innerBorderShape.setSolidFill(r),n+=s):this._innerBorderShape.setInvisibleFill()):(this._outerBorderShape.setInvisibleFill(),this._innerBorderShape.setInvisibleFill()),this._q2Box.setPoints(this._createQ2PointsArray(n)),this._q3Box.setPoints(this._createQ3PointsArray(n)),this._drawMedianLine(n)}_createBoxPointsArray(e){var t,i,r=this._x1+e,s=this._x2-e;return this._q1<this._q3?(t=this._q1+e,i=this._q3-e):(t=this._q1-e,i=this._q3+e),this._createPointsArray(r,s,t,i)}_createQ3PointsArray(e){var t,i=this._x1+e,r=this._x2-e,s=this._q2;return t=this._q2<this._q3?this._q3-e:this._q3+e,this._createPointsArray(i,r,s,t)}_createQ2PointsArray(e){var t,i=this._x1+e,r=this._x2-e,s=this._q2;return t=this._q2<this._q1?this._q1-e:this._q1+e,this._createPointsArray(i,r,t,s)}_createPointsArray(e,t,i,r){return this._bHoriz?[i,e,i,t,r,t,r,e]:[e,i,t,i,t,r,e,r]}_applyCustomStyle(e,t){e.setStyle(this._styleOptions[t+"Style"]||this._styleOptions[t+"SvgStyle"],!0),e.setClassName(this._styleOptions[t+"ClassName"]||this._styleOptions[t+"SvgClassName"],!0)}_cleanUp(){this.removeChildren(),this._q2Box=null,this._q3Box=null,this._medianLine=null,this._outerBorderShape=null,this._innerBorderShape=null}}class ne extends t.Container{constructor(e,t,i,r,s,a,n){super(e),this._BAR_WIDTH=.3,i=Math.max(2*Math.round(i/2),1);var o=Math.min(2*Math.ceil(this._BAR_WIDTH*i/2),i),l=Math.round(t)-i/2,h=l+i;if(null!=a&&null!=n){var g=Math.round(t)-o/2,d=g+o;this._rangeShape=new re(e,[g,a,d,a,d,n,g,n]),this.addChild(this._rangeShape)}this._changeShape=new re(e,[l,r,h,r,h,s,l,s]),this.addChild(this._changeShape),this.setPixelHinting(!0)}setChangeStyle(e,t,i,r,s){this._changeShape.setStyleProperties(e,t,i,r,s)}setRangeStyle(e,t,i,r){this._rangeShape&&this._rangeShape.setStyleProperties(e,t,i,null,r)}setSelected(e){this._changeShape.setSelected(e),this._rangeShape&&this._rangeShape.setSelected(e)}showHoverEffect(){this._changeShape.showHoverEffect(),this._rangeShape&&this._rangeShape.showHoverEffect()}hideHoverEffect(){this._changeShape.hideHoverEffect(),this._rangeShape&&this._rangeShape.hideHoverEffect()}getDisplayAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._changeShape.getPoints();if(this._changeShape.setPoints(ne._getInitialPoints(r)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimParams,r),this._rangeShape){var s=this._rangeShape.getPoints();this._rangeShape.setPoints(ne._getInitialPoints(s)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimParams,s)}return i}getDeleteAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=ne._getInitialPoints(this._changeShape.getPoints());if(i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimParams,r),this._rangeShape){var s=ne._getInitialPoints(this._rangeShape.getPoints());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimParams,s)}return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i}getInsertAnim(e){this.setAlpha(0);var i=this.getDisplayAnim(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i}getUpdateAnim(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),s=this._changeShape.getPoints();this._changeShape.setPoints(i._changeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimParams,s);var a=i._changeShape.getPrimaryFill(),n=this._changeShape.getPrimaryFill();if(i._changeShape.isSelected()||this._changeShape.isSelected()||a.equals(n)||(this._changeShape.setFill(a),r.getAnimator().addProp(t.Animator.TYPE_FILL,this._changeShape,this._changeShape.getFill,this._changeShape.setFill,n)),this._rangeShape&&i._rangeShape){var o=this._rangeShape.getPoints();this._rangeShape.setPoints(i._rangeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimParams,o)}return r}UpdateSelectionEffect(){}static _getInitialPoints(e){var t=e[0],i=e[2],r=(e[1]+e[5])/2;return[t,r,i,r,i,r,t,r]}}class oe{constructor(e,t,i,r,s,a){this.x=e,this.y1=t,this.y2=i,this.groupIndex=r,this.group=s,this.filtered=a}isUpstep(e){return Math.abs(this.y2-e)>Math.abs(this.y1-e)}clone(){return new oe(this.x,this.y1,this.y2,this.groupIndex,this.group,this.filtered)}}class le extends t.Container{constructor(e,t,i,r,s,a,n,o,l,h,g,d){super(e.getCtx()),this._INDICATOR_OFFSET=8,this._chart=e,this._bArea=t,this._availSpace=i,this._baseline=r,this._style=s,this._className=a,this._fill=n,this._stroke=o,this._type=l,this._baseType=g||l,this._indicatorMap={},this.setCoords(h,d),this.chartShapeType="lineArea"}setCoords(e,t){this._arCoord=e,t&&(this._arBaseCoord=t),this.removeChildren(),this._bArea?this._renderAreas():this._renderLines(),this._positionIndicators()}getCoords(){return this._arCoord}getBaseCoords(){return this._arBaseCoord}getBaseline(){return this._baseline}isArea(){return this._bArea}_getPointArrays(e,i){var r=[],s=[];r.push(s),e=le._convertToPointCoords(e);var a,n,o,h,g,d=l.isPolar(this._chart),u="centeredStepped"==i||"centeredSegmented"==i,c=u||"stepped"==i||"segmented"==i,_=p.getGroupWidth(this._chart),m=t.Agent.isRightToLeft(this.getCtx())&&l.isVertical(this._chart)?-1:1;d&&(a=e[e.length-1]);for(var v=!1,f=0;f<e.length;f++)null!=e[f]?(n=e[f],h=e[f]._isY2,o=u?n.x-_/2*m:n.x,h&&(v&&c&&(o+=_*m),v=!v),"curved"==i&&h&&s.push(null,null),a&&c&&this._pushCoord(s,o,a.y),this._bArea||"segmented"!=i&&"centeredSegmented"!=i||(s=[],r.push(s)),this._pushCoord(s,o,n.y),a=n):(l.isMixedFrequency(this._chart)||c&&!d&&a&&!h&&(g=u?a.x+.5*_*m:a.x+_*m,this._pushCoord(s,g,a.y)),s=[],r.push(s),a=null);if(c&&!d&&a&&!h&&(g=u?a.x+.5*_*m:a.x+_*m,this._pushCoord(s,g,a.y)),d&&r.length>1){var y=r.pop();r[0]=y.concat(r[0])}return r}_pushCoord(e,i,r){var s=h.convertAxisCoord(this._chart,new t.Point(i,r),this._availSpace);e.push(Math.round(10*s.x)/10,Math.round(10*s.y)/10)}_isRing(){if(!l.isPolar(this._chart)||!l.hasGroupAxis(this._chart)||this._arCoord.length<d.getGroupCount(this._chart))return!1;for(var e=0;e<this._arCoord.length;e++)if(null==this._arCoord[e].x)return!1;return!0}_getSplineType(){return l.isScatterBubble(this._chart)?t.PathUtils.SPLINE_TYPE_CARDINAL:l.isPolar(this._chart)?this._isRing()?t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED:t.PathUtils.SPLINE_TYPE_CARDINAL:l.isHorizontal(this._chart)?t.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL:t.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL}_renderLines(){for(var e,i=this._getPointArrays(this._arCoord,this._type),r=0;r<i.length;r++){var s=i[r];if(s&&s.length>1){if("curved"==this._type){var a=le._getCurvedPathCommands(s,!1,this._getSplineType());(e=new t.Path(this.getCtx(),a)).setFill(null)}else this._isRing()?(e=new t.Polygon(this.getCtx(),s)).setFill(null):e=new t.Polyline(this.getCtx(),s);e.setStroke(this._stroke),e.setClassName(this._className).setStyle(this._style),this.addChild(e)}}}_renderAreas(){var e=this._arCoord,i=this._arBaseCoord;!l.isPolar(this._chart)&&e.length>0&&i.length>0&&(e=e.slice(0),i=i.slice(0),null!=e[0].x&&null!=i[0].x&&(le._removeAreaEdge(e,0,this._baseline),le._removeAreaEdge(i,0,this._baseline),i[0].x=e[0].x),null!=e[e.length-1].x&&null!=i[i.length-1].x&&(le._removeAreaEdge(e,e.length-1,this._baseline),le._removeAreaEdge(i,i.length-1,this._baseline),i[i.length-1].x=e[e.length-1].x));var r=this._getPointArrays(e,this._type),s=this._getPointArrays(i,this._baseType);if(r.length==s.length)for(var a,n=0;n<r.length;n++){var o=r[n],h=s[n];if(!(o.length<2)){var g="curved"==this._type,d="curved"==this._baseType;this._isRing()&&(g||o.push(o[0],o[1]),h.length>=2&&!d&&h.push(h[0],h[1]));for(var u=[],c=0;c<h.length;c+=2)u.unshift(h[c],h[c+1]);if(g||d){var p=this._getSplineType(),_=g?le._getCurvedPathCommands(o,!1,p):t.PathUtils.polyline(o,!1);_+=d?le._getCurvedPathCommands(u,!0,p):t.PathUtils.polyline(u,!0),_+=t.PathUtils.closePath(),a=new t.Path(this.getCtx(),_)}else{var m=u.concat(o);a=new t.Polygon(this.getCtx(),m)}a.setFill(this._fill),a.setClassName(this._className).setStyle(this._style),this._stroke&&a.setStroke(this._stroke),this.addChild(a)}}}_positionIndicators(){for(var e,i,r,s,a,n=0;n<this._arCoord.length;n++)a=this._arCoord[n],(e=this._indicatorMap[a.groupIndex])&&e.indicator&&(s=(a.isUpstep(this._baseline)?a.y2:a.y1)+this._INDICATOR_OFFSET*(e.direction==Z.DIR_UP?-1:1),r=h.convertAxisCoord(this._chart,new t.Point(a.x,s),this._availSpace),(i=e.indicator).setTranslate(r.x,r.y),i.setAlpha(1),i.getParent().addChild(i))}getAnimParams(e){return le._coordsToAnimParams(this._arCoord,e?e._arCoord:null,this._baseline)}setAnimParams(e){var t=le._animParamsToCoords(e);this.setCoords(t)}getBaseAnimParams(e){return le._coordsToAnimParams(this._arBaseCoord,e?e._arBaseCoord:null,this._baseline)}setBaseAnimParams(e){this._arBaseCoord=le._animParamsToCoords(e)}getCommonGroupIndices(e){for(var t=[],i=0;i<this._arCoord.length;i++)if(!this._arCoord[i].filtered&&null!=this._arCoord[i].x)for(var r=0;r<e._arCoord.length;r++)if(!e._arCoord[r].filtered&&null!=e._arCoord[r].x&&this._arCoord[i].group==e._arCoord[r].group){t.push(this._arCoord[i].groupIndex);break}return t}addIndicator(e,t,i){i.setAlpha(0),this._indicatorMap[e]={direction:t,indicator:i}}removeIndicators(){for(var e in this._indicatorMap){var t=this._indicatorMap[e].indicator;t&&t.getParent().removeChild(t)}this._indicatorMap={}}static _convertToPointCoords(e){for(var i=[],r=0;r<e.length;r++)if(!e[r].filtered)if(null==e[r].x)i.push(null);else if(i.push(new t.Point(e[r].x,e[r].y1)),e[r].y1!=e[r].y2){var s=new t.Point(e[r].x,e[r].y2);s._isY2=!0,i.push(s)}return i}static _coordsToAnimParams(e,t,i){if(t&&t.length>0)if(e&&e.length>0){e=e.slice(0);for(var r,s,a,n=le._coordsToGroups(t),o=le._coordsToGroups(e),l=e.length,h=n.length-1;h>=0;h--)r=n[h],-1==(s=o.indexOf(r))?(0==l?(a=e[0].clone(),e[0]=e[0].clone(),le._removeCoordJump(a,e[0],i)):(a=e[l-1].clone(),e[l-1]=e[l-1].clone(),le._removeCoordJump(e[l-1],a,i)),a.groupIndex=-1,e.splice(l,0,a)):l=s}else{e=[];for(h=0;h<t.length;h++)e.push(new oe(t[h].x,i,i))}for(var g=[],d=0;d<e.length;d++)e[d].filtered||(null==e[d].x?(g.push(1/0),g.push(1/0),g.push(1/0)):(g.push(e[d].x),g.push(e[d].y1),g.push(e[d].y2)),g.push(e[d].groupIndex));return g}static _animParamsToCoords(e){for(var t=[],i=0;i<e.length;i+=4)e[i]==1/0||isNaN(e[i])?t.push(new oe(null,null,null,e[i+3])):t.push(new oe(e[i],e[i+1],e[i+2],e[i+3]));return t}static _coordsToGroups(e){for(var t=[],i=0;i<e.length;i++)e[i].filtered||t.push(e[i].group);return t}static _removeCoordJump(e,t,i){e.isUpstep(i)?t.y1=t.y2:e.y2=e.y1}static _getCurvedPathCommands(e,i,r){var s=[],a=[];s.push(a);for(var n=0;n<e.length;n+=2)null==e[n]?(a=[],s.push(a)):a.push(e[n],e[n+1]);if(r==t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED&&s.length>1){var o=s.pop();s[0]=o.concat(s[0]),r=t.PathUtils.SPLINE_TYPE_CARDINAL}var l="";for(n=0;n<s.length;n++)a=s[n],l+=t.PathUtils.curveThroughPoints(a,i,r),i=!0;return l}static _removeAreaEdge(e,t,i){var r=e[t].clone();r.isUpstep(i)?r.y1=r.y2:r.y2=r.y1,e[t]=r}}class he extends t.SimpleMarker{constructor(e,t,i,r,s,a){super(e,t,i,r,s,s,null,null,!0),a&&this.setStroke(he.DEFAULT_STROKE)}setDataColor(e){this._dataColor=e,this._hoverStroke=new t.Stroke(e,1,1.5)}getDataColor(){return this._dataColor}showHoverEffect(){this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)}hideHoverEffect(){this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?he.SELECTED_STROKE:he.DEFAULT_STROKE)}setSelected(e){this.IsSelected!=e&&(this.IsSelected=e,this.isSelected()?(this.setFill(he.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.DEFAULT_STROKE)))}UpdateSelectionEffect(){}}he.DEFAULT_STROKE=new t.Stroke("none"),he.SELECTED_FILL=new t.SolidFill("#FFFFFF"),he.SELECTED_STROKE=new t.Stroke("#5A5A5A",1,1.5);class ge extends j{constructor(e,t,i,r,s,a,n){super(e.getCtx()),this._MIN_BAR_LENGTH_FOR_GAPS=4,this._MAX_DATA_ITEM_GAP=3,this._axisCoord=t,this._availSpace=n.clone(),this._bbox=null,this._dataItemGaps=p.getDataItemGaps(e)*this._MAX_DATA_ITEM_GAP,this._setBarCoords(i,r,s,a)}getAnimParams(){return[this._baselineCoord,this._endCoord,this._x1,this._x2]}setAnimParams(e){this._setBarCoords(e[0],e[1],e[2],e[3])}getPrimaryFill(){return this.getFill()}getDisplayAnim(e){var i=this.getAnimParams();this.setAnimParams([this._axisCoord,this._axisCoord,0,0]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r}getDeleteAnim(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r}getInsertAnim(e){this.setAlpha(0);var i=this.getAnimParams();this.setAnimParams([this._baselineCoord,this._baselineCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),r}_setBarCoords(e,i,r,s){var a=this._availSpace.x+this._availSpace.w/2,n=this._availSpace.y+this._availSpace.h/2,o=Math.max(i,e),l=Math.abs(i-e)>=this._MIN_BAR_LENGTH_FOR_GAPS&&this._axisCoord!=e?Math.min(i,e)+this._dataItemGaps:Math.min(i,e),g=360-t.Math.radsToDegrees(Math.max(r,s))+90,d=t.Math.radsToDegrees(Math.abs(s-r));this.setWedgeParams(a,n,o,o,g,d,this._dataItemGaps,l);var u=h.polarToCartesian(e,r,this._availSpace),c=h.polarToCartesian(e,s,this._availSpace),p=h.polarToCartesian(i,r,this._availSpace),_=h.polarToCartesian(i,s,this._availSpace),m=Math.min(u.x,c.x,p.x,_.x),v=Math.max(u.x,c.x,p.x,_.x),f=Math.min(u.y,c.y,p.y,_.y),y=Math.max(u.y,c.y,p.y,_.y);this._bbox=new t.Rectangle(m,f,v-m,y-f),this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=s}getBoundingBox(){return this._bbox}getOriginalBarSize(){return this._bbox.w}}class de extends t.Path{constructor(e,t,i,r,s,a,n){super(e),this._markerSize=a,this._isInvisible=n,this._drawPath(t,i,r,s)}_drawPath(e,i,r,s){var a=Math.atan2(s-i,r-e),n=this._markerSize/2,o=Math.PI/8,l=t.PathUtils.moveTo(e+n*Math.cos(a+o),i+n*Math.sin(a+o))+t.PathUtils.arcTo(n,n,2*(Math.PI-o),1,e+n*Math.cos(a-o),i+n*Math.sin(a-o))+t.PathUtils.lineTo(r-n*Math.cos(a+o),s-n*Math.sin(a+o))+t.PathUtils.arcTo(n,n,2*(Math.PI-o),1,r-n*Math.cos(a-o),s-n*Math.sin(a-o))+t.PathUtils.closePath();this.setCmds(l),this._x1=e,this._y1=i,this._x2=r,this._y2=s}setStyleProperties(e,i,r,s,a){this._dataColor=r;var n=t.SelectionEffectUtils.getHoverBorderColor(r);this._isInvisible?(this.setInvisibleFill(),this._hoverStroke=new t.Stroke(n,1,1.5)):(this.setFill(e),this.setStroke(i),this.setHoverStroke(new t.Stroke(s,1,1),new t.Stroke(n,1,3.5)),this.setSelectedStroke(new t.Stroke(s,1,1.5),new t.Stroke(a,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(s,1,1.5),new t.Stroke(n,1,4.5)))}getDataColor(){return this._dataColor}showHoverEffect(){this._isInvisible?(this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)):super.showHoverEffect()}hideHoverEffect(){this._isInvisible?(this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?he.SELECTED_STROKE:he.DEFAULT_STROKE)):super.hideHoverEffect()}setSelected(e){if(this._isInvisible){if(this.IsSelected==e)return;this.IsSelected=e,this.isSelected()?(this.setFill(he.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.DEFAULT_STROKE))}else super.setSelected(e)}UpdateSelectionEffect(){this._isInvisible||super.UpdateSelectionEffect()}getAnimParams(){return[this._x1,this._y1,this._x2,this._y2]}setAnimParams(e){this._drawPath(e[0],e[1],e[2],e[3])}isInvisible(){return this._isInvisible}getBoundingBox(){return this.getBoundingBox1().getUnion(this.getBoundingBox2())}getBoundingBox1(){return new t.Rectangle(this._x1-this._markerSize/2,this._y1-this._markerSize/2,this._markerSize,this._markerSize)}getBoundingBox2(){return new t.Rectangle(this._x2-this._markerSize/2,this._y2-this._markerSize/2,this._markerSize,this._markerSize)}}const ue={createAnim:(e,i,r,s,a)=>{if(!ue._canAnimate(e,i))return null;var n,o=i.getCtx(),h=[],g=[];l.isPie(i)?(h.push(e.pieChart),g.push(i.pieChart)):ue._buildAnimLists(o,h,e,g,i,s);var d=new t.DataAnimationHandler(o,a);d.constructAnimation(h,g),d.getNumPlayables()>0&&(n=d.getAnimation(!0));var u=i.getDataLabels();if(n&&u.length>0){for(var c=0;c<u.length;c++)u[c].setAlpha(0);n=new t.SequentialPlayable(o,n,new t.AnimFadeIn(o,u,s/4))}return n},_buildAnimLists:(e,i,r,s,a,n)=>{var o,l,h,g,d,u=r.getChartObjPeers(),c=i,p=a.getCache().getFromCache("dataFiltered");for(o=0;o<2;o++){var _={},m={};for(l=0;l<u.length;l++){if(d=null,(g=(h=u[l]).getDisplayables()[0])instanceof B)d=new J(h,n,"/funnel");else if(g instanceof N)d=new te(h,n,"/pyramid");else if(g instanceof se||g instanceof ge){if(d=new Q(h,n,"/bar"),p){var v=h.getSeries();_[v]=_[v]?_[v]+1:1,d.setId(v+"/"+_[v]+"/bar")}}else if(g instanceof le){var f=(d=new $(h,n)).getId();m[f]=m[f]?m[f]+1:1,d.setId(f+"/"+m[f])}else if(g instanceof t.SimpleMarker){if(g instanceof he&&!g.isSelected())continue;d=new ee(h,n,"/marker")}else if(g instanceof de){if(g.isInvisible()&&!g.isSelected())continue;d=new ie(h,n,"/rangeMarker")}else g instanceof ne?d=new q(h,n):g instanceof ae&&(d=new q(h,n,"/boxAndWhisker"));d&&(c.push(d),d.setOldChart(r))}c=s,u=a.getChartObjPeers()}},_canAnimate:(e,t)=>l.isPie(e)&&l.isPie(t)?e&&t:l.isPolar(e)==l.isPolar(t)&&(!(!l.isBLAC(e)||!l.isBLAC(t))||(!(!l.isScatterBubble(e)||!l.isScatterBubble(t))||e.getType()==t.getType()))},ce={createAnim:(e,i,r)=>{var s=[];if(l.isBLAC(e))ce._animBarLineArea(e,r,s);else if(l.isScatterBubble(e)||l.isFunnel(e)||l.isPyramid(e))ce._animBubbleScatterFunnelPyramid(e,r,s);else if(l.isPie(e)&&e.pieChart)return e.pieChart.getDisplayAnim();return s.length>0?new t.ParallelPlayable(e.getCtx(),s):null},_animBarLineArea:(e,i,r)=>{var s=e.getChartObjPeers(),a=s?s.length:0;if(a)for(var n,o,l,h=0;h<a;h++){n=(o=s[h]).getDisplayables()[0];var g=d.getSeriesType(o.getChart(),o.getSeriesIndex());if(l=null,n instanceof se||n instanceof ge||n instanceof ne||n instanceof ae)l=n.getDisplayAnim(i);else if(n instanceof le)l="line"==g?ce._getLinePlayable(e,n,i):ce._getAreaPlayable(e,n,i);else if(n instanceof t.SimpleMarker||n instanceof de){if(n instanceof he&&!n.isSelected())continue;l=new t.AnimFadeIn(e.getCtx(),n,i-.8,.8)}l&&r.push(l)}},_animBubbleScatterFunnelPyramid:(e,i,r)=>{var s=e.getObjects(),a=s?s.length:0;if(a)for(var n,o,l=0;l<a;l++)(n=s[l].getDisplayables()[0])instanceof t.SimpleMarker?o=new t.AnimPopIn(e.getCtx(),n,!0,i):(n instanceof B||n instanceof N)&&(o=ce._getFunnelPyramidPlayable(e,n,i)),o&&r.push(o)},_getAreaPlayable:(e,i,r)=>{var s,a=e.getCtx(),n=i.getBaseline();if(i.isArea()){for(var o=i.getBaseCoords(),l=i.getBaseAnimParams(),h=l.slice(0),g=0;g<l.length;g++)g%4!=1&&g%4!=2||(l[g]=n);i.setBaseAnimParams(l),(s=new t.CustomAnimation(a,i,r)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getBaseAnimParams,i.setBaseAnimParams,h)}var d=i.getCoords(),u=i.getAnimParams(),c=u.slice(0);for(g=0;g<u.length;g++)g%4!=1&&g%4!=2||(u[g]=n);i.setAnimParams(u);var p=new t.CustomAnimation(a,i,r);p.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,c);var _=new t.ParallelPlayable(e.getCtx(),s,p);return _.setOnEnd(()=>{i.setCoords(d,o)}),_},_getFunnelPyramidPlayable:(e,i,r)=>{var s=e.getCtx(),a=i.getAnimParams(),n=a.slice(0),o=a.slice(0);a[0]=0,l.isFunnel(e)&&(a[2]=0,n[2]=0),i.setAnimParams(a);var h=new t.CustomAnimation(s,i,r/2);h.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,n);var g=new t.CustomAnimation(s,i,r/2);return g.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,o),new t.SequentialPlayable(s,[h,g])},_getLinePlayable:(e,i,r)=>{var s=i.getCoords(),a=i.getAnimParams(),n=a.slice(0);ce._getMeanPoints(a),i.setAnimParams(a);var o=new t.CustomAnimation(e.getCtx(),i,r);return o.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,n),o.setOnEnd(()=>{i.setCoords(s)}),o},_getMeanPoints:e=>{var t,i=0,r=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,a=e.length;for(t=0;t<a;t++){var n=e[t];t%4!=0&&t%4!=3&&n!=1/0&&(n<r&&(r=n),n>s&&(s=n),i+=n)}for(a>8?(i-=2*r,i-=2*s,i/=a/2-4):i/=a/2,t=0;t<a;t++)t%4!=1&&t%4!=2||(e[t]=i)}};class pe extends(i.DataAxisInfoMixin(x)){getMinLabel(){return this.ZeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this.LinearMinValue/this.MajorIncrement)*this.MajorIncrement:Math.ceil((this.LinearMinValue-this.LinearGlobalMin)/this.MajorIncrement)*this.MajorIncrement+this.LinearGlobalMin}getLabels(e,t){if(t&&t>0)return null;var i=this.getAllLabels(e),r=[],s=e.getStage();return"tangential"!=this.Position&&(r=this.GetLabelDims(i,s),i=this.SkipLabels(i,r)),i}getAllLabels(e,t){var r=[];if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var s=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new i.LinearScaleAxisValueFormatter(this.LinearMinValue,this.LinearMaxValue,this.MajorIncrement,this.Options.tickLabel.scaling,s,this.Options.translations)}for(var a=0;a<=this.MajorTickCount;a++){var n=a*this.MajorIncrement+this.getMinLabel();if(n-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;var o,l=this.GetUnboundedCoordAt(n);if(this.Options._skipHighestTick){if(n==this.LinearMaxValue)continue;if("tangential"!=this.Position&&Math.abs(l-this.MaxCoord)<this.getTickLabelHeight())continue}this.IsLog?(n=this.linearToActual(n),this._axisValueFormatter=new i.LinearScaleAxisValueFormatter(n,n,n,this.Options.tickLabel.scaling,s,this.Options.translations),o=this._formatValue(n)):o=this._formatValue(n),t?r.push(o):r.push(this.CreateLabel(e,o,l))}return r}getMajorTickCoords(){for(var e=[],t=0;t<=this.MajorTickCount;t++){var i=t*this.MajorIncrement+this.getMinLabel();if(i-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;if(!this.Options._skipHighestTick||i!=this.LinearMaxValue){var r=this.GetUnboundedCoordAt(i);e.push(r)}}return e}getMinorTickCoords(){for(var e=[],i=-1;i<=this.MajorTickCount;i++){var r=i*this.MajorIncrement+this.getMinLabel();if(this.IsLog&&1==this.MajorIncrement&&1==this.MinorIncrement)for(var s=2;s<=9;s++){var a=r+t.Math.log10(s);if(a>this.LinearMaxValue)break;a<this.LinearMinValue||(o=this.GetUnboundedCoordAt(a),e.push(o))}else for(s=1;s<this.MinorTickCount;s++){var n=r+s*this.MinorIncrement;if(n>this.LinearMaxValue)break;if(!(n<this.LinearMinValue)){var o=this.GetUnboundedCoordAt(n);e.push(o)}}}return e}_formatValue(e){if(this.Converter&&this.Converter.format)return this._axisValueFormatter?this._axisValueFormatter.format(e,this.Converter):this.Converter.format(e);if(this._axisValueFormatter)return this._axisValueFormatter.format(e);var i=t.Math.log10(this.MajorIncrement),r=Math.max(Math.ceil(-i),0);return e.toFixed(r)}getMajorTickCount(){return this.MajorTickCount}getMinorTickCount(){return this.MinorTickCount}getMajorIncrement(){return this.linearToActual(this.MajorIncrement)}getMinorIncrement(){return this.linearToActual(this.MinorIncrement)}getMinExtent(){return(this.LinearGlobalMax-this.LinearGlobalMin)/pe.MAX_ZOOM}getStartOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow}getEndOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow}alignLogScaleToTickCount(e,t){if(this.IsLog)for(var i=this.getMajorTickCount();t<i;)this.MajorIncrement=null,this.MajorTickCount=null,this.MinorIncrement=null,this.MinorTickCount=null,e++,this.CalcMajorMinorIncr(e),i=this.getMajorTickCount();return e}getLogScaleUnit(){return this.LogScaleUnit}}x.registerConstructor("data",pe),pe.MAX_ZOOM=64;class _e extends x{constructor(e,r,s){super(e,r,s),"top"==this.Position||"bottom"==this.Position?(r._isOverview||"on"!=r.tickLabel.rendered||(this.StartOverflow=Math.max(i.BaseAxisInfo.MIN_AXIS_BUFFER-r.leftBuffer,0),this.EndOverflow=Math.max(i.BaseAxisInfo.MIN_AXIS_BUFFER-r.rightBuffer,0)),t.Agent.isRightToLeft(e)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);var a=null!=r.tickLabel?r.tickLabel.converter:null;this._label1Converter=a&&a[0]?a[0]:a,this._label2Converter=a&&a[1]?a[1]:null,this._dateToIsoWithTimeZoneConverter=e.getLocaleHelpers().dateToIsoWithTimeZoneConverter,this._groups=r.groups;var n=r.timeAxisType;this._skipGaps="skipGaps"==n,this._mixedFrequency="mixedFrequency"==n,this.DataMin=r.dataMin,this.DataMax=r.dataMax,this._groups.length>1?this._averageInterval=(this.DataMax-this.DataMin)/(this._groups.length-1):this.DataMax-this.DataMin>0?this._averageInterval=this.DataMax-this.DataMin:this._averageInterval=6*_e.TIME_MINUTE,this._step=r.step;var o=r.endGroupOffset>0?r.endGroupOffset*this._averageInterval:0,l=r.startGroupOffset>0?r.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=r.min?r.min:this.DataMin-l,this.GlobalMax=null!=r.max?r.max:this.DataMax+o,null!=r.viewportStartGroup&&(this.MinValue=r.viewportStartGroup-l),null!=r.viewportEndGroup&&(this.MaxValue=r.viewportEndGroup+o),null!=r.viewportMin&&(this.MinValue=r.viewportMin),null!=r.viewportMax&&(this.MaxValue=r.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._timeRange=this.MaxValue-this.MinValue,this._level1Labels=null,this._level2Labels=null,this._level1Coords=null,this._level2Coords=null,this._isOneLevel=!0,this._level1Overflow=[],this._level2Overflow=[],this._locale=r._locale.toLowerCase(),this._monthResources=e.LocaleData.getMonthNames("abbreviated")}formatLabel(e){var t=new Date(e),i=this._formatAxisLabel(t,null,!0);return null!=i[1]?"YMD"==_e._getDMYOrder(this._locale)||this._timeRange<_e.TIME_MONTH_MIN&&this._step<_e.TIME_DAY?i[1]+" "+i[0]:i[0]+" "+i[1]:i[0]}_calculateGranularity(){return this._step>=_e.TIME_YEAR_MIN||this._timeRange>=6*_e.TIME_YEAR_MIN?_e.TIME_YEAR_MIN:this._step>=_e.TIME_MONTH_MIN||this._timeRange>=6*_e.TIME_MONTH_MIN?_e.TIME_MONTH_MIN:this._step>=_e.TIME_DAY||this._timeRange>=6*_e.TIME_DAY?_e.TIME_DAY:this._step>=_e.TIME_HOUR||this._timeRange>=6*_e.TIME_HOUR?_e.TIME_HOUR:this._step>=_e.TIME_MINUTE||this._timeRange>=6*_e.TIME_MINUTE?_e.TIME_MINUTE:_e.TIME_SECOND}_formatAxisLabelWithConverter(e,t,i){if(i){var r=null,s=null;if(i.format&&(r=i.format(this._dateToIsoWithTimeZoneConverter&&e?this._dateToIsoWithTimeZoneConverter(e):e),s=i.format(this._dateToIsoWithTimeZoneConverter&&t?this._dateToIsoWithTimeZoneConverter(t):t)),s!==r||null==r)return r;if(!i.resolvedOptions)return null;var a=this._calculateGranularity();return a===_e.TIME_MONTH_MIN&&t.getMonth()!==e.getMonth()&&null!=i.resolvedOptions().month||a===_e.TIME_DAY&&t.getDate()!==e.getDate()&&null!=i.resolvedOptions().day?r:null}}_formatAxisLabel(e,t,i){var r=null,s=null,a="left"==this.Position||"right"==this.Position,n=this._calculateGranularity();return this._label1Converter||this._label2Converter?(this._label1Converter&&(r=this._formatAxisLabelWithConverter(e,t,this._label1Converter)),this._label2Converter&&(s=this._formatAxisLabelWithConverter(e,t,this._label2Converter)),[r,s]):(n===_e.TIME_YEAR_MIN?r=this._formatDate(e,!1,!1,!0):n===_e.TIME_MONTH_MIN?(null!=t&&t.getMonth()==e.getMonth()||(r=this._formatDate(e,!1,!0,!1)),null!=t&&t.getYear()==e.getYear()||(s=this._formatDate(e,!1,!1,!0))):n===_e.TIME_DAY?i?r=this._formatDate(e,!0,!0,!0):(null!=t&&t.getDate()==e.getDate()||(r=this._formatDate(e,!0,!1,!1)),null==t||t.getYear()!=e.getYear()?s=this._formatDate(e,!1,!0,!0):t.getMonth()!=e.getMonth()&&(s=this._formatDate(e,!1,!0,!1))):(n===_e.TIME_HOUR?null!=t&&t.getHours()==e.getHours()||(r=this._formatTime(e,!1,!1)):n===_e.TIME_MINUTE?null!=t&&t.getMinutes()==e.getMinutes()||(r=this._formatTime(e,!0,!1)):null!=t&&t.getSeconds()==e.getSeconds()||(r=this._formatTime(e,!0,!0)),a?null!=t&&t.getDate()==e.getDate()||(s=this._formatDate(e,!0,!0,!1)):null==t||t.getYear()!=e.getYear()?s=this._formatDate(e,!0,!0,!0):t.getMonth()!=e.getMonth()?s=this._formatDate(e,!0,!0,!1):t.getDate()!=e.getDate()&&(s=this._formatDate(e,!0,!1,!1))),[r,s])}_formatDate(e,t,i,r){var s,a=e.getFullYear();s=this._monthResources&&this._monthResources.length>=12?this._monthResources[e.getMonth()]:e.toString().split(" ")[1];var n=e.getDate();a+=_e._getYearTrailingCharacters(this._locale),n+=_e._getDayTrailingCharacters(this._locale);for(var o=_e._getDMYOrder(this._locale),l="",h=0;h<o.length;h++)t&&"D"==o[h]?l+=n+" ":i&&"M"==o[h]?l+=s+" ":r&&"Y"==o[h]&&(l+=a+" ");return l.length>0?l.slice(0,l.length-1):l}_formatTime(e,i,r){var s,a=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),l=_e._getAMString(this._locale),h=_e._getPMString(this._locale),g=_e._getAMPMBefore(this._locale),d=""!=l&&""!=h,u="";return t.Agent.isRightToLeft(this.getCtx())&&(u=""),d?(a<12?(s=l,0==a&&(a=12)):(s=h,a>12&&(a-=12)),u+=a,(i||0!=n)&&(u+=":"+this._doubleDigit(n))):u+=this._doubleDigit(a)+":"+this._doubleDigit(n),r&&(u+=":"+this._doubleDigit(o)),d?g?s+" "+u:u+" "+s:u}_doubleDigit(e){return e<10?"0"+e:""+e}_getMixedFrequencyStep(){return this._timeRange>=6*_e.TIME_YEAR_MIN?_e.TIME_YEAR_MIN:this._timeRange>=6*_e.TIME_MONTH_MIN?_e.TIME_MONTH_MIN:this._timeRange>=6*_e.TIME_DAY?_e.TIME_DAY:this._timeRange>=_e.TIME_DAY?3*_e.TIME_HOUR:this._timeRange>=6*_e.TIME_HOUR?_e.TIME_HOUR:this._timeRange>=_e.TIME_HOUR?15*_e.TIME_MINUTE:this._timeRange>=30*_e.TIME_MINUTE?5*_e.TIME_MINUTE:this._timeRange>=6*_e.TIME_MINUTE?_e.TIME_MINUTE:this._timeRange>=_e.TIME_MINUTE?15*_e.TIME_SECOND:this._timeRange>=30*_e.TIME_SECOND?5*_e.TIME_SECOND:_e.TIME_SECOND}_generateLabels(e){var i=[],r=[],s=[],a=[],n=[],o=null,l=0,h=0,g=e.getStage(e),d=t.Agent.isRightToLeft(e),u="left"==this.Position||"right"==this.Position,c="off"!=this.Options.zoomAndScroll,p=!0,_=0;u&&"blink"===t.Agent.engine&&(_=.16*this.getTickLabelHeight());var m=[];if(null!=this._step)m=_e._getLabelPos(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),m=_e._getLabelPos(this.MinValue,this.MaxValue,this._step);else{for(var v=0;v<this._groups.length;v++)this._groups[v]>=this.MinValue&&this._groups[v]<=this.MaxValue&&m.push(this._groups[v]);if(this._step=this._averageInterval,!this._skipGaps){var f;if((m=_e._treatMissingValues(m,this._calculateGranularity())).length>1&&(this._step=(m[m.length-1]-m[0])/(m.length-1)),u)f=t.TextUtils.getTextStringHeight(e,this.Options.tickLabel.style);else{var y=this._formatAxisLabel(new Date(m[0]||this.MinValue))[0];f=t.TextUtils.getTextStringWidth(e,y,this.Options.tickLabel.style)}(f+this.GetTickLabelGapSize())*(m.length-1)>Math.abs(this._endCoord-this._startCoord)&&(this._step=this._getMixedFrequencyStep(),m=_e._getLabelPos(this.MinValue,this.MaxValue,this._step))}}0===m.length&&(m=[this.MinValue]);for(v=0;v<m.length;v++){var C=m[v],x=this.getCoordAt(C);if(null!=x){var S=new Date(C),b=this._formatAxisLabel(S,o),A=b[0],M=b[1];if(null!=A?(s.push({text:A,coord:null!=M?x+_:x}),a.push(x),l++):(s.push(null),a.push(null)),i.push(null),c&&p&&(x=this.MinValue?this.getCoordAt(this.MinValue):x),p=!1,null!=M){var T=this.CreateLabel(e,M,x-_);n.push(x),u||(d?T.alignRight():T.alignLeft()),r.push(T),this._isOneLevel=!1,h++}else r.push(null),n.push(null);o=S}}if(l=this._skipLabelsUniform(s,i,g,!1,d),!c&&h>1&&l<1.5*h){i=r,r=null;for(var w=0;w<i.length;w++)null!=i[w]&&i[w].alignCenter();l=this._skipLabelsGreedy(i,this.GetLabelDims(i,g),!1,d)}else 0==(h=this._skipLabelsGreedy(r,this.GetLabelDims(r,g),!0,d))&&(r=null);u&&null!=r&&this._skipVertLabels(i,r,g),this._level1Labels=i,this._level2Labels=r,this._level1Coords=a,this._level2Coords=n}_getLabelOverflow(e,t,i,r){var s=e-(i?r?t:0:.5*t);if(s<this.Options._minOverflowCoord)return Math.floor(s-this.Options._minOverflowCoord);var a=e+(i?r?0:t:.5*t);return a>this.Options._maxOverflowCoord?Math.ceil(a-this.Options._maxOverflowCoord):0}_skipLabelsGreedy(e,t,i,r){if(!t||t.length<=0)return!1;for(var s,a,n,o,l,h="left"==this.Position||"right"==this.Position,g=this.getTickLabelHeight(),d=h?.08*g:.24*g,u=0,c=Math.abs(this._endCoord-this._startCoord),p=0;p<t.length;p++)if(this._level2Overflow.push(0),null!=e[p]){var _=(l=e[p]).getDimensions().w;if(t[p].w>c)e[p]=null;else{var m=this._getLabelOverflow(l.getX(),_,i,r);this._level2Overflow[p]=m,0!=m&&(l.setX(l.getX()-m),t[p].x-=m)}}for(p=0;p<t.length;p++)null!=t[p]&&(h?(n=t[p].y,o=t[p].y+t[p].h):(n=t[p].x,o=t[p].x+t[p].w),null!=s&&null!=a&&_e._isOverlapping(s,a,n,o,d)&&(e[p]=null),null!=e[p]&&(s=n,a=o,u++));return u}_skipLabelsUniform(e,t,i,r){for(var s=[],a=[],n=Math.abs(this._endCoord-this._startCoord),o=0;o<e.length;o++)null!=e[o]&&(s.push(e[o]),a.push(null),this._level1Overflow.push(0));for(var l="left"==this.Position||"right"==this.Position,h=this,g=e=>{if(null==a[e])if(s[e].label=h.CreateLabel(i.getCtx(),s[e].text,s[e].coord),a[e]=s[e].label.getDimensions(i),a[e].w>n)s[e].label=null,a[e].w=0,a[e].h=0;else{var t=h._getLabelOverflow(s[e].coord,a[e].w,!1,r);0!=t&&(s[e].coord-=t,a[e].x-=t,s[e].label.setX(s[e].label.getX()-t),h._level1Overflow[e]=t)}return l?a[e].h:a[e].w},d=(g(0)+this.GetTickLabelGapSize())*(s.length-1),u=n>0?Math.ceil(d/n)-1:0,c=!0;c;){for(o=0;o<s.length;o++)o%(u+1)==0?(g(o),s[o].skipped=!1):s[o].skipped=!0;c=this.IsOverlapping(a,u),u++}var p=0;for(o=0;o<e.length;o++)null==e[o]||e[o].skipped||(t[o]=e[o].label,p++);return p}_skipVertLabels(e,t,i){for(var r=.08*this.getTickLabelHeight(),s=(e,t)=>_e._isOverlapping(e.y,e.y+e.h,t.y,t.y+t.h,r),a=null,n=!1,o=0;o<e.length;o++)if(e[o]&&t[o]){if(e[o].alignTop(),t[o].alignBottom(),a&&s(a,t[o].getDimensions())){n=!0;break}a=e[o].getDimensions()}else if(e[o]||t[o]){var l=e[o]?e[o]:t[o];if(a&&s(a,l.getDimensions())){n=!0;break}a=l.getDimensions()}if(n){var h,g=null,d=null,u=null;for(o=0;o<e.length;o++)t[o]?(e[o]=null,t[o].alignMiddle(),h=t[o].getDimensions(),d&&s(d,h)&&(e[g]=null),u=h):e[o]&&(h=e[o].getDimensions(),u&&s(u,h)?e[o]=null:(d=h,g=o))}}getLabels(e,t){return t&&t>1?null:(this._level1Labels||this._generateLabels(e),1==t?this._level2Labels:this._level1Labels)}getMajorTickCoords(){var e=[];if(this._isOneLevel)for(var t=0;t<this._level1Coords.length;t++)null!=this._level1Coords[t]&&null!=this._level1Labels[t]&&e.push(this._level1Coords[t]);else for(t=1;t<this._level2Coords.length;t++)null!=this._level2Coords[t]&&e.push(this._level2Coords[t]);return e}getMinorTickCoords(){if(this._isOneLevel)return[];for(var e=[],t=0;t<this._level1Coords.length;t++)null!=this._level1Coords[t]&&null!=this._level1Labels[t]&&e.push(this._level1Coords[t]);return e}getUnboundedValAt(e){if(null==e)return null;var t=(e-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);return this._indexToTime(i+t*(r-i))}return this.MinValue+t*(this.MaxValue-this.MinValue)}getUnboundedCoordAt(e){if(null==e)return null;var t;if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);t=(this._timeToIndex(e)-i)/(r-i)}else t=(e-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+t*(this._endCoord-this._startCoord)}linearToActual(e){return null==e?null:this._skipGaps?this._indexToTime(e):e}actualToLinear(e){return null==e?null:this._skipGaps?this._timeToIndex(e):e}_timeToIndex(e){for(var t=this._groups.length,i=0;i<this._groups.length;i++)if(e<=this._groups[i]){t=i;break}var r=t-1,s=void 0!==this._groups[r]?this._groups[r]:this._groups[0]-this._averageInterval;return r+(e-s)/((void 0!==this._groups[t]?this._groups[t]:this._groups[this._groups.length-1]+this._averageInterval)-s)}_indexToTime(e){var t=Math.min(Math.max(Math.ceil(e),0),this._groups.length),i=t-1,r=void 0!==this._groups[i]?this._groups[i]:this._groups[0]-this._averageInterval;return r+(e-i)*((void 0!==this._groups[t]?this._groups[t]:this._groups[this._groups.length-1]+this._averageInterval)-r)}getGroupWidth(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))}getMinExtent(){return this._skipGaps?1:this._mixedFrequency?Math.min((this.getGlobalMax()-this.getGlobalMin())/8,this._averageInterval):this._averageInterval}getStartOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow}getEndOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow}static _getAMString(e){var t=e.substring(0,2);if("en-au"==e||"en-ie"==e||"en-ph"==e)return"am";if("en-gb"==e)return"";switch(t){case"en":return"AM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}}static _getPMString(e){var t=e.substring(0,2);if("en-au"==e||"en-ie"==e||"en-ph"==e)return"pm";if("en-gb"==e)return"";switch(t){case"en":return"PM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}}static _getAMPMBefore(e){var t=e.substring(0,2);return"ko"==t||"zh"==t}static _getDMYOrder(e){var t=e.substring(0,2);return"en-us"==e||"en-ph"==e?"MDY":"fa"==t||"hu"==t||"ja"==t||"ko"==t||"lt"==t||"mn"==t||"zh"==t?"YMD":"DMY"}static _getYearTrailingCharacters(e){return 0==e.indexOf("ja")||0==e.indexOf("zh")?"":0==e.indexOf("ko")?"":""}static _getDayTrailingCharacters(e){return 0==e.indexOf("ja")||0==e.indexOf("zh")?"":0==e.indexOf("ko")?"":""}static _getLabelPos(e,t,i){var r=new Date(e),s=r.getTimezoneOffset();r.setMonth(0,1),r.setHours(0,0,0,0);var a=r.getTime(),n=[];if(i>=_e.TIME_YEAR_MIN&&i<=_e.TIME_YEAR_MAX){for(;a<e;)a=_e._addOneYear(a);for(;a<=t;)n.push(a),a=_e._addOneYear(a)}else if(i>=_e.TIME_MONTH_MIN&&i<=_e.TIME_MONTH_MAX){for(;a<e;)a=_e._addOneMonth(a);for(;a<=t;)n.push(a),a=_e._addOneMonth(a)}else{var o=60*(s-r.getTimezoneOffset())*1e3,l=i<_e.TIME_MONTH_MIN?o:0;for(a+=Math.ceil((e-a-l)/i)*i+l;a<=t;)n.push(a),a+=i}return n}static _addOneYear(e){var t=new Date(e);return t.setFullYear(t.getFullYear()+1),t.getTime()}static _addOneMonth(e){var t=new Date(e);return t.setMonth(t.getMonth()+1),t.getTime()}static _getGCDInterval(e){for(var t=(e,i)=>0===e?i:t(i%e,e),i=e[0],r=1;r<e.length;r++)if(1===(i=t(i,e[r])))return 1;return i}static _calculateGranularInterval(e,t,i){var r,s=e.getTimezoneOffset(),a=t.getTimezoneOffset(),n=t.getTime(),o=1e3*(s-a)*60;return o>0&&t.setTime(n+o),r=i===_e.TIME_YEAR_MIN?t.getFullYear()-e.getFullYear():i===_e.TIME_MONTH_MIN?12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()):Math.round((t.getTime()-e.getTime())/i),o>0&&t.setTime(n),r}static _treatMissingValues(e,t){var i,r,s=new Set,a=!1,n=e,o=[],l=e.length,h=new Date(e[0]);for(r=1;r<l;r++){var g=new Date(e[r]),d=_e._calculateGranularInterval(h,g,t);h=g,o.push(d),d<=0||(s.add(d),i?d!==i&&(a=!0):i=d)}if(a){var u=_e._getGCDInterval([...s]);for((n=[]).push(e[0]),r=1;r<l;r++){var c=e[r],p=e[r-1];if((d=o[r-1])<=u)n.push(c);else{var _,m=d/u,v=m-1,f=Math.round((c-p)/m);for(_=1;_<=v;_++)p+=f,n.push(p);n.push(c),p=c}}}return n}static _isOverlapping(e,t,i,r,s){return i>=e&&i-s<t||i<e&&r+s>e}}_e.TIME_SECOND=1e3,_e.TIME_MINUTE=60*_e.TIME_SECOND,_e.TIME_HOUR=60*_e.TIME_MINUTE,_e.TIME_DAY=24*_e.TIME_HOUR,_e.TIME_MONTH_MIN=28*_e.TIME_DAY,_e.TIME_MONTH_MAX=31*_e.TIME_DAY,_e.TIME_YEAR_MIN=365*_e.TIME_DAY,_e.TIME_YEAR_MAX=366*_e.TIME_DAY,x.registerConstructor("time",_e);const me={renderBackgroundObjects:(e,t,i)=>{me._renderObjects(e,t,i,"back")},renderForegroundObjects:(e,t,i)=>{me._renderObjects(e,t,i,"front")},_renderObjects:(e,t,i,r)=>{me._renderObjectsForAxis(e,t,i,r,e.xAxis,d.getAxisRefObjs(e,"x")),me._renderObjectsForAxis(e,t,i,r,e.yAxis,d.getAxisRefObjs(e,"y")),me._renderObjectsForAxis(e,t,i,r,e.y2Axis,d.getAxisRefObjs(e,"y2"))},_renderObjectsForAxis:(e,t,i,r,s,a)=>{if(a&&s)for(var n=0;n<a.length;n++){var o=a[n];if(m.isObjRendered(e,o)&&(o&&m.getLocation(o)==r)){var l,h,g=m.getType(o);if("area"==g?l=me._createReferenceArea(o,e,i,s):"line"==g&&(l=me._createReferenceLine(o,e,i,s),h=me._createReferenceLine(o,e,i,s,!0)),null!=l){var d=s==e.yAxis?"yAxis":"y2Axis",u=s==e.xAxis?"xAxis":d,c=new y(e,h?[l,h]:[l],o,n,u);e.registerObject(c),e.getEventManager().associate(l,c),t.addChild(l),h&&t.addChild(h)}}}},_createReferenceArea:(e,i,r,s)=>{var a,n=i.getCtx(),o=s.getPosition(),g="top"==o||"bottom"==o,u="radial"==o,c=m.getColor(i,e),p=m.getLineType(e),_=e.style||e.svgStyle,v=e.className||e.svgClassName;if(null==e.items||s!=i.yAxis&&s!=i.y2Axis){var f=m.getLowVal(e),y=m.getHighVal(e);null!=f&&f!=-1/0||(f=s.getInfo().getGlobalMin()),null!=y&&y!=1/0||(y=s.getInfo().getGlobalMax());var C=me._getAxisCoord(i,s,f),x=me._getAxisCoord(i,s,y);if(l.isPolar(i)){var S,b=r.x+r.w/2,A=r.y+r.h/2;if(u)if(L.isGridPolygonal(i)){var M=d.getGroupCount(i),T=t.PolygonUtils.getRegularPolygonPoints(b,A,M,x,0,1),w=t.PolygonUtils.getRegularPolygonPoints(b,A,M,C,0,0);S=t.PathUtils.polyline(T)+t.PathUtils.polyline(w)+t.PathUtils.closePath()}else S=t.PathUtils.moveTo(b,A-x)+t.PathUtils.arcTo(x,x,Math.PI,1,b,A+x)+t.PathUtils.arcTo(x,x,Math.PI,1,b,A-x)+t.PathUtils.moveTo(b,A-C)+t.PathUtils.arcTo(C,C,Math.PI,0,b,A+C)+t.PathUtils.arcTo(C,C,Math.PI,0,b,A-C)+t.PathUtils.closePath();else{var D=i.getRadius(),O=h.polarToCartesian(D,C,r),P=h.polarToCartesian(D,x,r);S=t.PathUtils.moveTo(b,A)+t.PathUtils.lineTo(O.x,O.y)+t.PathUtils.arcTo(D,D,x-C,t.Agent.isRightToLeft(n)?0:1,P.x,P.y)+t.PathUtils.lineTo(P.x,P.y)+t.PathUtils.closePath()}a=new t.Path(n,S)}else{var E;E=g?[C,0,x,0,x,r.h,C,r.h]:[0,C,0,x,r.w,x,r.w,C],a=new t.Polygon(n,E)}a.setSolidFill(c),a.setStyle(_).setClassName(v)}else{var I=e.items,R=[],k=[];if(i.xAxis.isGroupAxis())for(;I.length<d.getGroupCount(i);)I.push(null);for(var B=0;B<I.length;B++){var F=I[B],H=m.getLowVal(F),N=m.getHighVal(F);if(null!=H&&null!=N){var G=s.getUnboundedCoordAt(H),j=s.getUnboundedCoordAt(N),V=i.xAxis.getUnboundedCoordAt(m.getXVal(i,I,B));R.push(new oe(V,j,j)),k.push(new oe(V,G,G))}else R.push(new oe),k.push(new oe)}a=new le(i,!0,r,null,_,v,new t.SolidFill(c),null,p,R,p,k)}return a},_createReferenceLine:(e,i,r,s,a)=>{var n,o=s.getPosition(),l="top"==o||"bottom"==o,g="radial"==o,u="tangential"==o,c=m.getLineWidth(i,e),p=m.getLineType(e),_=m.getColor(i,e),v=e.style||e.svgStyle,f=a?"oj-chart-reference-object-inner-line":e.className||e.svgClassName,y=new t.Stroke(_,1,c,!1,t.Stroke.getDefaultDashProps(e.lineStyle,c)),C=i.getCtx();if(null==e.items||s!=i.yAxis&&s!=i.y2Axis){if(null==e.value)return null;var x=me._getAxisCoord(i,s,e.value);if(null==x||x==1/0||x==-1/0)return null;a&&(x-=Math.ceil(c/2));var S=r.x+r.w/2,b=r.y+r.h/2;if(g){if(L.isGridPolygonal(i)){var A=t.PolygonUtils.getRegularPolygonPoints(S,b,d.getGroupCount(i),x,0);n=new t.Polygon(C,A)}else n=new t.Circle(C,S,b,x);n.setFill(null)}else if(u){var M=h.polarToCartesian(i.getRadius(),x,r);n=new t.Line(C,S,b,M.x,M.y)}else(n=l?new t.Line(C,x,0,x,r.h):new t.Line(C,0,x,r.w,x)).setPixelHinting(!0);n.setStroke(y),n.setStyle(v).setClassName(f)}else{var T=e.items;if(i.xAxis.isGroupAxis())for(;T.length<d.getGroupCount(i);)T.push(null);for(var w=[],D=0;D<T.length;D++){var O=T[D],P=null;if(null!=O&&("object"!=typeof O?P=O:null!=O.value&&(P=O.value)),null!=P){var E=s.getUnboundedCoordAt(P)-(a?c/2:0),I=i.xAxis.getUnboundedCoordAt(m.getXVal(i,T,D));w.push(new oe(I,E,E))}else w.push(new oe)}n=new le(i,!1,r,null,v,f,null,y,p,w)}return n},_getAxisCoord:(e,t,i)=>{if(t.isGroupAxis()){var r=d.getGroupIdx(e,i);if(r>=0)return t.getUnboundedCoordAt(r)}return isNaN(i)?null:t.getUnboundedCoordAt(i)}},ve={_MIN_BUBBLE_SIZE:6,_MAX_BUBBLE_SIZE_RATIO:.5,calcBubbleSizes:(e,i)=>{for(var r,s,a=L.getMinMaxVal(e,"z"),n=a.min,o=a.max,h=ve._MIN_BUBBLE_SIZE,g=ve._MAX_BUBBLE_SIZE_RATIO*Math.min(i.w,i.h),u=d.getSeriesCount(e),c="withoutRescale"==O.getHideAndShowBehavior(e),p=e.getOptionsCache(),_=0;_<u;_++)if(c||d.isSeriesRendered(e,_))for(var m=d.getSeriesItem(e,_),v=m.items?m.items.length:0,f=0;f<v;f++){var y=m.items[f];if(y){var C=t.LayoutUtils.getBubbleSize(y.z,n,o,h,g);p.putToCachedMap2D("bubbleSizeCache",_,f,C)}}l.isPolar(e)?(r=1/0,s=e.getRadius()):(r=i.w-2.4*L.getTickLabelHeight(e,"y"),s=i.h-1.6*L.getTickLabelHeight(e,"x")),r-=.5*g,s-=.5*g;var x=e.getCache(),S=ve._getAxisValueRange(e,"x");x.putToCache("_xAxisBubbleRatio",S/r);var b=ve._getAxisValueRange(e,"y");x.putToCache("_yAxisBubbleRatio",b/s)},_getAxisValueRange:(e,i)=>{var r=e.getOptions()[i+"Axis"],s=L.isLog(e,i),a=!s&&"zero"==L.getBaselineScaling(e,i),n=L.getMinMaxVal(e,i,!0),o=r.min;null==o&&(o=a?Math.min(0,n.min):n.min);var l=r.max;return null==l&&(l=a?Math.max(0,n.max):n.max),s&&l>0&&o>0?l==o?6:t.Math.log10(l/o):l==o?60:l-o},sortMarkers:e=>{e.sort(ve._compareSize)},sortMarkerInfos:e=>{e.sort(ve._compareInfoSize)},_compareSize:(e,t)=>t.getSize()-e.getSize(),_compareInfoSize:(e,t)=>t.size-e.size,checkPixelMap:(e,t,i,r)=>{var s=r/2,a=Math.max(Math.floor(t-s),0),n=Math.max(Math.floor(i-s),0),o=Math.max(Math.ceil(t+s),0),l=Math.max(Math.ceil(i+s),0);return e.isObscured(a,n,o,l)},updatePixelMap:(e,t,i,r,s)=>{var a=.4*r,n=Math.max(Math.round(t-a),0),o=Math.max(Math.round(t+a),0),l=Math.max(Math.round(i-a),0),h=Math.max(Math.round(i+a),0);e.obscure(n,l,o,h,s)}},fe={_MIN_TOUCH_MARKER_SIZE:16,_MIN_CHARS_DATA_LABEL:3,FILTER_THRESHOLD_SCATTER_BUBBLE:1e4,render:(e,t,i)=>{"off"==e.getOptions().plotArea.rendered?fe._renderAxisLines(e,t,i):i.w>0&&i.h>0&&(e._currentMarkers=[],e._currentAreas=[],fe._renderBackgroundObjs(e,t,i),fe._renderTicks(e,t,i),fe._renderForegroundObjs(e,t,i))},_renderBackgroundObjs:(e,i,r)=>{var s=e.getOptions(),a=fe._getBackgroundShape(e,r),n=p.getBackgroundColor(e);if(n?a.setSolidFill(n):a.setInvisibleFill(),i.addChild(a),e.getCache().putToCache("plotAreaBackground",a),O.isPlotAreaDraggable(e)&&a.setClassName("oj-draggable"),s.xAxis.referenceObjects||s.yAxis.referenceObjects||s.y2Axis.referenceObjects){var o=fe.createClippedGroup(e,i,r);me.renderBackgroundObjects(e,o,r)}if(l.isBLAC(e)){var h=new t.Container(e.getCtx());i.addChild(h),e.__setAreaContainer(h);const a=s.comboSeriesOrder;!d.hasAreaSeries(e)||"seriesType"!==a&&l.isCombo(e)||fe._renderAreas(e,h,r,!1)}},_getBackgroundShape:(e,i)=>{var r,s=e.getCtx();if(l.isPolar(e)){var a=i.x+i.w/2,n=i.y+i.h/2;if(L.isGridPolygonal(e)){var o=t.PolygonUtils.getRegularPolygonPoints(a,n,d.getGroupCount(e),e.getRadius(),0);r=new t.Polygon(s,o)}else r=new t.Circle(s,a,n,e.getRadius())}else r=new t.Rect(s,i.x,i.y,i.w,i.h);return r},_renderTicks:(e,t,i)=>{e.xAxis&&L.isMinorTickRendered(e,"x")&&fe._renderMinorTicks(e,t,e.xAxis,i),e.yAxis&&L.isMinorTickRendered(e,"y")&&fe._renderMinorTicks(e,t,e.yAxis,i),e.y2Axis&&L.isMinorTickRendered(e,"y2")&&fe._renderMinorTicks(e,t,e.y2Axis,i),e.xAxis&&L.isMajorTickRendered(e,"x")&&fe._renderMajorTicks(e,t,e.xAxis,i),e.yAxis&&L.isMajorTickRendered(e,"y")&&fe._renderMajorTicks(e,t,e.yAxis,i),e.y2Axis&&L.isMajorTickRendered(e,"y2")&&fe._renderMajorTicks(e,t,e.y2Axis,i)},_renderAxisLines:(e,t,i)=>{e.xAxis&&e.yAxis&&L.isAxisLineRendered(e,"x")&&fe._renderAxisLine(e,t,e.xAxis,e.yAxis,i),e.xAxis&&e.y2Axis&&L.isAxisLineRendered(e,"x")&&(e.yAxis&&!d.isSplitDualY(e)||fe._renderAxisLine(e,t,e.xAxis,e.y2Axis,i)),e.yAxis&&e.xAxis&&L.isAxisLineRendered(e,"y")&&fe._renderAxisLine(e,t,e.yAxis,e.xAxis,i),e.y2Axis&&e.xAxis&&L.isAxisLineRendered(e,"y2")&&fe._renderAxisLine(e,t,e.y2Axis,e.xAxis,i)},_renderMajorTicks:(e,t,i,r)=>{fe._renderGridlines(e,t,i.getOptions().majorTick,i.getPosition(),i.getMajorTickCoords(),i.getBaselineCoord(),r)},_renderMinorTicks:(e,t,i,r)=>{fe._renderGridlines(e,t,i.getOptions().minorTick,i.getPosition(),i.getMinorTickCoords(),null,r)},_renderAxisLine:(e,t,i,r,s)=>{var a=i.getOptions(),n=a.position,o="bottom"==n||"right"==n||"tangential"==n?r.getMaxCoord():r.getMinCoord();fe._renderGridlines(e,t,a.axisLine,r.getPosition(),[o],null,s)},_renderGridlines:(e,i,r,s,a,n,o)=>{var l=r.lineColor,h=r.lineStyle,g=new t.Stroke(l,1,r.lineWidth,!1,t.Stroke.getDefaultDashProps(h,r.lineWidth)),d=g.getColor();"inherit"!=r.baselineColor&&(d="auto"==r.baselineColor?t.ColorUtils.getDarker(l,.6):r.baselineColor);for(var u=null!=r.baselineWidth?r.baselineWidth:r.lineWidth,c=r.baselineStyle?r.baselineStyle:r.lineStyle,p=new t.Stroke(d,1,u,!1,t.Stroke.getDefaultDashProps(c,u)),_="",m=0;m<a.length;m++){var v=null!=n&&a[m]==n;"radial"==s||"tangential"==s||v?fe._renderGridline(e,i,s,a[m],v?p:g,o):_+="top"==s||"bottom"==s?t.PathUtils.moveTo(a[m],o.y)+t.PathUtils.verticalLineTo(o.y+o.h):t.PathUtils.moveTo(o.x,a[m])+t.PathUtils.horizontalLineTo(o.x+o.w)}if(""!=_){var f=new t.Path(e.getCtx(),_);(!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1)&&f.setPixelHinting(!0),f.setStroke(g),f.setMouseEnabled(!1),i.addChild(f)}},_renderGridline:(e,i,r,s,a,n)=>{var o,l=i.getCtx(),h=!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1;if("radial"==r){if(L.isGridPolygonal(e)){var g=t.PolygonUtils.getRegularPolygonPoints(0,0,d.getGroupCount(e),s,0);o=new t.Polygon(l,g)}else o=new t.Circle(l,0,0,s);o.setInvisibleFill(),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else if("tangential"==r){o=new t.Line(l,0,0,e.getRadius()*Math.sin(s),-e.getRadius()*Math.cos(s));var u=s%(Math.PI/2);(u<.001||u>Math.PI/2-.001)&&h&&o.setPixelHinting(!0),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else o="top"==r||"bottom"==r?new t.Line(l,s,n.y,s,n.y+n.h):new t.Line(l,n.x,s,n.x+n.w,s),h&&o.setPixelHinting(!0);o.setStroke(a),o.setMouseEnabled(!1),i.addChild(o)},_renderForegroundObjs:(e,t,i)=>{var r=e.getOptions();const s="data"===r.comboSeriesOrder&&l.isCombo(e);var a=s?null:fe.createClippedGroup(e,t,i);fe._renderAxisLines(e,t,i);var n=r.plotArea.borderColor,o=r.plotArea.borderWidth;if(n&&0!=o){var h=fe._getBackgroundShape(e,i);h.setInvisibleFill(),h.setSolidStroke(n,null,o),h.setMouseEnabled(!1),t.addChild(h)}if(l.isBLAC(e)){const n=r.series.length;if(s)for(let r=n-1;r>=0;r--){const s=d.getSeriesType(e,r);"area"!==s&&"lineWithArea"!==s&&(a=fe.createClippedGroup(e,t,i)),"area"===s?fe._renderAreas(e,t,i,!1,r):"lineWithArea"===s?fe._renderAreas(e,t,i,!0,r):"bar"===s?fe._renderBars(e,a,i,r):"stock"===s?fe._renderStock(e,a,r):"boxPlot"===s?fe._renderBoxPlot(e,a,i,r):"line"===s&&fe._renderLines(e,t,a,i,r)}else d.hasLineWithAreaSeries(e)&&fe._renderAreas(e,t,i,!0),d.hasBarSeries(e)&&fe._renderBars(e,a,i),d.hasCandlestickSeries(e)&&fe._renderStock(e,a),d.hasBoxPlotSeries(e)&&fe._renderBoxPlot(e,a,i),d.hasLineSeries(e)&&fe._renderLines(e,t,a,i)}else l.isScatterBubble(e)&&fe._renderScatterBubble(e,t,a,!0,i);(r.xAxis.referenceObjects||r.yAxis.referenceObjects||r.y2Axis.referenceObjects)&&(a=fe.createClippedGroup(e,t,i),me.renderForegroundObjects(e,a,i));var g=d.getInitialSelection(e);F.setInitialSelection(e,g),e.highlight(d.getHighlightedCategories(e))},_renderDataLabel:(e,i,r,s,a,n,o,h,g,u)=>{if(l.isOverview(e))return;var c="bar"==d.getSeriesType(e,s);const _=p.supportsLabelOutline(e,s);var m=l.isHorizontal(e),v={width:m?r.w:u,height:m?u:r.h},f=e.getOptions(),y=f.styleDefaults,C=null!=e.y2Axis,x="on"===f.legend.rendered;c&&e.getOptionsCache().putToCachedMap2D("barDims",s,a,v);var S=p.getDataLabel(e,s,a,n,h,g);if(null!=S){var b=R.getDataLabelPos(e,s,a,n,h,g);if("none"!=b){var A=new t.OutputText(e.getCtx(),S,0,0);A.setMouseEnabled(!1);var M=g?y.stackLabelStyle:p.getDataLabelStyle(e,s,a,n,o,b,h);A.setCSSStyle(M),_&&A.addClassName("oj-chart-data-label-contrast"),A.setY(r.y+r.h/2),A.setX(r.x+r.w/2),A.alignCenter(),A.alignMiddle();var T=A.getDimensions(),w=e.getCache().getFromCache("plotAreaDims");w||(w=e.getPlotArea().getDimensions(),e.getCache().putToCache("plotAreaDims",w));var D=(e,t,i,r)=>{var s={x:null,y:null},a=r&&r.xAxis&&("left"==e||"right"==e),n=r&&r.top&&("left"==e||"right"==e),o=r&&((C||!x)&&r.y2Axis||r.legend)&&("top"==e||"bottom"==e),l=r&&r.yAxis&&("top"==e||"bottom"==e);"left"==e?s.x=t.x-i.w/2-p.MARKER_DATA_LABEL_GAP:"right"==e?s.x=t.x+t.w+i.w/2+p.MARKER_DATA_LABEL_GAP:"top"==e?s.y=t.y-i.h/2:"bottom"==e&&(s.y=t.y+t.h+i.h/2+p.MARKER_DATA_LABEL_GAP/2);var h=2*p.MARKER_DATA_LABEL_GAP;return o?s.x=w.x+w.w-i.w/2-h:l?s.x=i.w/2+h:a?s.y=w.y+w.h-i.h/2-h:n&&(s.y=i.h/2+h),s},O=y.dataLabelCollision,P=D(b,r,T);if("fitInBounds"===O){var E=p.getDataLabelCollisions(e,P,T,w,m),I=p.adjustDataLabelPos(b,E,C);I!=b&&l.isBubble(e)&&(M=g?y.stackLabelStyle:p.getDataLabelStyle(e,s,a,n,o,I,h),A.setCSSStyle(M)),P=D(b=I,r,T,E)}if(null!=P.x||null!=P.y)null!=P.x&&A.setX(P.x),null!=P.y&&A.setY(P.y);else{if(c){if(T.w>v.width||T.h>v.height)return;"inLeft"==b?A.setX(r.x+T.w/2+p.MARKER_DATA_LABEL_GAP):"inRight"==b?A.setX(r.x+r.w-T.w/2-p.MARKER_DATA_LABEL_GAP):"inTop"==b?A.setY(r.y+T.h/2+p.MARKER_DATA_LABEL_GAP):"inBottom"==b&&A.setY(r.y+r.h-T.h/2-p.MARKER_DATA_LABEL_GAP/2)}else if(l.isBubble(e)){r.x+=p.MARKER_DATA_LABEL_GAP,r.y+=p.MARKER_DATA_LABEL_GAP,r.h-=2*p.MARKER_DATA_LABEL_GAP,r.w-=2*p.MARKER_DATA_LABEL_GAP;var L=t.TextUtils.getOptimalFontSize(A.getCtx(),A.getTextString(),A.getCSSStyle(),r);if(A.setFontSize(L),!t.TextUtils.fitText(A,r.w,r.h,i,fe._MIN_CHARS_DATA_LABEL))return}null!=p.getPattern(e,s,a)&&!_&&fe._addLabelContrastBackground(e,i,A)}if(l.isBar(e)){var k,B=A.getDimensions(),F=!1;if("left"==b&&B.x<0)F=!0,k=r.x-p.MARKER_DATA_LABEL_GAP;else if("right"==b&&B.x+B.w>w.w+p.MARKER_DATA_LABEL_GAP)F=!0,k=w.w-r.w-p.MARKER_DATA_LABEL_GAP;else{if("top"==b&&B.y<0)return;if("bottom"==b&&B.y+B.h>w.y+w.h+p.MARKER_DATA_LABEL_GAP)return}if(F){if(!isNaN(S))return;if(!t.TextUtils.fitText(A,k,r.h,i,1))return;T=A.getDimensions(),"left"==b?A.setX(r.x-T.w/2-p.MARKER_DATA_LABEL_GAP):"right"==b&&A.setX(r.x+r.w+T.w/2+p.MARKER_DATA_LABEL_GAP)}}p.optimizeMarkerStroke(e)&&A.setSolidStroke("none"),i.addChild(A),e.addDataLabel(A)}}},_renderDataLabelForMarker:(e,i,r)=>{var s=e.getEventManager().getLogicalObject(r);if(s){var a=s.getSeriesIndex(),n=s.getGroupIndex(),o=s.getNestedDataItemIndex();if(r instanceof t.SimpleMarker){var l=new t.Rectangle(r.getCx()-r.getWidth()/2,r.getCy()-r.getHeight()/2,r.getWidth(),r.getHeight());fe._renderDataLabel(e,i,l,a,n,o,r.getDataColor())}else r instanceof de&&(fe._renderDataLabel(e,i,r.getBoundingBox1(),a,n,o,r.getDataColor(),"low"),fe._renderDataLabel(e,i,r.getBoundingBox2(),a,n,o,r.getDataColor(),"high"))}},_renderScatterBubble:(e,i,r,s,a)=>{var n,o=fe._filterScatterBubble(e,s),h=d.getSeriesCount(e);for(n=0;n<h;n++)"none"!=p.getLineType(e,n)&&fe._renderLinesForSeries(e,r,n,a);var g=p.getMarkerBorderColor(e),u=p.getBorderWidth(e),c=new t.Stroke(g,1,u),_=[];if(o)for(var m=p.optimizeMarkerStroke(e),v=m?c.getColor():null,f=m?c.getWidth():null,y=0;y<o.length;y++){var C=o[y],x=fe._createMarker(e,C,v,f);_.push(x)}else{for(n=0;n<h;n++){var S=fe._getMarkersForSeries(e,n,a,c);_=_.concat(S)}s&&ve.sortMarkers(_)}l.isBubble(e)?fe._addMarkersToContainer(e,r,_,c):fe._addMarkersToContainer(e,i,_,c)},_renderMarkersForSeries:(e,i,r,s)=>{var a,n=p.getMarkerBorderColor(e,r),o=p.getBorderWidth(e,r),l=new t.Stroke(n,1,o);a=d.isRangeSeries(e,r)?fe._getRangeMarkersForSeries(e,r,s):fe._getMarkersForSeries(e,r,s,l),fe._addMarkersToContainer(e,i,a,l)},_addLabelContrastBackground:(e,i,r)=>{var s=r.getDimensions(),a=.15*s.h,n=t.PathUtils.roundedRectangle(s.x-a,s.y,s.w+2*a,s.h,2,2,2,2),o=new t.Path(e.getCtx(),n);o.setSolidFill("#FFFFFF",.9),i.addChild(o)},_addMarkersToContainer:(e,i,r,s)=>{var a=i,n=p.optimizeMarkerStroke(e),o=p.optimizeMarkerFill(e);(n||o)&&(a=new t.Container(e.getCtx()),n?a.setStroke(s):a.setInvisibleFill(),i.addChild(a));for(var l=0;l<r.length;l++)a.addChild(r[l]),fe._renderDataLabelForMarker(e,a,r[l]);e._currentMarkers.push(r)},_getMarkerInfo:(e,i,r,s,a)=>{var n=e.getOptions(),o=d.getVal(e,i,r,s);if(null==o||isNaN(o))return null;if(d.isDataItemFiltered(e,i,r))return null;var h=d.getGroupCount(e),g=p.isMarkerDisplayed(e,i,r,s);if(!g&&(null==s||s<0)){var u=h-1,c=l.isPolar(e),_=c&&u>0&&0==r?u:r-1,m=c&&u>0&&r==u?0:r+1,v=d.getVal(e,i,_),f=d.getVal(e,i,m);null!=v&&!isNaN(v)||null!=f&&!isNaN(f)||(g=!0)}if(!g&&(l.isSpark(e)||(n._duringZoomAndScroll||l.isOverview(e))&&!d.isDataSelected(e,i,r,s)))return null;if(!d.isDataItemRendered(e,i,r,s))return!1;var y=!0,C=d.getMarkerPos(e,i,r,s,a),x=p.getMarkerSize(e,i,r,s);return a&&C&&x&&(y=a.intersects(new t.Rectangle(C.x-x/2,C.y-x/2,x,x))),C&&y?{seriesIndex:i,groupIndex:r,itemIndex:s,x:C.x,y:C.y,size:x,markerDisplayed:g}:null},_getScatterBubbleMarkerInfo:(e,t,i)=>{if(!d.isDataItemRendered(e,t,i))return!1;var r=d.getScatterBubbleMarkerPos(e,t,i);if(!r)return null;var s=p.getMarkerSize(e,t,i);return s?{seriesIndex:t,groupIndex:i,x:r.x,y:r.y,size:s}:null},_getMarkersForSeries:(e,t,i,r)=>{if(!d.isSeriesRendered(e,t))return[];for(var s=p.optimizeMarkerStroke(e),a=s?r.getColor():null,n=s?r.getWidth():null,o=[],l=d.getGroupCount(e),h=0;h<l;h++){var g=fe._getMarkerInfo(e,t,h,null,i);if(g){var u=fe._createMarker(e,g,a,n);null!=u&&o.push(u)}}return o},_createMarker:(e,i,r,s)=>{var a,n=t.Agent.isTouchDevice(),o=e.getCtx(),h=p.optimizeMarkerStroke(e),g=p.optimizeMarkerFill(e),d=i.seriesIndex,u=i.groupIndex,c=i.itemIndex,_=p.getMarkerColor(e,d,u,c),m=p.getMarkerShape(e,d,u,c),v=i.markerDisplayed;if(null==v&&(v=p.isMarkerDisplayed(e,d,u,c)),v){var y=p.getImageSource(e,d,u,c,"source");if(y){var C=p.getImageSource(e,d,u,c,"sourceSelected"),x=p.getImageSource(e,d,u,c,"sourceHover"),S=p.getImageSource(e,d,u,c,"sourceHoverSelected");a=new t.ImageMarker(o,i.x,i.y,i.size,i.size,null,y,C,x,S),p.isSelectable(e,d,u)&&a.setCursor(t.SelectionEffectUtils.getSelectingCursor())}else{(a=new t.SimpleMarker(o,m,i.x,i.y,i.size,i.size,null,null,!0)).setFill(k.getMarkerFill(e,d,u,c));var b=p.getBorderColor(e,d,u,c),A=p.getDefaultMarkerBorderColor(e,d,u,c),M=p.getUserBorderWidth(e,d,u,c),T=p.getDefaultMarkerBorderWidth(e,d,u,c),w=b||A,D=null!==M?M:T;if(w===r&&D===s||a.setSolidStroke(w,null,D),a.setDataColor(_,!0),"redwood"===e.getCtx().getThemeBehavior())l.isBubble(e)&&a.addClassName("oj-dvt-bubble-marker"),b||l.isBubble(e)||a.addClassName("oj-dvt-default-border-color"),null==M&&a.addClassName("oj-dvt-default-border-width"),p.isSelectable(e,d,u)&&(a.setCursor(t.SelectionEffectUtils.getSelectingCursor()),l.isBubble(e)?a.setFeedbackClassName("oj-dvt-selectable"):a.setFeedbackClassName("oj-dvt-selectable-marker"));else{p.isSelectable(e,d,u)&&a.setCursor(t.SelectionEffectUtils.getSelectingCursor());var O=t.SelectionEffectUtils.getHoverBorderColor(_),P=p.getSelectedInnerColor(e),E=p.getSelectedOuterColor(e);a.setHoverStroke(new t.Stroke(P,1,1),new t.Stroke(O,1,3.5)),a.setSelectedStroke(new t.Stroke(P,1,1.5),new t.Stroke(E,1,4.5)),a.setSelectedHoverStroke(new t.Stroke(P,1,1.5),new t.Stroke(O,1,4.5))}a.addClassName(p.getMarkerClassName(e,d,u,c)),a.setStyle(p.getMarkerStyle(e,d,u,c))}n&&i.size<fe._MIN_TOUCH_MARKER_SIZE&&fe._addMarkerHitArea(a,i.x,i.y,h)}else p.isSelectable(e,d,u)?((a=new he(o,m,i.x,i.y,i.size,h)).setCursor(t.SelectionEffectUtils.getSelectingCursor()),n&&fe._addMarkerHitArea(a,i.x,i.y,h)):(n&&(i.size=fe._MIN_TOUCH_MARKER_SIZE),a=new he(o,t.SimpleMarker.SQUARE,i.x,i.y,i.size,h)),g||a.setInvisibleFill(),a.setDataColor(_);return f.associate(a,e,d,u,c,i),a},_addMarkerHitArea:(e,i,r,s)=>{var a=new t.Rect(e.getCtx(),i-fe._MIN_TOUCH_MARKER_SIZE/2,r-fe._MIN_TOUCH_MARKER_SIZE/2,fe._MIN_TOUCH_MARKER_SIZE,fe._MIN_TOUCH_MARKER_SIZE);s&&a.setSolidStroke("none"),a.setInvisibleFill(),e.addChild(a)},_getRangeMarkersForSeries:(e,i,r)=>{if(!d.isSeriesRendered(e,i))return[];for(var s=t.Agent.isTouchDevice(),a=e.getCtx(),n=e.xAxis,o=d.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,g=e.getOptions(),u=d.getGroupCount(e),c=[],_=0;_<u;_++)if(!d.isDataItemFiltered(e,i,_)&&d.isDataItemRendered(e,i,_)){var m=n.getCoordAt(d.getXVal(e,i,_)),v=o.getUnboundedCoordAt(d.getLowVal(e,i,_)),y=o.getUnboundedCoordAt(d.getHighVal(e,i,_));if(null!=m&&null!=v&&null!=y){var C=p.isMarkerDisplayed(e,i,_);if(!C){var x=u-1,S=l.isPolar(e),b=S&&x>0&&0==_?x:_-1,A=S&&x>0&&_==x?0:_+1,M=d.getLowVal(e,i,b),T=d.getHighVal(e,i,b),w=d.getLowVal(e,i,A),D=d.getHighVal(e,i,b);null==M&&null==T&&null==w&&null==D&&(C=!0)}if(!(g._duringZoomAndScroll||l.isOverview(e)||l.isSpark(e))||C||d.isDataSelected(e,i,_)){var O=h.convertAxisCoord(e,new t.Point(m,v),r),P=h.convertAxisCoord(e,new t.Point(m,y),r),E=new t.Point((O.x+P.x)/2,(O.y+P.y)/2),I=p.getMarkerSize(e,i,_),L=new de(a,O.x,O.y,P.x,P.y,I,!C),R=k.getMarkerFill(e,i,_),B=p.getMarkerBorderColor(e,i,_),F=p.getBorderWidth(e,i,_),H=new t.Stroke(B,1,F),N=p.getMarkerColor(e,i,_),G=p.getSelectedInnerColor(e),j=p.getSelectedOuterColor(e);L.setStyleProperties(R,H,N,G,j),p.isSelectable(e,i,_)&&L.setCursor(t.SelectionEffectUtils.getSelectingCursor());var V=new t.Line(a,O.x,O.y,P.x,P.y);V.setSolidStroke("rgba(0,0,0,0)",null,s?Math.max(I,fe._MIN_TOUCH_MARKER_SIZE):I),L.addChild(V),c.push(L),f.associate(L,e,i,_,null,E)}}}return c},_renderBars:(e,i,r,s)=>{var a=l.isHorizontal(e),n=l.isPolar(e),o=l.isStock(e),h="pixel"==p.getBarSpacing(e),g=t.Agent.isRightToLeft(e.getCtx()),u=p.isStackLabelRendered(e),c=d.isStacked(e);d.getSeriesCount(e)<2&&u&&(c=!0);for(var _=p.getSelectedInnerColor(e),m=p.getSelectedOuterColor(e),v=e.getOptions()._duringZoomAndScroll,y=p.getGroupWidth(e),C={},x=0;x<d.getSeriesCount(e);x++)if("bar"==d.getSeriesType(e,x)&&(void 0===s||s===x)){fe._filterPointsForSeries(e,x);for(var S="",b=e.getOptionsCache().getFromCachedMap("itemStyleSet",x),A=d.getStackCategory(e,x)||"",M=d.isAssignedToY2(e,x),T=L.getViewportMinMaxGroupIdx(e,x),w=T.min-1;w<=T.max+1;w++)if(!d.isDataItemFiltered(e,x,w)&&d.isDataItemRendered(e,x,w)&&0!=d.getZVal(e,x,w)){var D=R.getBarInfo(e,x,w,r);if(null!=D){var O=D.yCoord,P=D.baseCoord,E=D.axisCoord,I=D.x1,B=D.x2,F=D.barWidth;if(c){var H=""+w+A+M+(d.getVal(e,x,w)<0);if(Math.abs(P-O)<.5&&Math.abs(O-C[H])<.5&&!d.isOutermostBar(e,x,w))continue;C[H]&&(P=C[H]),C[H]=O}var N,G=!1;if(Math.abs(O-P)<1&&(d.isRangeSeries(e,x)?O--:c&&!d.isOutermostBar(e,x,w)||(G=!0,O=O>P||a&&!g&&O==P?P+3:P-3)),n)N=new ge(e,E,P,O,I,B,r);else{var j=v&&y<5&&!b;if(N=new se(e,E,P,O,I,B,j),j){var V=N.getBoundingBox();S+=t.PathUtils.moveTo(V.x,V.y)+t.PathUtils.horizontalLineTo(V.x+V.w)+t.PathUtils.verticalLineTo(V.y+V.h)+t.PathUtils.horizontalLineTo(V.x)+t.PathUtils.closePath();continue}}i.addChild(N),p.isSelectable(e,x,w)&&N.setCursor(t.SelectionEffectUtils.getSelectingCursor());var U,W=null;if(G)U=t.SolidFill.invisibleFill();else{U=k.getBarFill(e,x,w,F);var Y=p.getBorderColor(e,x,w),z=p.getBorderWidth(e,x,w);Y&&(W=new t.Stroke(Y,1,z))}var X=p.getColor(e,x,w),K=p.getClassName(e,x,w),q=p.getStyle(e,x,w);N.setStyleProperties(U,W,X,_,m,K,q),h&&N.setPixelHinting(!0),f.associate(N,e,x,w,null,D.dataPos),d.isRangeSeries(e,x)?(fe._renderDataLabel(e,i,N.getBoundingBox(),x,w,null,X,"low",!1,N.getOriginalBarSize()),fe._renderDataLabel(e,i,N.getBoundingBox(),x,w,null,X,"high",!1,N.getOriginalBarSize())):fe._renderDataLabel(e,i,N.getBoundingBox(),x,w,null,X,null,!1,N.getOriginalBarSize());var Z=[];Z.push(N),o&&0!=x||e._currentMarkers.push(Z),u&&d.isOutermostBar(e,x,w)&&fe._renderDataLabel(e,i,N.getBoundingBox(),x,w,null,null,null,!0,N.getOriginalBarSize())}}if(S){var Q=new t.Path(e.getCtx(),S),J=p.getColor(e,x);Q.setSolidFill(J);var $=p.getBorderColor(e,x);if($){var ee=p.getBorderWidth(e,x);Q.setSolidStroke($,null,ee)}var te=p.getClassName(e,x),ie=p.getStyle(e,x);Q.setClassName(te).setStyle(ie),h&&Q.setPixelHinting(!0),i.addChild(Q)}}},_renderStock:(e,i)=>{var r=e.getOptions(),s=e.xAxis,a=e.yAxis;if("candlestick"==d.getSeriesType(e,0))for(var n=L.getViewportMinMaxGroupIdx(e,0),o=n.min-1;o<=n.max+1;o++)if(d.isDataItemRendered(e,0,o)){var l=d.getDataItem(e,0,o);if(l){var h=l.open,g=l.close,u=l.low,c=l.high,_=null!=u&&null!=c;if(null!=h&&null!=g){var m,v=d.getXVal(e,0,o),y=s.getUnboundedCoordAt(v),C=p.getBarWidth(e,0,o),x=a.getBoundedCoordAt(h),S=a.getBoundedCoordAt(g),b=null;_&&(m=a.getBoundedCoordAt(u),b=a.getBoundedCoordAt(c));var A=new ne(e.getCtx(),y,C,x,S,m,b);i.addChild(A),p.isSelectable(e,0,o)&&A.setCursor(t.SelectionEffectUtils.getSelectingCursor());var M=k.getBarFill(e,0,o,C),T=null,w=p.getBorderColor(e,0,o),D=p.getBorderWidth(e,0,o);w?T=new t.Stroke(w,1,D):M instanceof t.PatternFill&&(T=new t.Stroke(M.getColor(),1,D));var O=p.getColor(e,0,o),P=p.getSelectedInnerColor(e),E=p.getSelectedOuterColor(e),I=r.styleDefaults.stockRangeColor;A.setChangeStyle(M,T,O,P,E),A.setRangeStyle(new t.SolidFill(I),T,I,E);var R=new t.Point(y,(x+S)/2);f.associate(A,e,0,o,null,R);var B=[];B.push(A._changeShape),e._currentMarkers.push(B)}}}},_renderBoxPlot:(e,i,r,s)=>{for(var a=e.xAxis,n=0;n<d.getSeriesCount(e);n++)if(void 0===s||s===n)for(var o=L.getViewportMinMaxGroupIdx(e,n),g=o.min-1;g<=o.max+1;g++)if(d.isDataItemRendered(e,n,g)&&"boxPlot"==d.getSeriesType(e,n)){var u=d.getDataItem(e,n,g);if(u){var c=u.low,_=u.q1,m=u.q2,v=u.q3,y=u.high;if(null!=c&&null!=_&&null!=m&&null!=v&&null!=y){var C=p.getBarWidth(e,n,g),x=p.getBarCategoryOffsetMap(e,g),S=d.isAssignedToY2(e,n),b=d.getStackCategory(e,n),A=x[S?"y2":"y"][b]+C/2;t.Agent.isRightToLeft(e.getCtx())&&l.isVertical(e)&&(A*=-1);var M=d.getXVal(e,n,g),T=a.getUnboundedCoordAt(M)+A,w=S?e.y2Axis:e.yAxis,D=w.getBoundedCoordAt(c),O=w.getBoundedCoordAt(_),P=w.getBoundedCoordAt(m),E=w.getBoundedCoordAt(v),I=w.getBoundedCoordAt(y),R=p.getBoxPlotStyleOptions(e,n,g),k=new ae(e,T,C,D,O,P,E,I,R);i.addChild(k),p.isSelectable(e,n,g)&&k.setCursor(t.SelectionEffectUtils.getSelectingCursor());var B=h.convertAxisCoord(e,new t.Point(T,P),r);f.associate(k,e,n,g,null,B),fe._renderBoxPlotMarkers(e,i,n,g,r,T),e._currentMarkers.push([k._medianLine])}}}},_renderBoxPlotMarkers:(e,i,r,s,a,n)=>{for(var o=p.getMarkerBorderColor(e,r,s),h=p.getBorderWidth(e,r,s),g=new t.Stroke(o,1,h),u=[],c=d.getNestedDataItemCount(e,r,s),_=0;_<c;_++){var m=fe._getMarkerInfo(e,r,s,_,a);if(m){l.isHorizontal(e)?m.y=n:m.x=n;var v=fe._createMarker(e,m,o,h);null!=v&&u.push(v)}}fe._addMarkersToContainer(e,i,u,g)},_renderLines:(e,t,i,r,s)=>{var a,n=[],o=d.getSeriesCount(e);for(a=0;a<o;a++)!d.isSeriesRendered(e,a)||"line"!=d.getSeriesType(e,a)||void 0!==s&&s!==a||n.push(a);for(var l=0;l<n.length;l++)a=n[l],"none"!=p.getLineType(e,a)&&(fe._filterPointsForSeries(e,a),fe._renderLinesForSeries(e,i,a,r));for(l=0;l<n.length;l++)fe._renderMarkersForSeries(e,t,n[l],r)},_renderAreas:(e,t,i,r,s)=>{for(var a=d.getSeriesCount(e),n=r?"lineWithArea":"area",o=[],l=[],h=0;h<a;h++)!d.isSeriesRendered(e,h)||d.getSeriesType(e,h)!=n||void 0!==s&&s!==h||(d.isAssignedToY2(e,h)?l.push(h):o.push(h));o.length>0&&fe._renderAreasForAxis(e,t,o,e.yAxis.getBaselineCoord(),i,r),l.length>0&&fe._renderAreasForAxis(e,t,l,e.y2Axis.getBaselineCoord(),i,r)},_renderAreasForAxis:(e,i,r,s,a,n)=>{for(var o=d.isStacked(e),l=fe.createClippedGroup(e,i,a),h={},g={},u={},c={},_=[],m=d.getGroupCount(e),v=0;v<m;v++)_.push(new oe(null,s,s,v,d.getGroup(e,v),!0));for(var y=0;y<r.length;y++){var C=r[y],x=d.getStackCategory(e,C),S=d.isSeriesNegative(e,C),b=h[x],A=g[x],M=u[x],T=c[x];if("none"!=p.getLineType(e,C)){var w,D,O,P=k.getAreaFill(e,C),E=p.getBorderColor(e,C),I=p.getBorderWidth(e,C),L=p.getAreaClassName(e,C),R=p.getAreaStyle(e,C),B=E?new t.Stroke(E,1,I):null,F=p.getLineType(e,C);fe._filterPointsForSeries(e,C),d.isRangeSeries(e,C)?(w=fe._getCoordsForSeries(e,C,a,"high"),D=fe._getCoordsForSeries(e,C,a,"low"),O=F):S?(w=fe._getAreaCoordsForSeries(e,C,a,M||_),D=M||[],O=T):(w=fe._getAreaCoordsForSeries(e,C,a,b||_),D=b||[],O=A);var H=new le(e,!0,a,s,R,L,P,B,F,w,O,D);l.addChild(H),e._currentAreas.push(H),f.associate(H,e,C),S?(u[x]=w,c[x]=F):(h[x]=w,g[x]=F),o||((n||p.getDataItemGaps(e)>0&&!E)&&fe._renderLinesForSeries(e,l,C,a,!n),n||fe._renderMarkersForSeries(e,i,C,a),y+1<r.length&&(l=fe.createClippedGroup(e,i,a)))}else fe._renderMarkersForSeries(e,i,C,a)}for(y=0;y<r.length;y++)if(C=r[y],"none"!=p.getLineType(e,C)){var N=p.getBorderColor(e,C)||p.getBorderColor(e,C+1);o&&(n||p.getDataItemGaps(e)>0&&!N)&&fe._renderLinesForSeries(e,l,C,a,!n),(o||n)&&fe._renderMarkersForSeries(e,i,C,a)}},_getAreaCoordsForSeries:(e,t,i,r)=>{for(var s=fe._getCoordsForSeries(e,t,i),a=[],n=0;n<r.length;n++)a.push(r[n].clone());for(var o=s.length-1,h=l.isPolar(e),g=0;g<s.length;g++)if(null!=s[g].x){var d=a[s[g].groupIndex],u=h&&0==g?o:g-1,c=h&&g==o?0:g+1;u>=0&&null!=s[u].x&&(d.y1=s[g].y1),c<=o&&null!=s[c].x&&(d.y2=s[g].y2),d.x=s[g].x,d.filtered=d.y1==d.y2&&s[g].filtered}return a},_renderLinesForSeries:(e,i,r,s,a)=>{var n;if(a){var o=2.5*p.getDataItemGaps(e);n=new t.Stroke(p.getBackgroundColor(e,!0),1,o)}else{var l=p.getColor(e,r),h=p.getLineWidth(e,r),g=p.getLineStyle(e,r);n=new t.Stroke(l,1,h,!1,t.Stroke.getDefaultDashProps(g,h))}var u=d.isAssignedToY2(e,r)?e.y2Axis.getBaselineCoord():e.yAxis.getBaselineCoord(),c=p.getLineType(e,r),_=p.getClassName(e,r),m=p.getStyle(e,r),v=t=>{var a=fe._getCoordsForSeries(e,r,s,t),o=new le(e,!1,s,u,m,_,null,n,c,a);i.addChild(o),f.associate(o,e,r)};d.isRangeSeries(e,r)?(v("high"),v("low")):v("value")},_filterScatterBubble:(e,i)=>{var r,s=d.getSeriesCount(e),a=d.getGroupCount(e);if(s*a<fe.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;for(var n=[],o=0;o<s;o++)if(d.isSeriesRendered(e,o))for(var l=0;l<a;l++)null!=(r=fe._getScatterBubbleMarkerInfo(e,o,l))&&n.push(r);if(n.length<fe.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;i&&ve.sortMarkerInfos(n);for(var h=new t.PixelMap(25,new t.PixelMap(5,new t.PixelMap)),g=[],u=n.length-1;u>=0;u--){if(r=n[u],!ve.checkPixelMap(h,r.x,r.y,r.size)){var c=p.getColor(e,r.seriesIndex,r.groupIndex),_=p.isMarkerDisplayed(e,o,l)?t.ColorUtils.getAlpha(c):0;_>0&&(ve.updatePixelMap(h,r.x,r.y,r.size,_),g.push(r))}}return e.getCache().putToCache("dataFiltered",!0),g.reverse(),g},_filterPointsForSeries:(e,t)=>{if(!l.isPolar(e)&&!d.isRangeSeries(e,t)){var i,r=e.__getPlotAreaSpace(),s=l.isHorizontal(e)?r.h:r.w,a=d.getSeriesItem(e,t).items,n="bar"==d.getSeriesType(e,t),o=e.xAxis.getInfo(),h=(o.getDataMax()-o.getDataMin())/(o.getViewportMax()-o.getViewportMin()),g=n?.5:2,u=h?Math.round(g*(a.length/h)/s):1;if(u<(n?2:3))for(var c=0;c<a.length;c++)(i=a[c])&&(i._filtered=!1);else{for(var p,_,m,v,f,y=!1,C=0;C<a.length;C+=u){p=-1,_=-1/0,m=-1,v=1/0;for(var x=C;x<Math.min(C+u,a.length);x++)f=d.getCumulativeVal(e,t,x),i=a[x],null!=f&&null!=i&&((!n||f>0)&&f>_&&(p=x,_=f),(!n||f<0)&&f<v&&(m=x,v=f),i._filtered=!0,y=!0);for(var S=C;S<Math.min(C+u,a.length);S++)null!=(i=a[S])&&(S!=p&&S!=m||(i._filtered=!1))}e.getCache().putToCache("dataFiltered",y)}}},_getCoordsForSeries:(e,t,i,r)=>{var s=e.xAxis,a=e.yAxis;d.isAssignedToY2(e,t)&&(a=e.y2Axis);for(var n=[],o=L.getViewportMinMaxGroupIdx(e,t),h=o.min-1;h<=o.max+1;h++){var g=d.getGroup(e,h);if(null!=g){var u=d.getXVal(e,t,h),c=null;if("low"==r?c=d.getLowVal(e,t,h):"high"==r?c=d.getHighVal(e,t,h):null!=d.getVal(e,t,h)&&(c=d.getCumulativeVal(e,t,h)),null!=c&&!isNaN(c)&&d.isDataItemRendered(e,t,h)){l.isPolar(e)&&(c=Math.max(c,a.getInfo().getViewportMin()));var p=s.getUnboundedCoordAt(u),_=a.getUnboundedCoordAt(c);if(null!=p&&null!=_){var m=new oe(p,_,_,h,g,d.isDataItemFiltered(e,t,h));n.push(m)}else n.push(new oe(null,null,null,h,g,!1))}else n.push(new oe(null,null,null,h,g,!1))}}return n},createClippedGroup:(e,i,r)=>{var s=new t.Container(i.getCtx());i.addChild(s);var a=new t.ClipPath(e.getId()),n=fe._extendClipGroup(e);if(l.isPolar(e)){var o=r.x+r.w/2,h=r.y+r.h/2;if(L.isGridPolygonal(e)){var g=t.PolygonUtils.getRegularPolygonPoints(o,h,d.getGroupCount(e),e.getRadius(),0);a.addPolygon(g)}else a.addCircle(o,h,e.getRadius())}else l.isHorizontal(e)?a.addRect(r.x-n,r.y,r.w+2*n,r.h):a.addRect(r.x,r.y-n,r.w,r.h+2*n);return s.setClipPath(a),s},_extendClipGroup:e=>{if((d.hasLineSeries(e)||d.hasLineWithAreaSeries(e))&&!l.isSpark(e)){var t=p.getLineWidth(e),i=e=>{var i=e.getInfo(),r=i.getCoordAt(i.getGlobalMax()),s=i.getCoordAt(i.getDataMax()),a=i.getCoordAt(i.getGlobalMin()),n=i.getCoordAt(i.getDataMin());return null!=r&&null!=s&&s-r<=t/2||null!=a&&null!=n&&a-n<=t/2};if(e.yAxis&&i(e.yAxis)||e.y2Axis&&i(e.y2Axis))return Math.ceil(t/2)}return 0}};class ye{constructor(e,t){this._context=e.getCtx(),this._dataCursorShown=!1,this._dataCursor=t,this._chart=e}processMove(e,t){var i=this._chart.__getPlotAreaSpace();return i&&i.containsPoint(e.x,e.y)&&!this._chart.getOptions()._duringZoomAndScroll?(this._showDataCursor(i,e.x,e.y,t),!0):(this._removeDataCursor(t),!1)}processEnd(e){this._removeDataCursor(e)}processOut(e,t){var i=this._chart.__getPlotAreaSpace();i&&!i.containsPoint(e.x,e.y)&&this._removeDataCursor(t)}_showDataCursor(e,i,r,s){if(this._context.isOffscreen(!0))this._removeDataCursor(s);else{var a=this._dataCursor,n=this._getClosestMatch(i,r);if(null!=n){var o=n.matchRegion.getCenter(),l=i,h=r;"snap"===a.getBehavior()&&(a.isHorizontal()?h=Math.min(Math.max(o.y,e.y),e.y+e.h):l=Math.min(Math.max(o.x,e.x),e.x+e.w));var g=n.logicalObject,d=v.getDatatip(this._chart,g.getSeriesIndex(),g.getGroupIndex(),g.getNestedDataItemIndex(),!0);if(null!=d){a.setVisible(!0);var u=v.getDatatipColor(this._chart,g.getSeriesIndex(),g.getGroupIndex(),g.getNestedDataItemIndex()),c=a.isHorizontal()?h:l,p=g.getDisplayables()[0];if(p instanceof t.SimpleMarker&&a.addMarker(p.getType(),p.getSize()),a.render(e,o.x,o.y,c,d,u),this._dataCursorShown=!0,!s){var _=this._chart.getValsAt(i,r);this._chart.changeOption("dataCursorPosition",_)}}else a.setVisible(!1)}else this._removeDataCursor(s)}}_removeDataCursor(e){this._dataCursor.getVisible()&&this._dataCursor.setVisible(!1),this._context.getTooltipManager(_.TOOLTIP_ID).hideTooltip(),this._dataCursorShown=!1,e||this._chart.changeOption("dataCursorPosition",null)}isDataCursorShown(){return this._dataCursorShown}static _getClosestMatchSecondDirection(e,t,i,r){for(var s=null,a=1/0,n=e.length-1;0<=n;n--){var o=e[n],l=t?i:r,h=((t?o.matchRegion.x:o.matchRegion.y)+(t?o.matchRegion.x+o.matchRegion.w:o.matchRegion.y+o.matchRegion.h))/2,g=Math.round(Math.abs(h-l));g<a&&(a=g,s=o)}return s}static _getClosestMatchesFirstDirection(e,t,i,r,s){for(var a=1/0,n=new Array,o=0;o<e.length;o++){var l=e[o];if(s(l.logicalObject)){var h=l.matchRegion,g=t?r:i,d=((t?h.y:h.x)+(t?h.y+h.h:h.x+h.w))/2,u=Math.round(Math.abs(d-g));u<=a&&(u<a&&(n=new Array),n.push(l),a=u)}}return n}_findMatches(){var e=this._context.getStage(),t=this._chart.getEventManager(),i=[];if(!this._chart._currentMarkers)return null;for(var r=0;r<this._chart._currentMarkers.length;r++)for(var s=this._chart._currentMarkers[r],a=s.length,n=0;n<a;n++){var o=s[n],l=t.GetLogicalObject(o),h={matchRegion:o.getDimensionsSelf?o.getDimensionsSelf(e):o.getDimensions(e),logicalObject:l};i.push(h)}return i}_getClosestMatch(e,i){var r=l.isHorizontal(this._chart),s=l.isLineArea(this._chart)&&!l.isMixedFrequency(this._chart),a=this._findMatches(),n=d.getHighlightedCategories(this._chart),o="all"==this._chart.getOptions().highlightMatch,h=n.length>0?o?t.ArrayUtils.hasAllItems:t.ArrayUtils.hasAnyItem:null,g=e=>!h||h(e.getCategories(),n),u=ye._getClosestMatchesFirstDirection(a,r,e,i,g);if(!l.isScatterBubble(this._chart)){for(var c=1/0,p=-1/0,_=null,m=0;m<u.length;m++){var v=u[m];c=Math.min(c,r?v.matchRegion.y:v.matchRegion.x),p=Math.max(p,r?v.matchRegion.y+v.matchRegion.h:v.matchRegion.x+v.matchRegion.w),_=v.logicalObject.getGroupIndex()}for(m=0;m<a.length;m++){var f=a[m];if(g(f.logicalObject))if(s)f.logicalObject.getGroupIndex()==_&&u.push(f);else{var y=((r?f.matchRegion.y:f.matchRegion.x)+(r?f.matchRegion.y+f.matchRegion.h:f.matchRegion.x+f.matchRegion.w))/2;p>=y&&c<=y&&u.push(f)}}}return ye._getClosestMatchSecondDirection(u,r,e,i)}}class Ce extends D{axisToPlotArea(e){if("tangential"==this.getOptions().position)return e;if(null==e)return null;var t=e-this.getLeftOverflow();return Math.round(10*t)/10}plotAreaToAxis(e,t){if("tangential"==this.getOptions().position)return e;if(null==e)return null;var i=e+this.getLeftOverflow();return!1===t?i:Math.round(i)}linearToActual(e){return this.Info.linearToActual(e)}actualToLinear(e){return this.Info.actualToLinear(e)}getValAt(e){return this.Info.getValAt(this.plotAreaToAxis(e))}getCoordAt(e){return this.axisToPlotArea(this.Info.getCoordAt(e))}getBoundedCoordAt(e){return this.axisToPlotArea(this.Info.getBoundedCoordAt(e))}getUnboundedValAt(e){return this.Info.getUnboundedValAt(this.plotAreaToAxis(e))}getUnboundedCoordAt(e){return this.axisToPlotArea(this.Info.getUnboundedCoordAt(e))}getBaselineCoord(){return this.axisToPlotArea(this.Info.getBaselineCoord())}getPosition(){return this.getOptions().position}isGroupAxis(){return this.Info instanceof M}getMajorTickCoords(){for(var e=this.Info?this.Info.getMajorTickCoords():[],t=0;t<e.length;t++)e[t]=this.axisToPlotArea(e[t]);return e}getMinorTickCoords(){for(var e=this.Info?this.Info.getMinorTickCoords():[],t=0;t<e.length;t++)e[t]=this.axisToPlotArea(e[t]);return e}getBaselineCoord(){return this.axisToPlotArea(this.Info.getBaselineCoord())}getLinearGlobalMin(){return this.actualToLinear(this.Info.getGlobalMin())}getLinearGlobalMax(){return this.actualToLinear(this.Info.getGlobalMax())}getLinearViewportMin(){return this.actualToLinear(this.Info.getViewportMin())}getLinearViewportMax(){return this.actualToLinear(this.Info.getViewportMax())}getUnboundedLinearValAt(e){return this.Info.actualToLinear(this.getUnboundedValAt(e))}isFullViewport(){return this.Info.getViewportMin()==this.Info.getGlobalMin()&&this.Info.getViewportMax()==this.Info.getGlobalMax()}getLeftOverflow(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getEndOverflow():this.Info.getStartOverflow()}getRightOverflow(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getStartOverflow():this.Info.getEndOverflow()}getLength(){return Math.abs(this.Info.getStartCoord()-this.Info.getEndCoord())}getMinCoord(){return this.axisToPlotArea(Math.min(this.Info.getStartCoord(),this.Info.getEndCoord()))}getMaxCoord(){return this.axisToPlotArea(Math.max(this.Info.getStartCoord(),this.Info.getEndCoord()))}}const xe={_DEFAULT_AXIS_MAX_SIZE:.33,render:(e,t,i)=>{l.hasAxes(e)&&(L.applyInitialZooming(e,i),l.isBubble(e)&&ve.calcBubbleSizes(e,i),l.isPolar(e)?xe._renderPolar(e,t,i):xe._renderCartesian(e,t,i))},_renderCartesian:(e,i,r)=>{var s=e.getOptions(),a=l.isHorizontal(e),n=d.isSplitDualY(e),o=l.isOverview(e),h=r.clone(),g=L.getYAxisPos(e),u=L.getY2AxisPos(e),c=!o&&s.overview.content&&s.overview.content.yAxis&&"on"==s.overview.content.yAxis.rendered,_=!o&&s.overview.content&&s.overview.content.y2Axis&&"on"==s.overview.content.y2Axis.rendered;xe._addAxisGaps(e,r),n&&g==u&&(s.yAxis._skipHighestTick=a,s.y2Axis._skipHighestTick=!a);var m=xe._createYAxis(e,i,r,h,c),v=xe._createY2Axis(e,i,r,h,_),f=!n&&"on"==s.y2Axis.alignTickMarks&&null==s.y2Axis.step;f&&m&&v&&(xe._alignYAxes(e,m,v),a||(v.dim=xe._getPreferredSize(e,v.axis,e.y2Axis,v.options,"y2",r,h,_)));var y,C=L.getTickLabelGapSize(e,"y"),x=L.getTickLabelGapSize(e,"y2");n&&g==u?(a?(y=Math.max(m.dim.h+C,v.dim.h+x),m.dim.h=y-C,v.dim.h=y-x):(y=Math.max(m.dim.w+C,v.dim.w+x),m.dim.w=y-C,v.dim.w=y-x),xe._positionAxis(r.clone(),m,C,c),xe._positionAxis(r,v,x,_)):(xe._positionAxis(r,m,C,c),xe._positionAxis(r,v,x,_));var S=d.getGroupCount(e);if("pixel"==p.getBarSpacing(e)&&l.isBar(e)&&r.w>S){var b=Math.floor(r.w/S)*S;r.x+=(r.w-b)/2,r.w=b}var A=xe._createXAxis(e,i,r,h);A.axis.render(A.options,A.dim.w,A.dim.h),xe._positionAxis(r,A,L.getTickLabelGapSize(e,"x"));var M=p.getSplitterPos(e),T=t.Agent.isRightToLeft(e.getCtx()),w=xe._getSplitAvailSpace(r,M,a,a&&T),D=xe._getSplitAvailSpace(r,1-M,a,!a||!T);a?(m&&(m.axis.setTranslateX(r.x),n?m.axis.render(m.options,w.w,m.dim.h,w.x,0):m.axis.render(m.options,r.w,m.dim.h)),f&&m&&v&&xe._alignYAxes(e,m,v),v&&(v.axis.setTranslateX(r.x),n?v.axis.render(v.options,D.w,v.dim.h,D.x,0):v.axis.render(v.options,r.w,v.dim.h)),xe._setOverflow(r,m,A)):(m&&(n?m.axis.render(m.options,m.dim.w,w.h,0,w.y):m.axis.render(m.options,m.dim.w,r.h)),f&&m&&v&&xe._alignYAxes(e,m,v),v&&(n?v.axis.render(v.options,v.dim.w,D.h,0,D.y):v.axis.render(v.options,v.dim.w,r.h)),xe._setOverflow(r,A,m,v)),xe._storeAxes(e,A,m,v)},_renderPolar:(e,t,i)=>{var r=xe._createXAxis(e,t,i,i);r.axis.setTranslateX(i.x),r.axis.setTranslateY(i.y),r.axis.render(r.options,i.w,i.h);var s=xe._createYAxis(e,t,i,i);s.axis.setTranslateX(i.x),s.axis.setTranslateY(i.y),s.axis.render(s.options,i.w,i.h),xe._storeAxes(e,r,s)},_createXAxis:(e,i,r,s)=>{var a=e.getOptions(),n=L.getXAxisPos(e),o=t.JsonUtils.clone(a.xAxis,null,e.Defaults.getNoCloneObject().xAxis);o.position=n,o.isStandalone=L.isStandaloneXAxis(e),o.groupSeparators=a.styleDefaults.groupSeparators,xe._addCommonAxisAttr(o,"x",e),o.groups=a.groups,o._groupWidthRatios=R.getGroupWidthRatios(e),o.timeAxisType=l.getTimeAxisType(e),o._locale=a._locale,o.drilling=a.drilling,o._isGroupAxis=l.hasGroupAxis(e);var h="top"==n||"bottom"==n,g=L.isGridShifted(e);if("tangential"==n&&l.hasGroupAxis(e))g?(o.startGroupOffset=.5,o.endGroupOffset=.5):o.endGroupOffset=1;else{var u=L.getAxisOffset(e);if(o.startGroupOffset=u,o.endGroupOffset=u,p.hasUncenteredSeries(e)&&(o.endGroupOffset+=1),!O.isScrollable(e)&&!l.isOverview(e)){var c=d.getGroupCount(e);L.isAxisRendered(e,"y")&&L.isTickLabelInside(e,"y")&&(o[(h?"start":"end")+"GroupOffset"]+=.04*c),L.isAxisRendered(e,"y2")&&L.isTickLabelInside(e,"y2")&&(o[(h?"end":"start")+"GroupOffset"]+=.04*c)}}o.leftBuffer=h?r.x-s.x:0,o.rightBuffer=h?s.w+s.x-(r.w+r.x):0,o._renderGridAtLabels=!g||l.hasTimeAxis(e),o.translations=a.translations;var _=new Ce(e.getCtx(),e.processEvent,e);i.addChild(_);var m=xe._getPreferredSize(e,_,e.xAxis,o,"x",r,s);return o._minOverflowCoord=a._minOverflowCoord-r.x,o._maxOverflowCoord=a._maxOverflowCoord-r.x,{axis:_,options:o,dim:m}},_createYAxis:(e,i,r,s,a)=>{var n=e.getOptions();if(d.hasY2DataOnly(e))return null;var o=t.JsonUtils.clone(n.yAxis,null,e.Defaults.getNoCloneObject().yAxis);o.position=L.getYAxisPos(e),o.isStandalone=L.isStandaloneYAxis(e),xe._addCommonAxisAttr(o,"y",e),xe._addCommonYAxisAttr(o,e),o.translations=n.translations;var l=new Ce(e.getCtx(),e.processEvent,e);i.addChild(l);var h=xe._getPreferredSize(e,l,e.yAxis,o,"y",r,s,a);return xe._adjustYAxisForLabels(l,o,e,"y"),n.yAxis.min=o.min,n.yAxis.max=o.max,{axis:l,options:o,dim:h}},_createY2Axis:(e,i,r,s,a)=>{var n=e.getOptions();if(d.hasY2Data(e)){var o=t.JsonUtils.clone(n.y2Axis,null,e.Defaults.getNoCloneObject().y2Axis);o.position=L.getY2AxisPos(e),o.isStandalone=L.isStandaloneY2Axis(e),xe._addCommonAxisAttr(o,"y2",e),xe._addCommonYAxisAttr(o,e),o.translations=n.translations;var l=new Ce(e.getCtx(),e.processEvent,e);i.addChild(l);var h=xe._getPreferredSize(e,l,e.y2Axis,o,"y2",r,s,a);return xe._adjustYAxisForLabels(l,o,e,"y2"),n.y2Axis.min=o.min,n.y2Axis.max=o.max,{axis:l,options:o,dim:h}}},_addCommonAxisAttr:(e,t,i)=>{var r=i.getOptions();if(e.skin=r.skin,e.tickLabel.position=L.isTickLabelInside(i,t)?"inside":"outside",e.baselineScaling=L.getBaselineScaling(i,t),(L.isTickLabelInside(i,t)||"tangential"==e.position)&&(e._skipHighestTick=!0),e.zoomAndScroll=l.isPolar(i)?"off":r.zoomAndScroll,e._isOverview=l.isOverview(i),e._duringZoomAndScroll=r._duringZoomAndScroll,"x"!=t||!l.hasGroupAxis(i)){var s=L.getMinMaxVal(i,t);e.dataMin=null!=e.dataMin?e.dataMin:s.min,e.dataMax=null!=e.dataMax?e.dataMax:s.max}l.isPolar(i)&&(e.polarGridShape=L.isGridPolygonal(i)?"polygon":"circle",e._radius=i.getRadius()),e.dnd=r.dnd},_addCommonYAxisAttr:(e,r)=>{if(e.timeAxisType="disabled",O.isLiveScroll(r)&&l.isBLAC(r)&&!l.isPolar(r)&&(e._continuousExtent="on"),e.isStandalone)e.leftBuffer=0,e.rightBuffer=0;else if(d.isSplitDualY(r))e.leftBuffer=1/0,e.rightBuffer=1/0;else{var s=t.Agent.isRightToLeft(r.getCtx());e.leftBuffer=s?0:i.BaseAxisInfo.MIN_AXIS_BUFFER,e.rightBuffer=s?i.BaseAxisInfo.MIN_AXIS_BUFFER:0}},_adjustYAxisForLabels:(e,i,r,s)=>{var a=r.getOptions();if(L.isYAdjustmentNeeded(r)){var n=t.CSSStyle.mergeStyles([a.styleDefaults._dataLabelStyle,a.styleDefaults.dataLabelStyle]),o=a.styleDefaults.stackLabelStyle,h=e.getInfo(),g=p.isStackLabelRendered(r),u=t.TextUtils.getTextStringHeight(r.getCtx(),g?o:n),c=0;if("log"==i.scale){c=e.getUnboundedValAt(e.getUnboundedCoordAt(h.getDataMax())-u)-h.getDataMax()}else{var _=1;d.isSplitDualY(r)&&(_="y"==s?p.getSplitterPos(r):1-p.getSplitterPos(r));var m=Math.abs(h.getEndCoord()-h.getStartCoord())*_;c=Math.abs(h.getViewportMax()-h.getViewportMin())/m*u}l.isHorizontal(r)?c*=4:c*=2,h.getDataMin()-h.getGlobalMin()<=c&&h.getDataMin()<0&&(i.dataMin-=c),h.getGlobalMax()-h.getDataMax()<=c&&h.getDataMax()>0&&(i.dataMax+=c)}},_getPreferredSize:(e,i,r,s,a,n,o,l)=>{var h=s.isStandalone,g=s.position,d="top"==g||"bottom"==g,u=L.getTickLabelGapSize(e,a),c=s.maxSize,_=s.size,m=n.w,v=n.h;if("radial"==g||"tangential"==g)m=0,v=0;else if("off"!=s.rendered||l)if(h)d?v=n.h-u:m=n.w-u;else if(null!=_)d?(v=p.getSizeInPixels(_,o.h)-u,null!=c&&(v=Math.min(v,p.getSizeInPixels(c,o.h)-u))):(m=p.getSizeInPixels(_,o.w)-u,null!=c&&(m=Math.min(m,p.getSizeInPixels(c,o.w)-u)));else{if(!e.getOptions()._duringZoomAndScroll||!r)return c=null==c?xe._DEFAULT_AXIS_MAX_SIZE:c,d?i.getPreferredSize(s,n.w,p.getSizeInPixels(c,o.h)-u,l):i.getPreferredSize(s,p.getSizeInPixels(c,o.w)-u,n.h,l);if(d){var f=t.Agent.isRightToLeft(e.getCtx());s._startOverflow=f?r.getRightOverflow():r.getLeftOverflow(),s._endOverflow=f?r.getLeftOverflow():r.getRightOverflow(),v=r.getHeight()}else m=r.getWidth()}else d?v=0:m=0;return L.isYAdjustmentNeeded(e)&&i.getPreferredSize(s,m,v),new t.Dimension(m,v)},_addAxisGaps:(e,t)=>{var i=l.isHorizontal(e),r=L.getYAxisPos(e),s=L.getY2AxisPos(e),a=L.isAxisRendered(e,"x"),n=L.isAxisRendered(e,"y"),o=L.isAxisRendered(e,"y2"),h=e.getOptions().layout.verticalAxisGap;h*=i?L.getGapScalingFactor(e,"x"):Math.max(L.getGapScalingFactor(e,"y"),L.getGapScalingFactor(e,"y2")),h=Math.ceil(h),(!i||"top"==r&&n||"top"==s&&o)&&i||(t.y+=h,t.h-=h),(!i||"bottom"==r&&n||"bottom"==s&&o)&&(i||a)||(t.h-=h)},_positionAxis:(e,i,r,s)=>{if(i){var a=s?Math.max(i.dim.h,1):i.dim.h,n=s?Math.max(i.dim.w,1):i.dim.w;t.LayoutUtils.position(e,i.options.position,i.axis,n,a,r)}},_alignYAxes:(e,t,i)=>{var r=t.axis.getInfo();if(r){var s=r.getMajorTickCount(),a=r.getMinorTickCount(),n=i.options,o=i.axis.getInfo();o&&L.isLog(e,"y")&&L.isLog(e,"y2")&&s<o.getMajorTickCount()&&(n._logScaleUnit=o.alignLogScaleToTickCount(o.getLogScaleUnit(),s)),n._majorTickCount=s,n._minorTickCount=a}},_getSplitAvailSpace:(e,t,i,r)=>{var s=e.clone();return i?(s.w=e.w*t,s.x=r?e.w*(1-t):0):(s.h=e.h*t,s.y=r?e.h*(1-t):0),s},_setOverflow:(e,t,i,r)=>{if(t){var s=t.axis.getLeftOverflow(),a=t.axis.getRightOverflow();e.x+=s,e.w-=s+a,i&&i.axis.setTranslateX(i.axis.getTranslateX()+("left"==i.options.position?s:-a)),r&&r.axis.setTranslateX(r.axis.getTranslateX()+("left"==r.options.position?s:-a))}},_storeAxes:(e,t,i,r)=>{e.xAxis&&(e.xAxis.destroy(),e.removeChild(e.xAxis)),e.yAxis&&(e.yAxis.destroy(),e.removeChild(e.yAxis)),e.y2Axis&&(e.y2Axis.destroy(),e.removeChild(e.y2Axis)),e.xAxis=t.axis,e.yAxis=i?i.axis:null,e.y2Axis=r?r.axis:null}},Se={_DEFAULT_LINE_WIDTH_WITH_MARKER:2,_DEFAULT_MAX_SIZE:.3,_PIE_SIZE_RATIO:1.2,render:(e,i,s)=>{var a=e.getOptions(),n=a.legend.position;if(!("off"==a.legend.rendered||"auto"==a.legend.rendered&&e.getOptionsCache().getFromCache("hasLargeSeriesCount"))){var o=t.JsonUtils.clone(a.legend);delete o.position,o.skin=a.skin,o.hideAndShowBehavior=O.getHideAndShowBehavior(e),o.hoverBehavior=O.getHoverBehavior(e),o.hoverBehaviorDelay=p.getHoverBehaviorDelay(e),o.hiddenCategories=d.getHiddenCategories(e),o.highlightedCategories=d.getHighlightedCategories(e),o.dnd=a.dnd,o._dropColor=a._dropColor,o.translations=a.translations,o.sectionTitleStyle={...o.sectionTitleStyle,...o.titleStyle},o.sectionTitleHalign=o.titleHalign||o.sectionTitleHalign,delete o.titleStyle,delete o.titleHalign,"auto"==n&&(n=s.w>=s.h?"end":"bottom");var h="top"==n||"bottom"==n;if(o.orientation=h?"horizontal":"vertical","start"==n&&(o.halign="end"),"start"!=n&&"end"!=n||(o.valign="middle"),"top"==n&&(o.valign="bottom"),"top"!=n&&"bottom"!=n||(o.halign="center"),Se._addLegendData(e,o),0!=o.sections.length){var g,c=new r.Legend(e.getCtx(),e.processEvent,e);if(null!=e.getId()&&c.setId(e.getId()+"legend"),i.addChild(c),null!=o.size)g=h?new t.Dimension(s.w,p.getSizeInPixels(o.size,s.h)):new t.Dimension(p.getSizeInPixels(o.size,s.w),s.h);else{var _=o.maxSize;if(null==_&&(_=Se._DEFAULT_MAX_SIZE,l.isPie(e))){var m=1-Se._PIE_SIZE_RATIO*(h?s.w/s.h:s.h/s.w);_=Math.max(_,m)}var v=h?s.w:p.getSizeInPixels(_,s.w),f=h?p.getSizeInPixels(_,s.h):s.h;g=c.getPreferredSize(o,v,f)}c.render(o,g.w,g.h);var y=h?u.getGapHeight(e,a.layout.legendGapHeight):u.getGapWidth(e,a.layout.legendGapWidth);t.LayoutUtils.position(s,n,c,g.w,g.h,y);var C=Object.keys(o.dnd.drag.series).length>0,x=c.getCache().getFromCache("background");C&&x&&x.setClassName("oj-draggable");var S=c.__getBounds(),b=c.localToStage(new t.Point(S.x,S.y));if(!l.isOverview(e)){var A=t.Agent.isRightToLeft(e.getCtx());"end"==n?A?a._minOverflowCoord=b.x+S.w+y/2:a._maxOverflowCoord=b.x-y/2:"start"==n&&(A?a._maxOverflowCoord=b.x-y/2:a._minOverflowCoord=b.x+S.w+y/2)}e.legend&&(e.legend.destroy(),i.removeChild(e.legend)),e.legend=c,Se.isLegendInteractive(e)||e.legend.setAriaProperty("hidden","true",!0)}}},_addLegendData:(e,t)=>{var i=Se._getSeriesItems(e,"vertical"==t.orientation);if(i.length>0){var r=t.seriesSection;r.items=i,t.sections.unshift(r),delete t.seriesSection}var s=Se._getRefObjItems(e);if(s.length>0){var a=t.referenceObjectSection;a.items=s,t.sections.push(a),delete t.referenceObjectSection}},_getSeriesItems:(e,t)=>{var i,r,s=[];if("pie"==e.getType()||"pyramid"==e.getType()||"funnel"==e.getType()){var a=c.getRenderedSeriesIndices(e);"pyramid"==e.getType()&&t&&a.reverse();for(var n=0;n<a.length;n++){r=a[n];var o=d.getVal(e,r,0);o>=0&&null!=o&&(i=Se._createLegendItem(e,r))&&s.push(i)}c.hasOtherSeries(e)&&(i={id:c.OTHER_ID,drilling:e.getOptions().multiSeriesDrilling,text:e.getOptions().translations.labelOther,categoryVisibility:d.getHiddenCategories(e).indexOf(c.OTHER_ID)>=0?"hidden":"visible",symbolType:"marker",color:e.getOptions().styleDefaults.otherColor,borderColor:e.getOptions().styleDefaults.borderColor},s.push(i))}else{var h={},g={},u=d.getSeriesCount(e);for(r=0;r<u;r++)if(i=Se._createLegendItem(e,r)){var p=d.getStackCategory(e,r);d.isAssignedToY2(e,r)?g[p]?g[p].push(i):g[p]=[i]:h[p]?h[p].push(i):h[p]=[i]}var _=d.getStackCategories(e,null,!0),m=d.isStacked(e)&&l.isVertical(e)&&t;s=Se._getSeriesItemsForAxis(h,_.y,m,s),s=Se._getSeriesItemsForAxis(g,_.y2,m,s)}return s},_getSeriesItemsForAxis:(e,t,i,r)=>{for(var s,a=0;a<t.length;a++)(s=e[t[a]])&&(r=i?r.concat(s.reverse()):r.concat(s));return r},_createLegendItem:(e,t)=>{var i=d.getSeriesItem(e,t),r=e.getType(),s=d.getSeriesType(e,t),a=p.getLineType(e,t),n=i.displayInLegend;if(!i||"off"==n)return null;if("on"!=n&&(l.isFunnel(e)||l.isPyramid(e)||l.isStock(e)))return null;if("on"!=n&&!d.hasSeriesData(e,t))return null;var o=d.getSeriesLabel(e,t);if("on"!=n&&(null==o||"string"==typeof o&&0===o.trim().length))return null;var h={id:d.getSeries(e,t),text:o,categories:d.getCategories(e,t),categoryVisibility:d.isSeriesRendered(e,t)?"visible":"hidden",_getDataContext:p.getDataContext.bind(null,e,t,-1)};if("line"==s||"lineWithArea"==s||"scatter"==r||"bubble"==r)if(h.lineStyle=p.getLineStyle(e,t),h.lineWidth=p.getLineWidth(e,t),p.isMarkerDisplayed(e,t)){var g=p.getImageSource(e,t,null,null,"source");g?(h.symbolType="image",h.source=g):(h.symbolType="none"==a?"marker":"lineWithMarker","lineWithMarker"==h.symbolType&&(h.lineWidth=Math.min(Se._DEFAULT_LINE_WIDTH_WITH_MARKER,h.lineWidth)),h.markerShape=p.getMarkerShape(e,t),h.markerColor=p.getMarkerColor(e,t))}else h.symbolType="line";else if("boxPlot"==s){var u=p.getBoxPlotStyleOptions(e,t);u.q2Color!=u.q3Color?(h.symbolType=l.isHorizontal(e)?"_horizontalBoxPlot":"_verticalBoxPlot",h._boxPlot=u):h.symbolType="marker"}else h.symbolType="marker","none"==p.getLineType(e,t)&&(h.markerShape=p.getMarkerShape(e,t));return h.color=p.getColor(e,t),h.borderColor=p.getBorderColor(e,t),h.pattern=p.getPattern(e,t),h.svgStyle="area"==s?p.getAreaStyle(e,t):p.getStyle(e,t),h.svgClassName="area"==s?p.getAreaClassName(e,t):p.getClassName(e,t),h.markerSvgStyle=p.getMarkerStyle(e,t),h.markerSvgClassName=p.getMarkerClassName(e,t),h.drilling=d.isSeriesDrillable(e,t)?"on":"off",h.shortDesc=i.shortDesc,h},_getRefObjItems:e=>{var t=d.getRefObjs(e);if(t.length<=0)return[];for(var i=[],r=0;r<t.length;r++){var s=t[r];if(s&&"on"==s.displayInLegend&&s.text){var a=m.getType(s);i.push({symbolType:"area"==a?"square":"line",text:s.text,color:m.getColor(e,s),lineStyle:s.lineStyle,lineWidth:m.getLineWidth(e,s),categories:m.getRefObjCategories(s),categoryVisibility:m.isObjRendered(e,s)?"visible":"hidden",shortDesc:s.shortDesc,svgStyle:s.style||s.svgStyle,svgClassName:s.className||s.svgClassName})}}return i},isLegendDrillable:function(e){var t=e.getOptions();return!!("on"===t.drilling||"seriesOnly"===t.drilling||l.isPie(e)&&"on"===t.multiSeriesDrilling)||e.getOptionsCache().getFromCache("hasDrillableSeries")},isLegendInteractive:function(e){return"none"!==O.getHideAndShowBehavior(e)||Se.isLegendDrillable(e)}};class be extends s.Overview{constructor(e){super(e.getCtx(),e.processEvent,e),this._parentChart=e,this._chart=e.overview?e.overview.getBackgroundChart():null,this._id=e.getId()+"_overview"}_renderChart(e,i,r){var s=this._parentChart.Defaults.getNoCloneObject();this._chartContainer=new t.Container(this.getCtx()),this.addChild(this._chartContainer);e=t.JsonUtils.merge({legend:{rendered:"off",size:null},xAxis:{viewportMin:null,viewportMax:null,viewportStartGroup:null,viewportEndGroup:null,axisLine:{rendered:"off"},size:null,maxSize:.5,title:null},yAxis:{rendered:"off",size:null},y2Axis:{rendered:"off",size:null},splitDualY:"off",title:{text:null},subtitle:{text:null},footnote:{text:null},titleSeparator:{rendered:"off"},styleDefaults:{animationIndicators:"none"},layout:{outerGapWidth:0,outerGapHeight:0},_isOverview:!0},e,s),l.hasGroupAxis(this._parentChart)&&(e.xAxis.tickLabel.rendered="off"),l.isStock(this._parentChart)&&e.series&&e.series[0]&&(e.series=[e.series[0]],e.series[0].type="lineWithArea");var a=this._parentChart.getOptions().overview.content,n=(e=t.JsonUtils.merge(a,e,s)).yAxis.rendered,o=e.y2Axis.rendered;e.zoomAndScroll="off",this._chart||(this._chart=this._parentChart.createOverviewChart(),this._chart.setId(this._id));var h=i,g=this._parentChart.getWidth(),u=this._parentChart.__getPlotAreaSpace(),c=d.hasY2Data(this._parentChart),p=d.hasY2DataOnly(this._parentChart),_=(n="on"===e.yAxis.rendered&&!p,o="on"===e.y2Axis.rendered&&c,u.x),m=g-(_+i);n&&(h=_+i,e.yAxis.size=_),o&&(h=(n?_:0)+m+i,e.y2Axis.size=m),this._chartContainer.addChild(this._chart),this._chart.render(e,h,r);var v=new t.Rect(this.getCtx(),0,0,h,r);v.setInvisibleFill(),this._chartContainer.addChild(v),this._chart.getEventManager().setKeyboardHandler(null);var f=this._chart.__getPlotAreaSpace();if(n){var y=this._chartContainer.getTranslateX()-f.x;this._chartContainer.setTranslateX(y)}return new t.Dimension(i,f.h+f.y)}render(e,t,i){e.overview.style={overviewBackgroundColor:"rgba(0,0,0,0)",windowBackgroundColor:"rgba(0,0,0,0)",windowBorderTopColor:"#333333",windowBorderRightColor:"#333333",windowBorderBottomColor:"#333333",windowBorderLeftColor:"#333333",leftFilterPanelColor:"rgba(5,65,135,0.1)",rightFilterPanelColor:"rgba(5,65,135,0.1)",handleBackgroundClass:e.chart._resources.overviewGrippy,handleSize:16,handleFillColor:"rgba(0,0,0,0)"},e.overview.animationOnClick="off";var r=this._renderChart(e.chart,t,i);super.render(e.overview,r.w,r.h)}destroy(){super.destroy(),this._parentChart=null,this._chart=null}getBackgroundChart(){return this._chart}isBackgroundRendered(){return!1}isLeftAndRightFilterRendered(){return!0}HandleKeyDown(e){}HandleKeyUp(e){}}class Ae extends t.Container{constructor(e,i,r,s){super(e.getCtx()),this._THREED_TILT=Y.THREED_TILT,this._THREED_DEPTH=.1,this._RADIUS=.45,this._RADIUS_LABELS=.38,this._MIN_ARC_LENGTH=1.5,this.chart=e,this._options=e.getOptions(),this._frame=i.clone(),e.pieChart=this,this.otherSlice=null;for(var a=this.getLabelPos(),n=d.getSeriesCount(e),o=0;o<n;o++){var l=d.getDataItem(e,o,0);!l||"center"!=a&&"none"!=a||"outsideSlice"!=l.labelPosition||(a="outsideSlice")}this._center=new t.Point(i.x+Math.floor(i.w/2),i.y+Math.floor(i.h/2));var h="center"==a||"none"==a?this._RADIUS:this._RADIUS_LABELS;this._radiusX=Math.floor(Math.min(i.w,i.h)*h),this._radiusY=this._radiusX,this._depth=0,this._anchorOffset=90,this.is3D()&&(this._depth=i.h*this._THREED_DEPTH,this._center.y-=Math.floor(this._depth/2),this._radiusY*=this._THREED_TILT),this._slices=this._createSlices(),this._centerLabel=null,this._shapesContainer=new t.Container(this.getCtx()),this._numFrontObjs=0,this._numSelectedObjsInFront=0}getOptions(){return this._options}highlight(e){t.CategoryRolloverHandler.highlight(e,this._slices,"any"==this.getOptions().highlightMatch)}_createSlices(){for(var e,i,r=[],s=c.getRenderedSeriesIndices(this.chart),a=c.getOtherVal(this.chart),n=0;n<s.length;n++)if(i=s[n],d.isDataItemRendered(this.chart,i)){var o=(e=new Y(this,i)).getVal();null==o||o<=0||r.push(e)}var l=d.getHiddenCategories(this.chart).indexOf(c.OTHER_ID)>=0;if(a>0&&!l){var h=new Y(this);"ascending"==this.chart.getOptions().sorting?r.unshift(h):r.push(h),this.otherSlice=h}return t.Agent.isRightToLeft(this.getCtx())&&r.reverse(),r}setInitialSelection(){var e=this.chart.getSelectionHandler();if(e){for(var t=d.getInitialSelection(this.chart),i=[],r=0;r<t.length;r++)for(var s=0;s<this._slices.length;s++){var a=this._slices[s].getId();null!=a&&(null!=t[r].id&&a.id==t[r].id||a.series==t[r].series&&a.group==t[r].group)&&i.push(a)}if(c.isOtherSliceSelected(this.chart,t)){var n=c.getOtherSliceId(this.chart);i.push(n)}e.processInitialSelections(i,this._slices)}}render(){F.addPlotAreaDnDBackground(this.chart,this,this._frame,!0),this.contains(this._shapesContainer)||(this._shapesContainer||(this._shapesContainer=new t.Container(this.getCtx())),this.addChild(this._shapesContainer)),Ae._layoutSlices(this._slices,this._anchorOffset);for(var e=2*Math.PI*this.getRadiusX(),i=0,r={},s=this.chart.getOptionsCache().getFromCache("hasLargeSeriesCount"),a=0;a<this._slices.length;a++){if(s){var n=this._slices[a].getAngleExtent(),o=n/360*e,l=(this._slices[a].getAngleStart()+n)/360*e;if(o<this._MIN_ARC_LENGTH&&Math.abs(i-l)<this._MIN_ARC_LENGTH){r[this._slices[a].getSeriesIndex()]=!0;continue}i=l}this._slices[a].preRender()}var h=Ae._orderSlicesForRendering(this._slices);this._duringDisplayAnim||(W.createPieCenter(this),W.layoutLabelsAndFeelers(this));for(a=0;a<h.length;a++)r[h[a].getSeriesIndex()]||h[a].render(this._duringDisplayAnim);this.setInitialSelection(),this.highlight(d.getHighlightedCategories(this.chart))}getTotalValue(){for(var e=0,t=0;t<this._slices.length;t++){var i=this._slices[t].getVal();i>=0&&(e+=i)}return e}static _layoutSlices(e,t){var i,r,s=0,a=e?e.length:0;t>360&&(t-=360),t<0&&(t+=360);var n=0;a>0&&(n=e[0].getPieChart().getTotalValue());for(var o=0;o<a;o++){var l=(i=e[o]).getVal();(r=t-(s=3.6*(l==n?100:0==n?0:Math.min(l/n*100,99.99))))<0&&(r+=360),i.setAngleStart(r),i.setAngleExtent(s),t=i.getAngleStart()}}static _orderSlicesForRendering(e){for(var t,i,r,s,a=[],n=e?e.length:0,o=-1,l=0;l<n;l++)if((r=(i=(t=e[l]).getAngleStart())+t.getAngleExtent())>360&&(r-=360),r<0&&(r+=360),90==r||i<90&&r>90){o=l,s=r-90;break}var h=[];for(l=o;l<n;l++)h.push(e[l]);for(l=0;l<o;l++)h.push(e[l]);var g=0,d=0,u=180+s;for(l=0;l<n;l++)if(t=h[l]){if(g+t.getAngleExtent()>u){d=l;break}a.push(t),g+=t.getAngleExtent()}for(l=n-1;l>=d;l--)(t=h[l])&&a.push(t);return a}is3D(){return"on"==this._options.styleDefaults.threeDEffect}__calcMaxExplodeDistance(){var e=.5/this._RADIUS-1;return this._radiusX*e}getAnimDuration(){return p.getAnimDur(this.chart)}getDisplayAnim(){this._duringDisplayAnim=!0;var e=new t.DataAnimationHandler(this.getCtx(),this),i=this.getAnimDuration(),r=Y.createFillerSlice(this,this.getTotalValue());this._slices.push(r);var s=new t.CustomAnimation(this.getCtx(),r,i);s.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.GetAnimParams,r.SetAnimParams,r.getDeletedAnimParams()),s.setOnEnd(r._removeDeletedSlice,r),e.add(s,0);for(var a=0;a<this._slices.length-1;a++)this._slices[a].animateInsert(e);var n=new t.CustomAnimation(this.getCtx(),this,i);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,this._getAnimParams()),e.add(n,0);var o=[];for(a=0;a<this._slices.length;a++)o=o.concat(this._slices[a].getLabelAndFeeler());var l=new t.AnimFadeIn(this._context,o,i);e.add(l,0),this._setAnimParams();var h=e.getAnimation(!0);return h.setOnEnd(this._onEnd,this),h}_onEnd(){this._duringDisplayAnim=!1,this._setAnimParams()}getCenter(){return this._center}getId(){return"chart/pie"}getInnerRadius(){return this.is3D()?0:this._options.styleDefaults.pieInnerRadius*Math.min(this._radiusX,this._radiusY)*.95}__getFrame(){return this._frame}getRadiusX(){return this._radiusX}getRadiusY(){return this._radiusY}getDepth(){return this._depth}getSliceDisplayable(e){var t=c.getSliceBySeriesIdx(this.chart,e);return t?t.getTopDisplayable():null}__getShapesContainer(){return this._shapesContainer}__getSlices(){return this._slices}animateUpdate(e,i){var r=new t.DataAnimationHandler(this.getCtx(),this);r.constructAnimation(i.__getSlices(),this.__getSlices());var s=r.getAnimation(!0),a=new t.CustomAnimation(this.getCtx(),this,this.getAnimDuration());a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,this._getAnimParams());var n=new t.ParallelPlayable(this.getCtx(),s,a);n.setOnEnd(this._setAnimParams,this),e.add(n,0),this._setAnimParams([i.getDepth(),i.getRadiusY(),i.getCenter().y])}animateInsert(e){}animateDelete(e,t){}_getAnimParams(){return[this._depth,this._radiusY,this._center.y]}_setAnimParams(e){this.removeChildren(),this._shapesContainer&&this._shapesContainer.destroy(),this._shapesContainer=null,e&&(this._depth=e[0],this._radiusY=e[1],this._center.y=e[2]),this.render()}bringToFrontOfSelection(e){var t=e.getPieChart()._shapesContainer;if(t){var i=t.getNumChildren();if(i-this._numFrontObjs>1){t.removeChild(e._topSurface[0]);var r=i-this._numFrontObjs-1;t.addChildAt(e._topSurface[0],r)}}}pushToBackOfSelection(e){for(var t=this._slices.length,i=0,r=0;r<t;r++)this._slices[r].isSelected()&&i++;this._numSelectedObjsInFront=i;var s=e.getPieChart()._shapesContainer;if(s){var a=s.getNumChildren()-this._numFrontObjs-1-this._numSelectedObjsInFront;a>=0&&(s.removeChild(e._topSurface[0]),s.addChildAt(e._topSurface[0],a))}}getLabelPos(){return Ae.parseLabelPos(this._options.styleDefaults.dataLabelPosition)}getSeriesLabelPos(e){var t=this.getLabelPos(),i=d.getDataItem(this.chart,e,0);return i&&i.labelPosition&&(t=i.labelPosition),Ae.parseLabelPos(t)}static parseLabelPos(e){return"center"==e||"inside"==e?"center":"outsideSlice"==e||"outside"==e?"outsideSlice":"none"==e?"none":"auto"}getSkin(){return this._options.skin}setCenterLabel(e){this._centerLabel=e}getCenterLabel(){return this._centerLabel}}const Me={_BUTTON_SIZE:16,_BUTTON_PADDING:5,_BUTTON_CORNER_DIST:4,_MOUSE_WHEEL_ZOOM_RATE_SLOW:.05,_MOUSE_WHEEL_ZOOM_RATE_FAST:.2,render:(e,t,i)=>{if(Me._renderBackground(e,t,i),d.hasInvalidData(e))I(e,t,i);else{l.isOverview(e)||(e.getOptions()._maxOverflowCoord=i.x+i.w,e.getOptions()._minOverflowCoord=i.x),Me._addOuterGaps(e,i);var r=i.clone();Me._renderTitles(e,t,i),Me._adjustAvailSpace(i),Se.render(e,t,i),Me._adjustAvailSpace(i);var s=Me._prerenderHorizScrollbar(e,t,i),a=Me._prerenderVertScrollbar(e,t,i);Me._adjustAvailSpace(i),e.__setAxisSpace(i.clone()),xe.render(e,t,i),Me._adjustAvailSpace(i),Me._positionLegend(e.legend,i),e.__setPlotAreaSpace(i.clone()),Me._setEventHandlers(e),Me._renderScrollbars(e,s,a),Me._updateTitles(e,t,r,i),Me._renderPlotArea(e,t,i),Me._renderDragButtons(e)}},_setEventHandlers:e=>{var i=e.getOptions(),r=e.getEventManager();if(l.hasAxes(e)&&!l.isOverview(e)){var s,a,n=new t.Rectangle(0,0,e.getWidth(),e.getHeight()),o=e.__getPlotAreaSpace(),h=e.__getAxisSpace(),g=new t.Rectangle(o.x,h.y,o.w,h.h),d=new t.Rectangle(h.x,o.y,h.w,o.h),u=new t.SolidFill(i.styleDefaults.marqueeColor),c=new t.Stroke(i.styleDefaults.marqueeBorderColor);if(O.isScrollable(e)){var p=O.isDelayedScroll(e)?Me._MOUSE_WHEEL_ZOOM_RATE_FAST:Me._MOUSE_WHEEL_ZOOM_RATE_SLOW;if(a=new t.PanZoomHandler(e,o,n,p),r.setPanZoomHandler(a),O.isZoomable(e)){var _=O.getZoomDir(e);s=l.isHorizontal(e)||"y"==_?new t.MarqueeHandler(e,o,n,u,c,!1,!0,null,d):l.isBLAC(e)||"x"==_?new t.MarqueeHandler(e,o,n,u,c,!0,!1,g,null):new t.MarqueeHandler(e,o,n,u,c,!0,!0,g,d),r.setMarqueeZoomHandler(s)}}"multiple"==i.selectionMode&&(s=new t.MarqueeHandler(e,o,n,u,c,!0,!0,g,d),r.setMarqueeSelectHandler(s))}},rerenderAxisAndPlotArea:(e,t)=>{if(!d.hasInvalidData(e)){var i=e.__getAxisSpace().clone(),r=e.getSelectionHandler();if(r)var s=r.getSelectedIds();var a=e.__cacheChartFocus();e.__cleanUpAxisAndPlotArea(),xe.render(e,t,i),Me._adjustAvailSpace(i),e.__setPlotAreaSpace(i.clone()),Me._renderPlotArea(e,t,i),r&&r.processInitialSelections(s,e.getChartObjPeers()),e.getEventManager().autoToggleZoomButton(),Me.positionDragButtons(e),e.highlight(d.getHighlightedCategories(e)),e.__restoreChartFocus(a)}},_renderBackground:(e,i,r)=>{var s=new t.Rect(e.getCtx(),r.x,r.y,r.w,r.h);s.setInvisibleFill(),i.addChild(s)},_addOuterGaps:(e,t)=>{var i=e.getOptions(),r=u.getGapWidth(e,i.layout.outerGapWidth),s=u.getGapHeight(e,i.layout.outerGapHeight);Me._needsOuterGaps(e)||(r=Math.min(r,1),s=Math.min(s,1)),t.x+=r,t.w-=2*r,t.y+=s,t.h-=2*s},_needsOuterGaps:e=>{var t=e.getOptions();return!(!l.isFunnel(e)||"on"!==t.styleDefaults.threeDEffect)||!(L.isStandalonePlotArea(e)||L.isStandaloneXAxis(e)||L.isStandaloneYAxis(e)||L.isStandaloneY2Axis(e))},_renderTitles:(e,i,r)=>{var s=e.getOptions();if(s.title.text){var a,n,o=P(e.getEventManager(),i,s.title.text,s.title.style,r.x,r.y,r.w,r.h),l=null!=s.title.hAlign?s.title.hAlign:s.title.halign,h="plotArea"==l.substring(0,8);if(o?(a=(n=o.getDimensions()).h,o.setAriaProperty("hidden",null)):(a=0,n=new t.Rectangle(0,0,0,0)),s.subtitle.text){var g=new t.OutputText(e.getCtx(),s.subtitle.text,r.x,r.y);g.setCSSStyle(s.subtitle.style),i.addChild(g);var d=g.getDimensions(),c=u.getGapWidth(e,s.layout.titleSubtitleGapWidth),p=n.w+c+d.w;if(p>r.w||h)c=u.getGapHeight(e,s.layout.titleSubtitleGapHeight),g.setY(r.y+a+c),t.TextUtils.fitText(g,r.w,r.h,i)&&(a+=(d=g.getDimensions()).h+c,t.Agent.isRightToLeft(e.getCtx())&&(g&&g.setX(r.w-d.w),o&&o.setX(r.w-n.w)));else{var _=n.h-d.h;g.setY(_+r.y),o&&(t.LayoutUtils.align(r,l,o,p),t.Agent.isRightToLeft(e.getCtx())?(g.setX(o.getX()),o.setX(o.getX()+d.w+c)):g.setX(o.getX()+p-d.w)),g.setAriaProperty("hidden",null),e.getEventManager().associate(g,new t.SimpleObjPeer(g.getUntruncatedTextString()))}}else t.LayoutUtils.align(r,l,o,n.w);h&&(e.getCache().putToCache("title",o),e.getCache().putToCache("subtitle",g));var m="on"==s.titleSeparator.rendered?s.layout.titleSeparatorGap:s.layout.titlePlotAreaGap;if(r.y+=a+u.getGapHeight(e,m),r.h-=a+u.getGapHeight(e,m),"on"==s.titleSeparator.rendered){var v=new t.Line(e.getCtx(),r.x,r.y,r.x+r.w,r.y),f=new t.Line(e.getCtx(),r.x,r.y+1,r.x+r.w,r.y+1);v.setSolidStroke(s.titleSeparator.upperColor),f.setSolidStroke(s.titleSeparator.lowerColor),i.addChild(v),i.addChild(f);var y=2+u.getGapHeight(e,s.layout.titlePlotAreaGap);r.y+=y,r.h-=y}}if(s.footnote.text){var C=P(e.getEventManager(),i,s.footnote.text,s.footnote.style,r.x,0,r.w,r.h),x=null!=s.footnote.hAlign?s.footnote.hAlign:s.footnote.halign,S="plotArea"==x.substring(0,8);if(C){var b=C.getDimensions();C.setY(r.y+r.h-b.h),r.h-=b.h+u.getGapHeight(e,s.layout.footnoteGap),t.LayoutUtils.align(r,x,C,b.w),C.setAriaProperty("hidden",null)}S&&e.getCache().putToCache("footnote",C)}},_updateTitles:(e,t,i,r)=>{var s=e.getOptions(),a=null!=s.title.hAlign?s.title.hAlign:s.title.halign,n=null!=s.footnote.hAlign?s.footnote.hAlign:s.footnote.halign,o=s.title.text&&"plotArea"==a.substring(0,8),l=s.footnote.text&&"plotArea"==n.substring(0,8);if(i.x=r.x,i.w=r.w,o){var h,g=e.getCache().getFromCache("title"),d=e.getCache().getFromCache("subtitle"),u=g.getDimensions();Me._alignTextToPlotArea(t,i,a,g,u.w),d&&(h=d.getDimensions(),Me._alignTextToPlotArea(t,i,a,d,h.w))}if(l){var c=e.getCache().getFromCache("footnote"),p=c.getDimensions();Me._alignTextToPlotArea(t,i,n,c,p.w)}},_alignTextToPlotArea:(e,i,r,s,a)=>{t.TextUtils.fitText(s,i.w,i.h,e)&&("plotAreaStart"==r?t.LayoutUtils.align(i,"start",s,a):"plotAreaCenter"==r?t.LayoutUtils.align(i,"center",s,a):"plotAreaEnd"==r&&t.LayoutUtils.align(i,"end",s,a))},_renderPlotArea:(e,i,r)=>{if(l.hasAxes(e)){var s=new t.Container(e.getCtx());s.setTranslate(r.x,r.y),i.addChildAt(s,1),e.setPlotArea(s),e.getEventManager().associate(s,new t.SimpleObjPeer(null,null,null,{type:"plotArea"}));var a=new t.Rectangle(0,0,r.w,r.h);fe.render(e,s,a)}else if(l.isPie(e)){var n=new Ae(e,r);n.__getSlices().length>0?(i.addChild(n),e.setPlotArea(n),n.render()):I(e,i,r)}else l.isFunnel(e)?H.render(e,i,r):l.isPyramid(e)&&G.render(e,i,r);r.w=0,r.h=0},_prerenderHorizScrollbar:(e,i,r)=>{var s=r.w,a=0;return O.isScrollable(e)&&O.isHorizScrollbarSupported(e)?p.isOverviewRendered(e)?(a=Math.min(p.getOverviewHeight(e),r.h))>0&&(e.overview=new be(e),i.addChild(e.overview),t.LayoutUtils.position(r,"bottom",e.overview,s,a,10)):(a=e.getOptions().styleDefaults._scrollbarHeight,e.xScrollbar=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e),i.addChild(e.xScrollbar),t.LayoutUtils.position(r,"bottom",e.xScrollbar,s,a,8),e.overview=null):e.overview=null,new t.Dimension(s,a)},_prerenderVertScrollbar:(e,i,r)=>{var s=0,a=r.h;if(O.isScrollable(e)&&O.isVertScrollbarSupported(e)){s=e.getOptions().styleDefaults._scrollbarHeight;var n=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e);i.addChild(n),t.LayoutUtils.position(r,t.Agent.isRightToLeft(e.getCtx())?"right":"left",n,s,a,8),l.isHorizontal(e)?e.xScrollbar=n:e.yScrollbar=n}return new t.Dimension(s,a)},_renderScrollbars:(e,i,r)=>{var s=e.getOptions(),a={color:s.styleDefaults._scrollbarHandleColor,backgroundColor:s.styleDefaults._scrollbarTrackColor},n=e.__getPlotAreaSpace();if(e.xScrollbar&&(a.min=e.xAxis.getLinearGlobalMin(),a.max=e.xAxis.getLinearGlobalMax(),l.isHorizontal(e)?(a.isHorizontal=!1,a.isReversed=!1,e.xScrollbar.setTranslateY(n.y),e.xScrollbar.render(a,r.w,n.h)):(a.isHorizontal=!0,a.isReversed=t.Agent.isRightToLeft(e.getCtx()),e.xScrollbar.setTranslateX(n.x),e.xScrollbar.render(a,n.w,i.h)),e.xScrollbar.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())),e.yScrollbar&&(a.min=e.yAxis.getLinearGlobalMin(),a.max=e.yAxis.getLinearGlobalMax(),a.isHorizontal=!1,a.isReversed=!0,e.yScrollbar.setTranslateY(n.y),e.yScrollbar.render(a,r.w,n.h),e.yScrollbar.setViewportRange(e.yAxis.getLinearViewportMin(),e.yAxis.getLinearViewportMax())),e.overview){var o=e.Defaults.getNoCloneObject(),h={overview:{xMin:e.xAxis.getLinearGlobalMin(),xMax:e.xAxis.getLinearGlobalMax(),x1:e.xAxis.getLinearViewportMin(),x2:e.xAxis.getLinearViewportMax(),minimumWindowSize:e.xAxis.getInfo().getMinExtent()},chart:t.JsonUtils.clone(s,null,o)};O.isZoomable(e)||(h.featuresOff="zoom"),h.chart._minOverflowCoord=s._minOverflowCoord-n.x,h.chart._maxOverflowCoord=s._maxOverflowCoord-n.x,e.overview.setTranslateX(n.x),e.overview.render(h,n.w,i.h),e.overview.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())}},_positionLegend:(e,t)=>{if(e){var i=e.getDimensions(),r=e.getOptions().orientation;"vertical"==r&&i.h<=t.h?e.setTranslateY(Math.round(t.y+t.h/2-i.h/2)):"horizontal"==r&&i.w<=t.w&&e.setTranslateX(Math.round(t.x+t.w/2-i.w/2))}},_renderDragButtons:e=>{var i=Me._BUTTON_SIZE+2*(Me._BUTTON_PADDING+Me._BUTTON_CORNER_DIST),r=e.__getPlotAreaSpace();if(!(!l.hasAxes(e)||l.isOverview(e)||r.w<i||r.h<i)){var s=e.getOptions(),a=s._resources,n=s.translations,o=e.getEventManager(),h=s.dragMode;if("user"==h){var g,d,u,c=t.Agent.isTouchDevice(),p=O.isScrollable(e);e.dragButtons=new t.Container(e.getCtx());var _=[],m="multiple"==s.selectionMode&&(c||p),v=p&&c,f=p&&!c&&O.isZoomable(e)&&l.isScatterBubble(e);m&&a.select&&_.push(a.select),v&&a.pan&&_.push(a.pan),f&&a.zoom&&_.push(a.zoom),u=t.ToolkitUtils.getIconStyles(e.getCtx(),_),m&&(d=v||f?"end":"solo",o.selectButton=Me._createDragButton(e,e.dragButtons,u[a.select],o.onSelectButtonClick,o,d),g=n.tooltipSelect,o.selectButton.setTooltip(g),o.associate(o.selectButton,o.selectButton)),v&&(d=m?"start":"solo",o.panButton=Me._createDragButton(e,e.dragButtons,u[a.pan],o.onPanButtonClick,o,d),g=n.tooltipPan,o.panButton.setTooltip(g),o.associate(o.panButton,o.panButton)),f&&(d=m?"start":"solo",o.zoomButton=Me._createDragButton(e,e.dragButtons,u[a.zoom],o.onZoomButtonClick,o,d),g=n.tooltipZoom,o.zoomButton.setTooltip(g),o.associate(o.zoomButton,o.zoomButton)),Me.positionDragButtons(e),o.setDragMode(null),e.dragButtons.getNumChildren()>0&&(e.addChild(e.dragButtons),c?p&&(o.panButton.setToggled(!0),o.onPanButtonClick(null)):e.hideDragButtons(),e.dragButtons.setCursor("default"))}else"pan"==h?o.setDragMode(X.DRAG_MODE_PAN):"zoom"==h?o.setDragMode(X.DRAG_MODE_ZOOM):"select"==h?o.setDragMode(X.DRAG_MODE_SELECT):o.setDragMode(X.DRAG_MODE_OFF)}},_positionDragButton:(e,i,r)=>{var s;t.Agent.isRightToLeft(e.getCtx())?(s=r.x+Me._BUTTON_PADDING,r.x+=Me._BUTTON_SIZE+2*Me._BUTTON_PADDING):s=r.x+r.w-Me._BUTTON_SIZE-Me._BUTTON_PADDING,r.w-=Me._BUTTON_SIZE+2*Me._BUTTON_PADDING,i.setTranslate(s,r.y+Me._BUTTON_PADDING)},positionDragButtons:e=>{var t=e.__getPlotAreaSpace().clone();t.x+=Me._BUTTON_CORNER_DIST,t.w-=2*Me._BUTTON_CORNER_DIST,t.y+=Me._BUTTON_CORNER_DIST;var i=e.getEventManager();i.selectButton&&Me._positionDragButton(e,i.selectButton,t),i.panButton&&Me._positionDragButton(e,i.panButton,t),i.zoomButton&&Me._positionDragButton(e,i.zoomButton,t)},_createDragButtonBackground:(e,i)=>{var r=t.Agent.isRightToLeft(e),s="start"==i&&r||"end"==i&&!r?0:2,a="start"==i&&!r||"end"==i&&r?0:2,n=s,o=a,l=-Me._BUTTON_PADDING,h=Me._BUTTON_SIZE+2*Me._BUTTON_PADDING,g=t.PathUtils.roundedRectangle(l,l,h,h,n,a,o,s),d=new t.Path(e,g);return d.setPixelHinting(t.Agent.getDevicePixelRatio()>1),d},_getImageUrl:(e,t,i,r)=>{var s,a=e.getOptions()._resources[i];return null==a?r:null!=(s=t[a])?s:a},_createDragButton:(e,i,r,s,a,n)=>{var o=e.getCtx(),l=Me._createDragButtonBackground(o,n),h=new t.IconButton(o,"outlined",{style:r,size:Me._BUTTON_SIZE},l,null,s,a);if(t.Agent.isTouchDevice()){var g,d=t.Agent.isRightToLeft(o),u=2*Me._BUTTON_PADDING;(g="solo"==n?new t.Rect(o,-u,-u,Me._BUTTON_SIZE+2*u,Me._BUTTON_SIZE+2*u):"start"==n&&!d||"end"==n&&d?new t.Rect(o,-u,-u,Me._BUTTON_SIZE+1.5*u,Me._BUTTON_SIZE+2*u):new t.Rect(o,-.5*u,-u,Me._BUTTON_SIZE+1.5*u,Me._BUTTON_SIZE+2*u)).setInvisibleFill(),g.setSolidStroke("none"),h.addChild(g)}return h.setToggleEnabled(!0),i.addChild(h),h.addEvtListener(t.MouseEvent.MOUSEDOWN,e=>{e.stopPropagation()}),h},_adjustAvailSpace:e=>{e.x=Math.round(e.x),e.y=Math.round(e.y),e.w=Math.round(e.w),e.h=Math.round(e.h)},renderDataCursor:e=>{var t=null,i=e.getOptions(),r=e.getEventManager();if(v.isDataCursorEnabled(e)){(t=new _(e.getCtx(),i.styleDefaults.dataCursor,l.isHorizontal(e))).setBehavior(v.getDataCursorBehavior(e)),e.addChild(t);var s=new ye(e,t);r.setDataCursorHandler(s),e.positionDataCursor(i.dataCursorPosition)}else r.setDataCursorHandler(null);return t}},Te={processDataObj:e=>{if(d.hasData(e)){var i=e.getOptions(),r=e.getOptionsCache(),s=d.getSeriesCount(e);l.isValidType(e)||(i.type="bar");var a=!1,n=!1,o=!0,h=null,g=!1,u=!1,c=!1,_=!1,m=!1,v=l.isStock(e);v&&s>1&&(i.series=i.series.slice(0,1),s=1);var f=l.isMixedFrequency(e),y=s>100;r.putToCache("hasLargeSeriesCount",y);for(var C=0,x=e.getSeriesStyleArray(),S=0;S<s;S++){var b=d.getSeries(e,S);!y&&null!=b&&x.indexOf(b)<0&&x.push(b);var A=d.getSeriesItem(e,S);if(A.items&&A.items.length>C&&(C=A.items.length),"hidden"===A.visibility){var M=d.getHiddenCategories(e);M.indexOf(b)<0&&M.push(b)}if(A.visibility=null,"on"===A.assignedToY2&&(a=!0),"on"===A.displayInLegend&&(_=!0),"on"===A.drilling&&(m=!0),A&&A.items)for(var T,w=A.items,D=0;D<w.length;D++)null!=w[D]&&("object"!=typeof(T=w[D])&&(T={y:T},w[D]=T),f||null==T.x||(T.x=Number(T.x)),null!=T.y&&(T.y=Number(T.y),T.y<0&&(u=!0)),null!=T.z?(T.z=Number(T.z),null==h?h=T.z:h!=T.z&&(o=!1)):h=1,null!=T.value&&(T.value=Number(T.value),T.value<0&&(u=!0)),null!=T.targetValue&&(T.targetValue=Number(T.targetValue)),null!=T.open&&(T.open=Number(T.open),g=!0),null!=T.close&&(T.close=Number(T.close),g=!0,T.close<0&&(u=!0)),null!=T.low&&(T.low=Number(T.low),g=!0),null!=T.high&&(T.high=Number(T.high),g=!0),null!=T.volume&&(T.volume=Number(T.volume),n=!0),(T.color||T.borderColor||T.borderWidth||T.style||T.svgStyle||T.className||T.svgClassName)&&r.putToCachedMap("itemStyleSet",S,!0),"outsideBarEdge"==T.labelPosition&&(c=!0))}if(r.putToCache("hasVolume",n),r.putToCache("hasConstantZValue",o),r.putToCache("constantZValue",o?h:null),r.putToCache("hasLowHighSeries",g),r.putToCache("hasNegativeValues",u),r.putToCache("hasDataOutsideBarEdge",c),r.putToCache("hasSeriesDisplayedInLegend",_),r.putToCache("hasDrillableSeries",m),v&&d.hasVolumeSeries(e)&&!l.isOverview(e)){var O=t.JsonUtils.clone(d.getSeriesItem(e,0));O.assignedToY2="on",a=!0,O.type="bar",O.categories=d.getCategories(e,0),O.id="_volume",O._selectable="off",O.items=[];for(var P=A?A.items.length:0,E=0;E<P;E++){var I={};I.color=p.getStockVolumeColor(e,0,E),I.x=A&&A.items[E].x,I.value=A&&A.items[E].volume,I.drilling="off",O.items.push(I)}i.series.push(O),r.putToCachedMap("itemStyleSet",i.series.length-1,!0)}r.putToCache("hasY2Assignment",a);for(var L=d.getRefObjs(e),R=0;R<L.length;R++){var k=L[R].items;if(k)for(var B=0;B<k.length;B++){var F=k[B];F&&("object"!=typeof F?k[B]=Number(F):(!l.isMixedFrequency(e)&&F.x&&(F.x=Number(F.x)),F.max&&(F.max=Number(F.max)),F.min&&(F.min=Number(F.min)),F.value&&(F.value=Number(F.value))))}}i.groups||(i.groups=[]);for(var H=d.getGroupCount(e),N=0;N<C-H;N++){var G=i.translations.labelDefaultGroupName||"Group {0}",j=t.ResourceUtils.format(G,[i.groups.length+1]);i.groups.push(j)}r.putToCache("groupsArray",null),Te._processTimeAxis(e);var V=i.sorting;if(V="on"===V?"descending":"ascending"!==V&&"descending"!==V?"off":V,l.isBLAC(e)&&l.hasGroupAxis(e)&&"off"!=V&&1==d.getNumLevels(e)){for(var U=d.getGroups(e),W={},Y=0;Y<U.length;Y++){for(var z=0,X=0;X<=s;X++)if(d.isSeriesRendered(e,X)&&!d.isAssignedToY2(e,X)){var K=d.getVal(e,X,Y);z+=null==K||isNaN(K)?0:K}W[U[Y]]={index:Y,total:z,group:i.groups[Y]}}"ascending"===V?U.sort((e,t)=>W[e].total-W[t].total):U.sort((e,t)=>W[t].total-W[e].total);for(var q=0;q<s;q++){for(var Z=[],Q=0;Q<U.length;Q++)Z.push(d.getDataItem(e,q,W[U[Q]].index));i.series[q].items=Z}for(var J=[],$=0;$<U.length;$++)J.push(W[U[$]].group);i.groups=J,r.putToCache("groupsArray",null),r.putToCache("value",null)}i.styleDefaults.dataCursor.lineWidth=parseFloat(i.styleDefaults.dataCursor.lineWidth),Te._sanitizeAxis(i.xAxis),Te._sanitizeAxis(i.yAxis),Te._sanitizeAxis(i.y2Axis)}},_processTimeAxis:e=>{var t,i,r=e.getCtx(),s=e.getOptions(),a=d.getSeriesCount(e),n=d.getGroupCount(e);if(l.isMixedFrequency(e))for(t=0;t<a;t++)for(i=0;i<n;i++){var o=d.getDataItem(e,t,i);null!=o&&"string"==typeof o.x&&null!=o.x&&(o.x=Te._sanitizeDateTime(r,o.x))}else if(l.hasTimeAxis(e)){for(i=0;i<n;i++){var h=d.getGroup(e,i);null!=h&&(s.groups[i]=Te._sanitizeDateTime(r,h))}e.getOptionsCache().putToCache("groupsArray",null)}if(l.hasTimeAxis(e)){var g=s.xAxis;null!=g.dataMin&&(g.dataMin=Te._sanitizeDateTime(r,g.dataMin)),null!=g.dataMax&&(g.dataMax=Te._sanitizeDateTime(r,g.dataMax)),null!=g.min&&(g.min=Te._sanitizeDateTime(r,g.min)),null!=g.max&&(g.max=Te._sanitizeDateTime(r,g.max)),null!=g.viewportMin&&(g.viewportMin=Te._sanitizeDateTime(r,g.viewportMin)),null!=g.viewportMax&&(g.viewportMax=Te._sanitizeDateTime(r,g.viewportMax)),null!=g.viewportStartGroup&&(g.viewportStartGroup=Te._sanitizeDateTime(r,g.viewportStartGroup)),null!=g.viewportEndGroup&&(g.viewportEndGroup=Te._sanitizeDateTime(r,g.viewportEndGroup));for(var u=d.getRefObjs(e),c=0;c<u.length;c++){var p=u[c].items;if(p)for(var _=0;_<p.length;_++)p[_]&&null!=p[_].x&&(p[_].x=Te._sanitizeDateTime(r,p[_].x)),p[_]&&null!=p[_].value&&(p[_].value=Te._sanitizeDateTime(r,p[_].value));else u[c].value&&null!=u[c].value&&(u[c].value=Te._sanitizeDateTime(r,u[c].value))}}},_sanitizeAxis:e=>{e.min==e.max&&(e.min=null,e.max=null)},_sanitizeDateTime:(e,t)=>{var i=null,r=e.getLocaleHelpers().isoToDateConverter;if(r){try{i=r(t)}catch(e){i=null}i=null!=i&&i.getTime?i.getTime():null}return null==i?isNaN(t)?Date.parse(t):t:i}};class we extends t.BaseComponent{constructor(e,t,i,r){super(e,t,i,r),r||(this.Defaults=new u(e),this.EventManager=new X(this),this.EventManager.addListeners(this),this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("chart1000"+Math.floor(1e9*Math.random())),this.legend=null,this.xAxis=null,this.yAxis=null,this.y2Axis=null,this.overview=null,this.xScrollbar=null,this.yScrollbar=null,this.dragButtons=null,this.pieChart=null,this.pieCenterDiv=null,this.Peers=[],this.SeriesStyleArray=[],this._numFrontObjs=0,this._numSelectedObjsInFront=0,this._dataLabels=null,this._rawOptions=null)}static getDefaults(e){return(new u).getDefaults(e)}createOverviewChart(){return new we(this.getCtx())}GetComponentDescription(){var e=this.getOptions(),i=e.translations.componentName,r="",s=t.AriaUtils.ARIA_LABEL_DESC_DELIMITER;return e.title.text&&(r+=this.Options.title.text,e.subtitle.text&&(r+=s+this.Options.subtitle.text)),e.footnote.text&&(r=0===r.length?this.Options.footnote.text:r.concat(s,this.Options.footnote.text)),r.length>0?t.ResourceUtils.format(this.Options.translations.labelAndValue,[i,r]):i}SetOptions(e){super.SetOptions(e),e?(this._rawOptions=e,this.Options=this.Defaults.calcOptions(e),Te.processDataObj(this),(t.Agent.isEnvironmentTest()||l.isScatterBubble(this)&&d.getSeriesCount(this)*d.getGroupCount(this)>fe.FILTER_THRESHOLD_SCATTER_BUBBLE)&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults());var i=this.Options.selectionMode;this._selectionHandler="single"===i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_SINGLE):"multiple"===i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_MULTIPLE):null,this.EventManager.setSelectionHandler(this._selectionHandler)}render(e,i,r){this.getCache().clearCache();var s=this.getCtx(),a=e?.animationOnDataChange||this.Options?.animationOnDataChange||"none",n="none"!=a?new De(this):null,o=this.__cacheChartFocus();this._container&&this.__cleanUp(),this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r);var h=new t.Container(s);this.addChild(h),Me.render(this,h,new t.Rectangle(0,0,this.Width,this.Height)),l.isSpark(this)&&(this.EventManager.removeListeners(this),this.xAxis&&this.xAxis.EventManager.removeListeners(this.xAxis),this.yAxis&&this.yAxis.EventManager.removeListeners(this.yAxis)),this.StopAnimation();var g=p.getAnimOnDisplay(this),d=p.getAnimDur(this),u=new t.Rectangle(0,0,this.Width,this.Height),c=!1;if(this._container){if("none"!=a&&e)if(this.Animation=t.BlackBoxAnimationHandler.getCombinedAnimation(s,a,this._container,h,u,d),this.Animation)c=!0;else if("auto"===a&&this.getPlotArea()){var _=this.__getPlotAreaSpace();this._delContainer=fe.createClippedGroup(this,this._container,new t.Rectangle(0,0,_.w,_.h)),this.Animation=ue.createAnim(n,this,a,d,this._delContainer),this._delContainer.getNumChildren()>0&&this.getPlotArea().addChild(this._delContainer)}}else"none"!=g&&(this.Animation=t.BlackBoxAnimationHandler.getInAnimation(s,g,h,u,d),this.Animation||"auto"!==g||(this.Animation=ce.createAnim(this,g,d)));this.Animation?(this.EventManager.removeListeners(this),t.Playable.appendOnEnd(this.Animation,this._onAnimationEnd,this),this.Animation.play(),this._oldContainer=this._container,!c&&this._oldContainer&&this._oldContainer.removeFromParent()):this._container&&(this._container.removeFromParent(),this._container.destroy(),this._container=null),this._container=h,this._dataCursor=Me.renderDataCursor(this),this.UpdateAriaAttributes(),this.__restoreChartFocus(o),this.Animation||this.RenderComplete()}__cleanUp(){this._dataCursor&&(this.removeChild(this._dataCursor),this._dataCursor=null),this.EventManager&&(this.EventManager.hideHoverFeedback(),this.EventManager.setPanZoomHandler(null),this.EventManager.setMarqueeZoomHandler(null),this.EventManager.setMarqueeSelectHandler(null),this.EventManager.panButton=null,this.EventManager.zoomButton=null,this.EventManager.selectButton=null),this.pieCenterDiv&&(this.getCtx().getContainer().removeChild(this.pieCenterDiv),this.pieCenterDiv=null),this.Peers=[],this.xScrollbar=null,this.yScrollbar=null,this.dragButtons&&(this.removeChild(this.dragButtons),this.dragButtons.destroy(),this.dragButtons=null),this._plotArea=null,this._areaContainer=null,this._dataLabels=null,this.getCache().clearCache()}__cleanUpAxisAndPlotArea(){this.EventManager.hideHoverFeedback(),this.Peers=[],this.xAxis&&(this._container.removeChild(this.xAxis),this.xAxis.destroy()),this.yAxis&&(this._container.removeChild(this.yAxis),this.yAxis.destroy()),this.y2Axis&&(this._container.removeChild(this.y2Axis),this.y2Axis.destroy()),this._plotArea&&this._plotArea==this._panZoomTarget?this._plotArea.setVisible(!1):this._plotArea&&(this._container.removeChild(this._plotArea),this._plotArea.destroy()),this._plotArea=null,this.getCache().clearCache()}_onAnimationEnd(){this._oldContainer&&(this._oldContainer.removeFromParent(),this._oldContainer.destroy(),this._oldContainer=null),this._delContainer&&(this._delContainer.removeFromParent(),this._delContainer.destroy(),this._delContainer=null),this.AnimationStopped||this.RenderComplete(),this.EventManager.addListeners(this),this.Animation=null,this.AnimationStopped=!1}CreateKeyboardHandler(e){return new K(e,this)}getAutomation(){return new z(this)}getValsAt(e,t){var i=this.__getPlotAreaSpace(),r=e-i.x,s=t-i.y,a=l.isPolar(this),n=l.isHorizontal(this);if(a){r-=i.w/2,s-=i.h/2;var o=Math.sqrt(r*r+s*s),h=Math.atan2(r,-s);return h<0&&(h+=2*Math.PI),{x:this.xAxis?this.xAxis.getValAt(h):null,y:this.yAxis?this.yAxis.getValAt(o):null}}return{x:this.xAxis?this.xAxis.getValAt(n?s:r):null,y:this.yAxis?this.yAxis.getValAt(n?r:s):null,y2:this.y2Axis?this.y2Axis.getValAt(n?r:s):null}}filter(e,t){var i="out"===t?"hidden":"visible";F.setVisibility(this,e,i),this.render(this.Options)}highlight(e){this.getOptions().highlightedCategories=t.JsonUtils.clone(e),t.CategoryRolloverHandler.highlight(e,this.getObjects(),"any"===this.getOptions().highlightMatch),this.legend&&this.legend.highlight(e),this.pieChart&&this.pieChart.highlight(e),this.overview&&this.overview.getBackgroundChart().highlight(e)}select(e){this.getOptions().selection=t.JsonUtils.clone(e);var i=d.getInitialSelection(this);F.setInitialSelection(this,i),this.pieChart&&this.pieChart.setInitialSelection()}positionDataCursor(e){var i=this.getEventManager().getDataCursorHandler();if(i){if(e){var r=this.xAxis&&null!=e.x?this.xAxis.getCoordAt(e.x):null,s=null;if(l.isBLAC(this)?this.yAxis&&null!=e.y?s=this.yAxis.getBoundedCoordAt(e.y):this.y2Axis&&null!=e.y2&&(s=this.yAxis.getBoundedCoordAt(e.y2)):s=this.yAxis&&null!=e.y?this.yAxis.getCoordAt(e.y):null,null!=r&&null!=s){var a=this.__getPlotAreaSpace(),n=h.convertAxisCoord(this,new t.Point(r,s),a);return void i.processMove(new t.Point(a.x+n.x,a.y+n.y),!0)}}i.processEnd(!0)}}processEvent(e,t){var i=e.type;if("categoryHide"===i||"categoryShow"===i)this.filter(e.category,"categoryHide"===i?"out":"in");else if("categoryHighlight"===i)this!=t&&this.highlight(e.categories),this.legend&&this.legend!=t&&this.legend.processEvent(e,t);else if("selection"===i)e=this._processSelectionEvent(e);else if("dvtPanZoom"===i)e=this._processPanZoomEvent(e);else if("dvtMarquee"===i)e=this._processMarqueeEvent(e);else if("overview"===i){var r=e.subtype;if("dropCallback"===r)return;var s="scrollTime"===r||"scrollEnd"===r||"rangeChange"===r;e=this._processScrollbarEvent(e.newX1,e.newX2,s,t)}else if("dvtSimpleScrollbar"===i)e=this._processScrollbarEvent(e.newMin,e.newMax,"end"===e.subtype,t);else if("ready"===i&&this!=t)return;if(e){if("selection"===(i=e.type)){var a,n,o=this.getOptions(),l=o.selection,h=d.getCurrentSelection(this);e.complete&&(o.selection=h),l=l||[],h=h||[];var g={};for(a=0;a<l.length;a++)g[l[a].id]=!0;var u={};for(n=0;n<h.length;n++)u[h[n].id]=!0;var c={};for(n=0;n<h.length;n++){var p=h[n].id;g[p]||(c[p]=!0)}var _={};for(a=0;a<l.length;a++){var m=l[a].id;u[m]||(_[m]=!0)}e.addedSet=c,e.removedSet=_;for(var v=0;v<e.selection.length;v++)F.addEventData(this,e.selection[v]);e.component=this.getOptions()._widgetConstructor}else if("drill"===i){if(e.subType||(e.subType="_dvtOther"===e.id?"multiSeries":"series",e.series=e.id),this._processDrillSubType(e),"multiSeries"===e.subType)return;F.addEventData(this,e),delete e.subType,e.component=this.getOptions()._widgetConstructor}this.dispatchEvent(e)}}_processDrillSubType(e){var t,i=e.subType;"item"===i?t=F.addItemDrillEventData(this,e):"group"===i?t=F.addGroupDrillEventData(this,e):"series"===i?t=F.addSeriesDrillEventData(this,e):"multiSeries"===i&&(t=F.addMultiSeriesDrillEventData(this,e)),this.dispatchEvent(t)}_processSelectionEvent(e){var i=F.processIds(this,e.selection);return this._updateOverviewSelection(),t.EventFactory.newChartSelectionEvent(i,!0)}_processPanZoomEvent(e){var i=e.subtype;return"panStart"===i||"pinchStart"===i?(t.Agent.isTouchDevice()&&this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=this._plotArea),null):(this._lastPanZoomEvent?(e.dxMin+=this._lastPanZoomEvent.dxMin,e.dxMax+=this._lastPanZoomEvent.dxMax,e.dyMin+=this._lastPanZoomEvent.dyMin,e.dyMax+=this._lastPanZoomEvent.dyMax):t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animatePanZoomEvent)),this._lastPanZoomEvent=e,null)}_animatePanZoomEvent(){var e=this._lastPanZoomEvent;this._lastPanZoomEvent=null;var i,r,s=e.subtype,a="panEnd"===s||"zoom"===s||"pinchEnd"===s;(O.isLiveScroll(this)?(i=F.getAxisBoundsByDelta(this,e.dxMin,e.dxMax,e.dyMin,e.dyMax),this._setScrollbarViewport(i),this._setViewport(i,a)):(i=F.getAxisBoundsByDelta(this,e.dxMinTotal,e.dxMaxTotal,e.dyMinTotal,e.dyMaxTotal),this._setScrollbarViewport(i),a&&this._setViewport(i,a)),a&&(Me._setEventHandlers(this),this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=null)),a||!i.unchanged)&&(r=l.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(a,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(a,i.xMin,i.xMax,null,null,i.yMin,i.yMax),this.dispatchEvent(r))}_processMarqueeEvent(e){var i,r=e.subtype,s=this.EventManager;if(F.adjustBounds(e),s.getDragMode()===X.DRAG_MODE_SELECT){var a=s.getSelectionHandler();if("start"===r)this._initSelection=e.ctrlKey?a.getSelectedIds():[];else{var n=F.getBoundedObjs(this,e);a.processInitialSelections(this._initSelection,this.getChartObjPeers()),a.processGroupSelection(n,!0)}var o=a.getSelectedIds();i=F.getAxisBounds(this,e,!1);var h="end"===r,g=t.EventFactory.newChartSelectionEvent(o,h,i.xMin,i.xMax,i.startGroup,i.endGroup,i.yMin,i.yMax,i.y2Min,i.y2Max);return"end"===r&&this._updateOverviewSelection(),g}return s.getDragMode()===X.DRAG_MODE_ZOOM?"end"!=r?null:(i=F.getAxisBounds(this,e,!0),this._setViewport(i,!0),this._setScrollbarViewport(i),Me._setEventHandlers(this),l.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,null,null,i.yMin,i.yMax)):null}_processScrollbarEvent(e,i,r,s){return this._lastScrollbarEvent||t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animateScrollbarEvent)),this._lastScrollbarEvent={start:e,end:i,actionDone:r,source:s},null}_animateScrollbarEvent(){var e=this._lastScrollbarEvent.start,i=this._lastScrollbarEvent.end,r=this._lastScrollbarEvent.actionDone,s=this._lastScrollbarEvent.source;this._lastScrollbarEvent=null;var a=s==this.yScrollbar?this.yAxis:this.xAxis,n=F.getActualMinMax(a,e,i);if(e=n.min,i=n.max,(O.isLiveScroll(this)||r)&&(s==this.yScrollbar?this._setViewport({yMin:e,yMax:i},r):this._setViewport({xMin:e,xMax:i,unchanged:n.unchanged},r)),r||!n.unchanged){var o;if(s==this.yScrollbar)o=t.EventFactory.newChartViewportChangeEvent(r,null,null,null,null,e,i,null,null);else{var l=F.getAxisStartEndGroup(this.xAxis,e,i);o=t.EventFactory.newChartViewportChangeEvent(r,e,i,l.startGroup,l.endGroup,null,null,null,null)}this.dispatchEvent(o)}}_updateOverviewSelection(){if(this.overview){var e=this.overview.getBackgroundChart();e.getOptions().selection=d.getCurrentSelection(this),e.render()}}changeOption(e,i,r){this.getOptions()[e]=i,this.dispatchEvent(t.EventFactory.newOptionChangeEvent(e,i,r))}registerObject(e){this.Peers.push(e)}getObjects(){return this.Peers}getChartObjPeers(){for(var e=[],t=0;t<this.Peers.length;t++)this.Peers[t]instanceof f&&e.push(this.Peers[t]);return e}getRefObjPeers(){for(var e=[],t=0;t<this.Peers.length;t++)this.Peers[t]instanceof y&&e.push(this.Peers[t]);return e}getObject(e,t){for(var i=0;i<this.Peers.length;i++)if(this.Peers[i]instanceof f&&this.Peers[i].getSeriesIndex()===e&&this.Peers[i].getGroupIndex()===t)return this.Peers[i];return null}getWidth(){return this.Width}getHeight(){return this.Height}getSeriesStyleArray(){return this.SeriesStyleArray}getPlotArea(){return this._plotArea}setPlotArea(e){this._plotArea=e}getType(){return this.getOptions().type}getSkin(){return this.getOptions().skin}getGapWidthRatio(){var e=this.getOptions();return null!==e.layout.gapWidthRatio?e.layout.gapWidthRatio:Math.min(this.Width/400,1)}getGapHeightRatio(){var e=this.getOptions();return null!==e.layout.gapHeightRatio?e.layout.gapHeightRatio:Math.min(this.Height/300,1)}getSelectionHandler(){return this._selectionHandler}isSelectionSupported(){return!!this._selectionHandler}_setViewport(e,t){!t&&e.unchanged||(null!=e.xMax&&(this.Options.xAxis.viewportMax=e.xMax),null!=e.xMin&&(this.Options.xAxis.viewportMin=e.xMin),l.isBLAC(this)?(this.Options.xAxis.viewportStartGroup=null,this.Options.xAxis.viewportEndGroup=null,this.Options._initialZoomed=!1):(null!=e.yMax&&(this.Options.yAxis.viewportMax=e.yMax),null!=e.yMin&&(this.Options.yAxis.viewportMin=e.yMin)),this.Options._duringZoomAndScroll=!t,Me.rerenderAxisAndPlotArea(this,this._container))}_setScrollbarViewport(e){if(this.xAxis&&null!=e.xMin&&null!=e.xMax){var t=this.xAxis.actualToLinear(e.xMin),i=this.xAxis.actualToLinear(e.xMax);this.overview&&this.overview.setViewportRange(t,i),this.xScrollbar&&this.xScrollbar.setViewportRange(t,i)}if(this.yAxis&&null!=e.yMin&&null!=e.yMax){var r=this.yAxis.actualToLinear(e.yMin),s=this.yAxis.actualToLinear(e.yMax);this.yScrollbar&&this.yScrollbar.setViewportRange(r,s)}}__setAxisSpace(e){var t,i;this._axisSpace=e,L.isAxisRendered(this,"x")?(t=.8*e.w,i=e.h-4*L.getTickLabelHeight(this,"x")):L.isAxisRendered(this,"y")?(t=e.w,i=e.h-L.getTickLabelHeight(this,"y")):(t=e.w,i=e.h),this._radius=Math.min(t,i)/2}__getAxisSpace(){return this._axisSpace}__setPlotAreaSpace(e){this._plotAreaSpace=e}__getPlotAreaSpace(){return this._plotAreaSpace}__setAreaContainer(e){this._areaContainer=e}__getAreaContainer(){return this._areaContainer}getRadius(){return this._radius}showDragButtons(){this.dragButtons&&this.dragButtons.setVisible(!0)}hideDragButtons(){this.dragButtons&&this.dragButtons.setVisible(!1)}addDataLabel(e){this.getDataLabels().push(e)}getDataLabels(){return this._dataLabels||(this._dataLabels=[]),this._dataLabels}__cacheChartFocus(){var e=this.EventManager.getFocus();if(e)var t=e.isShowingKeyboardFocusEffect();if(this.xAxis){var i=this.xAxis.getKeyboardFocus();if(i)var r=i.isShowingKeyboardFocusEffect()}if(this.legend){var s=this.legend.getKeyboardFocus();if(s)var a=s.isShowingKeyboardFocusEffect()}return{chartFocus:e,chartShowingFocusEffect:t,axisFocus:i,axisShowingFocusEffect:r,legendFocus:s,legendShowingFocusEffect:a,sorting:this.getOptions().sorting}}__restoreChartFocus(e){if(!l.isOverview(this)&&!l.isSpark(this)){var t=[this];if(this.xAxis&&this.xAxis.isNavigable()&&t.push(this.xAxis),this.legend&&this.legend.isNavigable()&&t.push(this.legend),this.getCtx().setKeyboardFocusArray(t),e.legendFocus&&(this.legend.setKeyboardFocus(e.legendFocus,e.legendShowingFocusEffect),e.legendShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.legend)),this.Options.sorting!=e.sorting){if(e.chartFocus){var i=F.getKeyboardNavigables(this);this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(i))}return e.axisFocus&&this.xAxis.setKeyboardFocus(this.xAxis.EventManager.getKeyboardHandler().getDefaultNavigable(this.xAxis.__getKeyboardObjects()),e.axisShowingFocusEffect),void(e.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis))}if(e.chartFocus){for(var r=F.getKeyboardNavigables(this),s=!1,a=0;a<r.length;a++){var n=r[a].getId();if(n instanceof o&&n.equals(e.chartFocus.getId())){this.EventManager.setFocusObj(r[a]),e.chartShowingFocusEffect&&r[a].showKeyboardFocusEffect(),s=!0;break}}s||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r))}e.axisFocus&&(this.xAxis.setKeyboardFocus(e.axisFocus,e.axisShowingFocusEffect),e.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis))}}getRawOptions(){return this._rawOptions}}class De extends we{constructor(e){super(null,null,null,!0),this.Options=e.Options,this.Peers=e.Peers,this.SeriesStyleArray=e.SeriesStyleArray,this.Cache=e.Cache,this.pieChart=e.pieChart,this._optionsCache=new t.BaseComponentCache,this._cache=new t.BaseComponentCache}getCache(){return this._cache}getOptionsCache(){return this._optionsCache}}class Oe extends t.Automation{getDataItem(e){var t=this._comp.__getChart().getAutomation().getDataItem(0,e);return t?{borderColor:t.borderColor,color:t.color,date:t.x,low:t.low,high:t.high,value:null==t.low||null==t.high?t.value:t.high-t.low}:null}}class Pe extends t.BaseComponentDefaults{constructor(e){super({alta:{skin:t.CSSStyle.SKIN_ALTA,type:"line",animationOnDisplay:"none",animationOnDataChange:"none",areaSvgClassName:"",emptyText:null,firstColor:"",lastColor:"",highColor:"",lowColor:"",visualEffects:"auto",baselineScaling:"min",barSpacing:"auto",lineWidth:1,lineStyle:"solid",lineType:"straight",markerSize:5,markerShape:"auto",barGapRatio:.25,referenceObjects:[],svgClassName:"",_statusMessageStyle:new t.CSSStyle("font-size: 12px; color: #404259;")}},e)}}class Ee extends t.EventManager{constructor(e){super(e.getCtx(),e.dispatchEvent,e,e),this._sparkChart=e}ProcessKeyboardEvent(e){if(!this.KeyboardHandler)return!1;if(e.keyCode==t.KeyboardEvent.TAB){var i=this._sparkChart.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(e,i.x,i.y,this._sparkChart.__getLogicalObj(),this._sparkChart)}return!1}OnBlur(e){super.OnBlur(e),this.hideTooltip()}}const Ie={render:(e,t,i)=>{var r=e.__getChart(),s=Ie._convertOptionsObj(e),a=e.getOptions();if("area"==a.type||"line"==a.type||"lineWithArea"==a.type){var n=Ie._getDataItems(e),o=!1;if(a.firstColor||a.lastColor||a.highColor||a.lowColor)o=!0;else for(var l=0;l<n.length;l++)if(n[l]&&"on"==n[l].markerDisplayed){o=!0;break}if(o&&n.length>0||"none"==a.lineType){var h=a.markerSize/2;t-=2*h,i-=2*h,r.setTranslate(h,h)}}r.render(s,t,i)},_getDataItems:e=>{var t=e.getOptions();return t&&t.items?t.items:[]},_convertOptionsObj:e=>{for(var i=e.getOptions(),r={styleDefaults:{},xAxis:{},yAxis:{},groups:[],translations:i.translations},s=[],a=-1,n=-1,o=-1/0,l=1/0,h=Ie._getDataItems(e),g=0;g<h.length;g++){var d=h[g],u={};d instanceof Object?(u.value=d.value,u.low=d.low,u.high=d.high,d.date&&(r.timeAxisType="enabled",r.groups.push(d.date)),"on"==d.markerDisplayed&&(u.markerDisplayed="on"),d.color&&(u.color=d.color),d.borderColor&&(u.borderColor=d.borderColor),d.markerShape&&(u.markerShape=d.markerShape),d.markerSize&&(u.markerSize=d.markerSize),(d.className||d.svgClassName)&&(u.svgClassName=d.className||d.svgClassName),(d.style||d.svgStyle)&&(u.svgStyle=d.style||d.svgStyle)):u.value=d,s.push(u);var c=null!=u.value?u.value:Math.max(u.low,u.high);o<c&&(o=c,a=g);var p=null!=u.value?u.value:Math.min(u.low,u.high);l>p&&(l=p,n=g)}if(i.highColor&&a>=0&&(s[a].markerDisplayed="on",s[a].color||(s[a].color=i.highColor)),i.lowColor&&n>=0&&(s[n].markerDisplayed="on",s[n].color||(s[n].color=i.lowColor)),i.firstColor&&s.length>0&&(s[0].markerDisplayed="on",s[0].color||(s[0].color=i.firstColor)),i.lastColor&&s.length>0&&(s[s.length-1].markerDisplayed="on",s[s.length-1].color||(s[s.length-1].color=i.lastColor)),r.series=[{items:s,areaColor:i.areaColor,svgClassName:i.className||i.svgClassName,svgStyle:i.style||i.svgStyle,areaSvgClassName:i.areaClassName||i.areaSvgClassName,areaStyle:i.areaStyle||i.areaSvgStyle}],i.referenceObjects&&i.referenceObjects.length>0){var _;r.yAxis.referenceObjects=i.referenceObjects,r._defaultReferenceObjectLineWidth=1;for(var m=0;m<i.referenceObjects.length;m++)"area"===(_=i.referenceObjects[m]).type?(null!=_.high&&(o=Math.max(o,_.high),l=Math.min(l,_.high)),null!=_.low&&(o=Math.max(o,_.low),l=Math.min(l,_.low))):null!=_.value&&(o=Math.max(o,_.value),l=Math.min(l,_.value))}r.__spark=!0;var v=i.barSpacing;"auto"==v&&(v=t.Agent.getDevicePixelRatio()>1?"subpixel":"pixel"),r.__sparkBarSpacing=v,r.type=i.type,r.animationOnDataChange=i.animationOnDataChange,r.animationOnDisplay=i.animationOnDisplay,r.emptyText=i.emptyText,i.color&&(r.styleDefaults.colors=[i.color]),r.styleDefaults.animationDuration=i.animationDuration,r.styleDefaults.animationIndicators="none",r.styleDefaults.lineWidth=i.lineWidth,r.styleDefaults.lineStyle=i.lineStyle,r.styleDefaults.lineType=i.lineType,r.styleDefaults.markerSize=i.markerSize,r.styleDefaults.markerShape=i.markerShape,r.styleDefaults.barGapRatio=i.barGapRatio,r.styleDefaults.dataItemGaps="0%",r.xAxis.rendered="off",r.yAxis.rendered="off";var f="zero"==i.baselineScaling,y=o!=l?.1*(o-l):.1*Math.abs(o);return r.yAxis.min=f&&l>=0?0:l-y,r.yAxis.max=f&&o<=0?0:o+y,"none"==i.visualEffects||"area"!=i.type&&"lineWithArea"!=i.type?r.styleDefaults.seriesEffect="color":r.styleDefaults.seriesEffect="gradient",r.layout={gapWidthRatio:0,gapHeightRatio:0},r.legend={rendered:"off"},r._statusMessageStyle=i._statusMessageStyle,r}};class Le extends t.BaseComponent{constructor(e,i,r){super(e,i,r),e.getStage().setCursor(""),this.Defaults=new Pe(e),this.EventManager=new Ee(this),this.EventManager.addListeners(this),this._chart=new we(e,this._onRenderEnd,this),this.addChild(this._chart),this.EventManager.setKeyboardHandler(new t.KeyboardHandler(this.EventManager,this)),this._tooltipMask=new t.Rect(e),this.addChild(this._tooltipMask),this.setId("sparkChart1000"+Math.floor(1e9*Math.random()))}SetOptions(e){e?(this.Options=this.Defaults.calcOptions(e),t.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults())}setId(e){super.setId(e),this._chart&&this._chart.setId(e+"chart")}render(e,i,r){this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r),this._eventReceived=!1,this._isDoneRendering=!1,Ie.render(this,this.Width,this.Height);var s=this.Options.shortDesc;this._tooltipMask.setWidth(this.Width),this._tooltipMask.setHeight(this.Height),this._tooltipMask.setInvisibleFill();var a=this.Options.tooltip,n=a?a.renderer:null,o=this.Options.color;if(n){var l={component:this.Options._widgetConstructor,color:o};this._peer=new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),n,o,l),this.EventManager.associate(this._tooltipMask,this._peer)}else s?(this._peer=new t.SimpleObjPeer(null,s,o),this.EventManager.associate(this._tooltipMask,this._peer)):this._peer=null;this.Options._selectingCursor&&this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.UpdateAriaAttributes(),this._eventReceived&&this.RenderComplete(),this._isDoneRendering=!0}_onRenderEnd(e){this._eventReceived=!0,"ready"==e.type&&this._isDoneRendering&&this.RenderComplete()}__getChart(){return this._chart}getAutomation(){return new Oe(this)}UpdateAriaAttributes(){var e=t.Displayable.generateAriaLabel(t.AriaUtils.processAriaLabel(this.GetComponentDescription()),this.Options.shortDesc?[this.Options.shortDesc]:null),i=this.Options.translations;this.IsParentRoot()?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,e]))):(this.setAriaRole("img"),this.setAriaProperty("label",e))}__getLogicalObj(){return this._peer}}e.Chart=we,e.SparkChart=Le,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojgauge-toolkit",["exports","ojs/ojdvt-toolkit","ojs/ojdvt-axis"],function(e,t,i){"use strict";const r={hasData:e=>{var t=e.getOptions();return t&&null!=t.value&&r.hasValidData(e)},hasValidData:e=>{var t=e.getOptions();return Number(t.min)<Number(t.max)},getValThresholdIdx:(e,t)=>{var i=e.getOptions(),r=null!=t?t:i.value,s=i.thresholds;if(!s)return-1;for(var a=0;a<s.length;a++)if(r<=s[a].max)return a;return s.length-1},getThreshold:(e,t)=>{var i=e.getOptions().thresholds;return i&&t>=0&&t<i.length?i[t]:null},getReferenceObject:(e,t)=>{var i=e.getOptions().referenceLines;return i&&t>=0&&t<i.length?i[t]:null}},s={renderEmptyText:(e,i,s)=>{var a=e.getOptions(),n=a.translations,o=a.emptyText;o||(o=n.labelNoData),r.hasValidData(e)||(o=n.labelInvalidData);var l=a._statusMessageStyle;if(l.getStyle("font-size")||l.setStyle("font-size","13px"),"statusMeter"===e.type){var h=l.getStyle("color");h=h||"#333333",l.setStyle("color",h)}e.renderEmptyText(i,o,new t.Rectangle(s.x,s.y,s.w,s.h),e.getEventManager(),l)},getFormattedMetricLabel:(e,t)=>{var i=t.getOptions();if(i.metricLabel.text)return i.metricLabel.text;var r=i.metricLabel.converter,a=i.metricLabel.scaling,n=i.metricLabel.autoPrecision?i.metricLabel.autoPrecision:"on",o="percent"===i.metricLabel.textType;return s._formatMetricLabelValue(e,t,r,a,n,o)},_formatMetricLabelValue:(e,t,r,a,n,o)=>{var l,h=t.getOptions(),g=h.min,d=h.max,u=d-g,c=u<1e3?100:1e3,p=null;isNaN(u)||(p=u/c),o&&(e=s.getFillPercentage(h,h.min,h.max,e,!0));var _=new i.LinearScaleAxisValueFormatter(g,d,p,a,n,h.translations);if(r&&r.format)l=_.format(e,r);else if(o){var m=t.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:0,minimumFractionDigits:0});l=m&&m.format?m.format(e):String(Math.round(100*e))+"%"}else l=_.format(e);return l},getFillPercentage:(e,t,i,r,s)=>{var a=(r-t)/(e.max-e.min);return a=s?a:Math.min(Math.max(0,a),1)},getTooltipString:e=>{var i=e.getOptions(),a=r.getValThresholdIdx(e),n=r.getThreshold(e,a),o=s.getFormattedMetricLabel(i.value,e);return n&&null!=n.shortDesc?n.shortDesc:null!=i.shortDesc?i.shortDesc:i.label.text?t.ResourceUtils.format(i.translations.labelAndValue,[i.label.text,o]):o},renderMetricLabel:(e,i,r,a,n,o,l)=>{var h=e.getOptions(),g=!1;if("on"===h.metricLabel.rendered||l&&"off"!==h.metricLabel.rendered){var d=s.getFormattedMetricLabel(h.value,e),u=s.getFormattedMetricLabel(h.min,e),c=s.getFormattedMetricLabel(h.max,e),p=new t.OutputText(e.getCtx(),d,r.x+r.w/2,r.y+r.h/2);p.setCSSStyle(h.metricLabel.style);var _=h.metricLabel.style.getStyle("font-size");_||(_=s.calcLabelFontSize([d,u,c],p,r),p.setTextString(d),p.setFontSize(_)),"top"===o?(p.setY(r.y),p.alignTop()):"middle"===o?t.TextUtils.centerTextVertically(p,r.y+r.h/2):"bottom"===o&&(p.setY(r.y+r.h),p.alignBottom()),"center"===n?p.alignCenter():"left"==n?(p.setX(r.x),p.alignLeft()):"right"===n&&(p.setX(r.x+r.w),p.alignRight()),null!=a&&p.setSolidFill(a),g=t.TextUtils.fitText(p,r.w,r.h,i)}return g},renderLabel:(e,i,r,s,a)=>{var n=e.getOptions(),o=!1;if(n.label.text){var l=n.label.text,h=n.label.style,g=new t.MultilineText(e.getCtx(),l),d=h.clone();g.setCSSStyle(h);var u=h.getStyle("font-size")||t.TextUtils.getOptimalFontSize(g.getCtx(),g.getTextString(),g.getCSSStyle(),r);d.setFontSize("font-size",u,e.getCtx()),null!=s&&d.setStyle("color",s),g.setCSSStyle(d),o=t.TextUtils.fitText(g,r.w,r.h,e);var c=g.getDimensions().h;"top"===a?g.setY(r.y):"bottom"===a?g.setY(r.y+r.h-c):g.setY(r.y+r.h/2-c/2),g.setX(r.x+r.w/2),g.alignCenter(),i.addChild(g)}return o},calcLabelFontSize:(e,i,r)=>{for(var s=0,a=null,n=0,o=0;o<e.length;o++)i.setTextString(e[o]),(n=i.getDimensions().w)>s&&(a=e[o],s=n);return i.setTextString(a),t.TextUtils.getOptimalFontSize(i.getCtx(),i.getTextString(),i.getCSSStyle(),r)},adjustForStep:(e,t)=>{var i=Number(e.step);if(i&&i>0){var r=t/i;if(r<.5)return e.min;var s=Math.ceil(r)*i;return Math.max(Math.min(e.max,s),e.min)}return t}};class a extends t.Automation{getDomElementForSubId(e){if(e===t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._comp);if(0===e.indexOf("item")){var i=e.indexOf("["),r=e.indexOf("]");if(i>0&&r>0){var s=e.substring(i+1,r),a=this._comp.__getRatingGaugeItem(s);if(a)return a.getElem()}}return null}GetSubIdForDomElement(e){for(var t=this._comp,i=t.getOptions(),r=0;r<i.max;r++){if(t.__getRatingGaugeItem(r)===e)return"item["+r+"]"}return null}getValue(){return this._comp.getOptions().value}getMetricLabel(){return s.getFormattedMetricLabel(this.getValue(),this._comp)}}class n extends t.EventManager{constructor(e){super(e.getCtx(),e.dispatchEvent,e,e),this._gauge=e,this.IsMouseEditing=!1}OnMouseDown(e){if(this._gauge.IsInteractive()){this.IsMouseEditing=!0,this.hideTooltip();var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeStart(t.x,t.y),e.preventDefault()}else super.OnMouseDown(e)}OnMouseUp(e){this.IsMouseEditing?this.StopMouseEditing(e):super.OnMouseUp(e)}OnMouseMove(e){if(this.IsMouseEditing){var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeMove(t.x,t.y)}!this.IsShowingTooltipWhileEditing()&&this.IsMouseEditing||super.OnMouseMove(e)}IsShowingTooltipWhileEditing(){return!1}PreEventBubble(e){var i;t.TouchEvent.TOUCHSTART===e.type&&this._gauge.IsInteractive()?(this.IsMouseEditing=!0,i=this.GetRelativePosition(e.touches[0].pageX,e.touches[0].pageY),this._gauge.__processValueChangeStart(i.x,i.y),e.preventDefault()):t.TouchEvent.TOUCHMOVE===e.type&&this.IsMouseEditing?(i=this.GetRelativePosition(e.touches[0].pageX,e.touches[0].pageY),this._gauge.__processValueChangeMove(i.x,i.y),e.preventDefault()):t.TouchEvent.TOUCHEND===e.type&&this.IsMouseEditing&&(this.IsMouseEditing=!1,i=this.GetRelativePosition(e.changedTouches[0].pageX,e.changedTouches[0].pageY),this._gauge.__processValueChangeEnd(i.x,i.y),e.preventDefault()),this.IsMouseEditing&&!this.IsShowingTooltipWhileEditing()||super.PreEventBubble(e)}ProcessKeyboardEvent(e){if(!this.KeyboardHandler)return!1;this.KeyboardHandler.processKeyDown(e);var i=e.keyCode;if(i===t.KeyboardEvent.UP_ARROW||i===t.KeyboardEvent.LEFT_ARROW||i===t.KeyboardEvent.DOWN_ARROW||i===t.KeyboardEvent.RIGHT_ARROW||i===t.KeyboardEvent.TAB){var r=this._gauge.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(e,r.x,r.y,this._gauge.__getLogicalObject(),this._gauge)}return!1}OnBlur(e){super.OnBlur(e),this.hideTooltip()}GetRelativePosition(e,t){var i=this.getCtx().pageToStageCoords(e,t);return this._gauge.stageToLocal(i)}UpdateActiveElement(e,t){}__isMouseEditing(){return this.IsMouseEditing}StopMouseEditing(e){this.IsMouseEditing=!1;var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeEnd(t.x,t.y)}}class o extends t.KeyboardHandler{constructor(e,t){super(e),this._gauge=t}processKeyDown(e){var i=e.keyCode,r=t.Agent.isRightToLeft(this._gauge.getCtx()),s=this._gauge.getOptions().value;this._gauge.getOptions().readOnly||(i!==t.KeyboardEvent.ENTER&&i!==t.KeyboardEvent.TAB||this._oldValue===s?i===t.KeyboardEvent.UP_ARROW||i===(r?t.KeyboardEvent.LEFT_ARROW:t.KeyboardEvent.RIGHT_ARROW)?(this._gauge.__increaseValue(),t.EventManager.consumeEvent(e)):i!==t.KeyboardEvent.DOWN_ARROW&&i!==(r?t.KeyboardEvent.RIGHT_ARROW:t.KeyboardEvent.LEFT_ARROW)||(this._gauge.__decreaseValue(),t.EventManager.consumeEvent(e)):(this._gauge.dispatchEvent(t.EventFactory.newValueChangeEvent(this._oldValue,s,!0)),this._oldValue=null),null===this._oldValue&&(this._oldValue=s))}}const l={getColor:e=>{var t=e.getOptions(),i=r.getValThresholdIdx(e),s=r.getThreshold(e,i);return s&&("statusMeter"!==e.type||"statusMeter"===e.type&&"onIndicator"===t.thresholdDisplay)?l.getThresholdColor(e,s,i):t.color},getBorderColor:e=>{var t=e.getOptions(),i=r.getValThresholdIdx(e),s=r.getThreshold(e,i);return s&&s.borderColor&&("statusMeter"!==e.type||"statusMeter"===e.type&&"onIndicator"===t.thresholdDisplay)?s.borderColor:t.borderColor},getPlotAreaColor:e=>{var t=e.getOptions(),i=r.getValThresholdIdx(e),s=r.getThreshold(e,i);return s&&("statusMeter"!==e.type||"statusMeter"===e.type&&"onIndicator"!==t.thresholdDisplay)?l.getThresholdColor(e,s,i):t.plotArea.color},getPlotAreaBorderColor:e=>{var t=e.getOptions(),i=t.plotArea.borderColor;return"statusMeter"===e.type&&"circular"==t.orientation?null:i},getThresholdColor:(e,t,i)=>{if(t.color)return t.color;var r=e.getOptions(),s=i%r._thresholdColors.length;return r._thresholdColors[s]}};class h extends t.BaseComponent{constructor(e,i,r,s){super(e,i,r),e.getStage().setCursor(""),this._bStaticRendering=s,this._bStaticRendering||(this.EventManager=this.CreateEventManager(),this.EventManager.addListeners(this),this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("gauge1000"+Math.floor(1e9*Math.random())),this._editingOverlay=new t.Rect(e,0,0),this._editingOverlay.setInvisibleFill(),this.addChild(this._editingOverlay)),this._bEditing=!1,this._bResizeRender=!1,this._oldValue=null}SetOptions(e){super.SetOptions(e),this.Options=e,t.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none"),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||"auto"!==this.Options.visualEffects||(this.Options.visualEffects="none"),e.className&&(this.Options.svgClassName=e.className),e.style&&(this.Options.svgStyle=e.style)}render(e,i,r){if(e?this.SetOptions(e):this.Options||this.SetOptions(null),this.Options.thresholds){var s=this.Options.thresholds;this.Options.thresholds=s.sort(h._thresholdComparator)}"number"==typeof i&&"number"==typeof r&&(0!==this.Width&&this.Width!==i||0!==this.Height&&this.Height!==r?this._bResizeRender=!0:this._bResizeRender=!1,this.Width=i,this.Height=r),this.__oldShapes=this.__shapes,this.__shapes=[];var a=new t.Container(this.getCtx());this.addChildAt(a,0),!1!==this.Render(a,this.Width,this.Height)&&this.PostRender(e,a)}PostRender(e,i){this._setAnimation(i,null!=e,this.__oldShapes,this.Width,this.Height),this._editingOverlay&&(this._editingOverlay.setWidth(this.Width),this._editingOverlay.setHeight(this.Height),this.getEventManager().associate(this._editingOverlay,this.__getLogicalObject(),!0)),this.UpdateAriaAttributes(),this._bStaticRendering||this.Options.readOnly||this.setAriaAttributes(),this.Options._selectingCursor&&this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.Animation||this.RenderComplete()}setAriaAttributes(){var e=this.getCtx().getContainer();e.setAttribute("role","slider"),e.setAttribute("aria-valuemin",this.Options.min),e.setAttribute("aria-valuemax",this.Options.max),e.setAttribute("aria-valuenow",this.Options.value);var t=s.getFormattedMetricLabel(this.Options.value,this);Number(t)===this.Options.value&&(t=this.Options.value.toString()),e.setAttribute("aria-valuetext",t),this.Options.disabled&&e.setAttribute("aria-disabled",!0)}__getLogicalObject(){var e=this.Options.tooltip,i=e?e.renderer:null,r=l.getColor(this);if(i){var a={component:this.Options._widgetConstructor,label:s.getFormattedMetricLabel(this.Options.value,this),color:r};return new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),i,r,a)}var n=s.getTooltipString(this);return new t.SimpleObjPeer(null,n,r)}Render(e,t,i){}_setAnimation(e,i,r,s,a){this.StopAnimation();var n=!1,o=this._bEditing||this._bResizeRender?"none":this.getOptions().animationOnDataChange,l=this._bEditing||this._bResizeRender?"none":this.getOptions().animationOnDisplay,h=t.CSSStyle.getTimeMilliseconds(this.getOptions().animationDuration)/1e3;if(l||o){var g=new t.Rectangle(0,0,s,a),d=this.getCtx();this._container||"none"===l||null==this.__shapes[0]?this._container&&"none"!==o&&i&&null!=this.__shapes[0]&&(this.Animation=t.BlackBoxAnimationHandler.getCombinedAnimation(d,o,this._container,e,g,h),this.Animation?n=!0:this.Animation=this.CreateAnimOnDataChange(r,this.__shapes,l,h)):(this.Animation=t.BlackBoxAnimationHandler.getInAnimation(d,l,e,g,h),this.Animation||(this.Animation=this.CreateAnimOnDisplay(this.__shapes,l,h))),!n&&this._container&&(this.removeChild(this._container),this._container.destroy()),this.Animation&&(this.Animation.play(),this.Animation.setOnEnd(this._onAnimEnd,this)),n&&(this._oldContainer=this._container),this._container=e}}CreateAnimOnDisplay(e,t,i){return null}CreateAnimOnDataChange(e,i,r,s){for(var a=[],n=0;n<e.length;n++){var o=e[n],l=i[n],h=o.getAnimParams(),g=l.getAnimParams();l.setAnimParams(h);var d=new t.CustomAnimation(this.getCtx(),l,s);d.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,l,l.getAnimParams,l.setAnimParams,g),a.push(d)}return new t.ParallelPlayable(this.getCtx(),a)}GetValueAt(e,t){return null}renderUpdate(){this.render()}_onAnimEnd(){this._oldContainer&&(this.removeChild(this._oldContainer),this._oldContainer.destroy(),this._oldContainer=null),this.AnimationStopped||this.RenderComplete(),this.Animation=null,this.AnimationStopped=!1}__processValueChangeStart(e,t){this._bEditing=!0,this._oldValue=this.Options.value,this.__processValueChangeMove(e,t)}__processValueChangeMove(e,i){if(null!=this._oldValue){var r=s.adjustForStep(this.Options,this.GetValueAt(e,i));r!==this.Options.value&&(this.Options.value=r,this.renderUpdate(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(this._oldValue,this.Options.value,!1)))}}__processValueChangeEnd(e,i){if(this.__processValueChangeMove(e,i),t.Agent.isTouchDevice()){var r=s.getFormattedMetricLabel(this.Options.value,this),a=s.getTooltipString(this);r!==a&&(a=r+t.AriaUtils.ARIA_LABEL_DESC_DELIMITER+a,this._container.setAriaProperty("label",a))}this.dispatchEvent(t.EventFactory.newValueChangeEvent(this._oldValue,this.Options.value,!0)),this._bEditing=!1,this._oldValue=null}__increaseValue(){if(!this.Options.readOnly){var e=this.Options.value;if(null!=this.Options.step){var i=this.Options.value+this.Options.step;this.Options.value=s.adjustForStep(this.Options,i)}else{var r=(this.Options.max-this.Options.min)/100;this.Options.value=Math.min(Math.max(this.Options.value+r,this.Options.min),this.Options.max)}this.renderUpdate(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(e,this.Options.value,!1))}}__decreaseValue(){if(!this.Options.readOnly){var e=this.Options.value;if(null!=this.Options.step){var i=this.Options.value-this.Options.step;this.Options.value=s.adjustForStep(this.Options,i)}else{var r=(this.Options.max-this.Options.min)/100;this.Options.value=Math.min(Math.max(this.Options.value-r,this.Options.min),this.Options.max)}this.renderUpdate(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(e,this.Options.value,!1))}}CreateEventManager(){return new n(this)}static _thresholdComparator(e,t){return null!=e.max&&null!=t.max?e.max-t.max:e.max?-1/0:1/0}getAutomation(){return new a(this)}CreateKeyboardHandler(e){return new o(e,this)}UpdateAriaAttributes(){if(!this._bStaticRendering){var e=s.getTooltipString(this);if(this.IsParentRoot()){var i=this.Options.translations;this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,t.Displayable.generateAriaLabel(t.AriaUtils.processAriaLabel(this.GetComponentDescription()),e?[e]:null)])),this.IsInteractive()?this.getCtx().setAriaRole("slider"):this.getCtx().setAriaRole("img")}else this.IsInteractive()||(this.setAriaRole("img"),this.setAriaProperty("label",t.Displayable.generateAriaLabel(t.AriaUtils.processAriaLabel(this.GetComponentDescription()),e?[e]:null)))}}IsInteractive(){return!this.Options.readOnly}}class g extends t.BaseComponentDefaults{constructor(e){const i={skin:t.CSSStyle.SKIN_ALTA,min:0,max:100,center:{},color:"#393737",borderColor:null,visualEffects:"auto",emptyText:null,animationOnDataChange:"none",animationOnDisplay:"none",animationDuration:500,readOnly:"true",metricLabel:{rendered:"auto",scaling:"auto",style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),textType:"number"},_statusMessageStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),label:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),position:"auto"},_thresholdColors:["#ed6647","#fad55c","#68c182"],__layout:{outerGap:1,labelGap:5}};super({alta:t.JsonUtils.merge(e.alta,i)})}}class d extends g{constructor(e){super({alta:{type:"circle"}},e)}}const u={_SHAPE_TRIANGLE_CMDS:[-50,36.6,0,-50,50,36.6],_SHAPE_STAR_CMDS:"M 13.686617627555295 -14.844072859624454 L 0 -49.99999973529656 L -13.686617627555295 -14.844072859624454 L -49.21031057098533 -11.804119976838445 L -22.1446397569434 12.966333294730747 L -30.4142789122285 49.99999973529656 L 0 30.151376755728354 L 30.4142789122285 49.99999973529656 L 22.1446397569434 12.966333294730747 L 49.21031057098533 -11.804119976838445 Z ",_SHAPE_ARROW_CMDS:[25,48,25,8,47.5,8,0,-39,-47.5,8,-25,8,-25,48],_SHAPE_HUMAN_CMDS:"M -0.06059525142297417 -50.86842065108466 C -11.4496388584463 -50.86842065108466 -20.708163169810554 -39.024253028220556 -20.708163169810554 -24.413724255650386 C -20.708163169810554 -9.803195483080515 -11.4496388584463 2.040972139783591 -0.06059525142297417 2.040972139783591 C 11.328499974520241 2.040972139783591 20.586972666964613 -9.803195483080515 20.586972666964613 -24.413724255650386 C 20.586972666964613 -39.024253028220556 11.328499974520241 -50.86842065108466 -0.06059525142297417 -50.86842065108466 z M -23.93434565705865 -2.959610715450779 C -30.908061721494278 3.3998402034127153 -42.00096758564793 18.817121073473572 -38.77478509839983 33.65756051481475 C -20.651382358034887 47.30044101688934 14.372054723529814 49.13162219665128 39.298831093003386 32.85101489300273 C 40.26410489318826 16.477493533721187 32.34060070450674 4.7883891459240715 23.167918656763206 -2.959610715450779 C 11.553661702670112 21.074158341552575 -11.029615708066558 16.237465556670102 -23.93434565705865 -2.959610715450779 z ",render:(e,i,a,n)=>{if(r.hasData(e)){var o=e.getOptions(),h=o.__layout.outerGap,g=o&&(o.size>=0||o.size<1)?Math.sqrt(o.size):1,d=new t.Rectangle(h+(a-2*h)*(1-g)/2,h+(n-2*h)*(1-g)/2,(a-2*h)*g,(n-2*h)*g);u._renderShape(e,i,d);var c=!1,p=t.ColorUtils.getContrastingTextColor(l.getColor(e));if(o.label.text){var _="middle",m=u._getMetricLabelBounds(e,i,d);"on"===o.metricLabel.rendered&&(m.y=m.y+.6*m.h,m.h=.4*m.h,_="top"),c=t.Agent.isHighContrast()||null==o.label.style.getStyle("color")?s.renderLabel(e,i,m,p,_):s.renderLabel(e,i,m,null,_)}if("on"===o.metricLabel.rendered){var v=u._getMetricLabelBounds(e,i,d),f="middle";c&&(v.h=.55*v.h,f="bottom"),t.Agent.isHighContrast()||null==o.metricLabel.style.getStyle("color")?s.renderMetricLabel(e,i,v,p,"center",f):s.renderMetricLabel(e,i,v,null,"center",f)}}else s.renderEmptyText(e,i,new t.Rectangle(0,0,a,n))},_renderShape:(e,i,r)=>{var s,a,n=e.getCtx(),o=e.getOptions(),h=o.type,g=l.getColor(e),d=l.getBorderColor(e),c=r.x+r.w/2,p=r.y+r.h/2,_=Math.min(r.w,r.h)/2;u._cache||(u._cache=new t.Cache(50));var m=Math.min(r.w/100,r.h/100);if("square"===h)s=new t.Rect(n,c-_,p-_,2*_,2*_);else if("rectangle"==h)s=new t.Rect(n,r.x,r.y,r.w,r.h);else if("diamond"===h)s=new t.Polygon(n,[c-_,p,c,p-_,c+_,p,c,p+_]);else if("circle"===h)s=new t.Circle(n,c,p,_);else{if("star"===h)a=u._SHAPE_STAR_CMDS;else if("triangle"===h)a=u._SHAPE_TRIANGLE_CMDS;else if("arrow"===h)a=u._SHAPE_ARROW_CMDS;else if("human"===h)a=u._SHAPE_HUMAN_CMDS;else if(!(a=u._cache.get(h))){s=new t.Path(n,h);var v=t.DisplayableUtils.getDimForced(n,s),f=100/Math.max(v.w,v.h);a=t.PathUtils.transformPath(s.getCommandsArray(),-f*(v.x+v.w/2),-f*(v.y+v.h/2),f,f),u._cache.put(h,a)}"triangle"===h||"arrow"===h?(a=t.PolygonUtils.scale(a,m,m),a=t.PolygonUtils.translate(a,r.x+r.w/2,r.y+r.h/2),s=new t.Polygon(n,a)):(a=t.PathUtils.transformPath(t.PathUtils.createPathArray(a),r.x+r.w/2,r.y+r.h/2,m,m),s=new t.Path(n,a))}var y=e.getCtx().getThemeBehavior();if("none"===o.visualEffects||"redwood"===y)s.setSolidFill(g);else{var C=[t.ColorUtils.adjustHSL(g,0,-.09,.04),t.ColorUtils.adjustHSL(g,0,-.04,-.05)],x=o&&o.rotation%90==0?o.rotation:0,S="arrow"===h||"star"===h||"triangle"===h?x-90:270;s.setFill(new t.LinearGradientFill(S,C,[1,1],[0,1]))}d&&s.setSolidStroke(d),s.setClassName(o.svgClassName),s.setStyle(o.svgStyle),(x=o.rotation)&&("arrow"===h||"triangle"===h||s instanceof t.Path&&"human"!==h&&"star"!==h)&&(s=u._rotate(e,i,s,r)),i.addChild(s)},_rotate:(e,i,r,s)=>{var a=e.getOptions(),n=new t.Container(e.getCtx());i.addChild(n),n.addChild(r);var o=a&&a.rotation%90==0?a.rotation:0,l=new t.Matrix;r.setMatrix(l.rotate(Math.PI*o/180));var h=n.getDimensions(),g=s.x+s.w/2-(h.x+h.w/2),d=s.y+s.h/2-(h.y+h.h/2),u=new t.Matrix;return n.setMatrix(u.translate(g,d)),n},_getMetricLabelBounds:(e,i,r)=>{var s=e.getOptions(),a=s.type,n=s.rotation%90==0?s.rotation:0,o=Math.min(r.w,r.h),l=r.x+r.w/2-o/2,h=r.y+r.h/2-o/2,g=o,d=o;return"triangle"===a?0===n?(l+=.2*o,h+=.25*o,g-=.4*o,d-=.3*o):90===n?(l+=.05*o,h+=.2*o,g-=.3*o,d-=.4*o):180===n?(l+=.2*o,h+=.05*o,g-=.4*o,d-=.3*o):270===n&&(l+=.25*o,h+=.2*o,g-=.3*o,d-=.4*o):"arrow"===a?0===n?(l+=.2*o,h+=.2*o,g-=.4*o,d-=.4*o):90===n?(l+=.05*o,h+=.2*o,g-=.28*o,d-=.4*o):180===n?(l+=.2*o,h+=.2*o,g-=.4*o,d-=.4*o):270===n&&(l+=.23*o,h+=.2*o,g-=.28*o,d-=.4*o):"star"===a?(l+=.25*o,h+=.25*o,g-=.5*o,d-=.4*o):"diamond"===a?(l+=.15*o,h+=.15*o,g-=.3*o,d-=.3*o):"rectangle"===a?(l+=.1*o,h+=.1*o,g-=.2*o,d-=.2*o):(l+=.15*o,h+=.15*o,g-=.3*o,d-=.3*o),new t.Rectangle(l,h,g,d)}};class c extends h{constructor(e,t,i,r){super(e,t,i,r),this.type="led",this.Defaults=new d(e)}SetOptions(e){(e=t.JsonUtils.clone(e)).title&&(e.label=e.title),super.SetOptions(this.Defaults.calcOptions(e)),"auto"===this.Options.animationOnDisplay&&(this.Options.animationOnDisplay="zoom"),"auto"===this.Options.animationOnDataChange&&(this.Options.animationOnDataChange="alphaFade"),this.Options.readOnly=!0}Render(e,t,i){u.render(this,e,t,i)}}class p extends g{constructor(e){super({alta:{min:0,max:5,orientation:"horizontal",unselectedState:{shape:"star",color:"#C4CED7"},selectedState:{shape:"star",color:"#F8C15A"},hoverState:{shape:"star",color:"#007CC8"},changedState:{shape:"star",color:"#ED2C02"},preserveAspectRatio:"meet",step:1}},e)}}class _ extends n{constructor(e){super(e),this._gauge=e}OnMouseOver(e){if(this._gauge.IsInteractive()){var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeStart(t.x,t.y),this.IsMouseEditing=!0}super.OnMouseOver(e)}OnMouseOut(e){if(this._gauge.IsInteractive()){var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processHoverEnd(t.x,t.y),this.IsMouseEditing=!1}super.OnMouseOut(e)}OnMouseMove(e){var t=this.GetRelativePosition(e.pageX,e.pageY),i=!0===this._gauge.getOptions().disabled;this._gauge.IsInteractive()&&!this.IsMouseEditing&&this._gauge.getOptions().value!==this._gauge.GetValueAt(t.x,t.y)&&(this.IsMouseEditing=!0),i||super.OnMouseMove(e)}OnMouseDown(e){t.EventManager.prototype.OnMouseDown.call(this,e)}OnContextMenu(e){var i=t.Agent.engine;"webkit"!==i&&"blink"!==i||"mac"!==t.Agent.os||this.IsMouseEditing&&this.StopMouseEditing(e),super.OnContextMenu(e)}ProcessKeyboardEvent(e){return this.IsMouseEditing=!1,super.ProcessKeyboardEvent(e)}IsShowingTooltipWhileEditing(){return!0}}class m extends t.SimpleObjPeer{constructor(e){super(),this._gauge=e}getDatatip(e,t,i){var s,a=this._gauge.getOptions();s=this._gauge.getEventManager().__isMouseEditing()?r.getValThresholdIdx(this._gauge,this._gauge.GetValueAt(t,i)):r.getValThresholdIdx(this._gauge);var n=r.getThreshold(this._gauge,s);return n&&n.shortDesc?n.shortDesc:a.shortDesc}}const v={render:(e,i,a,n)=>{if(r.hasData(e)){var o=e.getOptions(),l=r.getValThresholdIdx(e),h=r.getThreshold(e,l),g=o.selectedState.color,d=o.changedState.color,u=o.selectedState.borderColor,c=o.changedState.borderColor;h&&h.color&&(g=h.color,d=h.color),h&&h.borderColor&&(u=h.borderColor,c=h.borderColor);var p={value:0,state:"unselected",type:o.unselectedState.shape,color:o.unselectedState.color,borderColor:o.unselectedState.borderColor,visualEffects:o.visualEffects,source:o.unselectedState.source,svgClassName:o.unselectedState.svgClassName,svgStyle:o.unselectedState.svgStyle},_={value:0,state:"selected",type:o.selectedState.shape,color:g,borderColor:u,visualEffects:o.visualEffects,source:o.selectedState.source,svgClassName:o.selectedState.svgClassName,svgStyle:o.selectedState.svgStyle},m={value:0,state:"changed",type:o.changedState.shape,color:d,borderColor:c,visualEffects:o.visualEffects,source:o.changedState.source,svgClassName:o.changedState.svgClassName,svgStyle:o.changedState.svgStyle},f={value:0,state:"hover",type:o.hoverState.shape,color:o.hoverState.color,borderColor:o.hoverState.borderColor,visualEffects:o.visualEffects,source:o.hoverState.source,svgClassName:o.hoverState.svgClassName,svgStyle:o.hoverState.svgStyle};"dot"==o.unselectedState.shape&&(p.type="circle",p.visualEffects="none",p.size=.05),v._createShapes(e,i,p),v._createShapes(e,i,o.changed?m:_),o.readOnly||o.disabled||v._createShapes(e,i,f),e.__updateClipRects(o.value,"render",i)}else s.renderEmptyText(e,i,new t.Rectangle(0,0,a,n))},_createShapes:(e,i,r)=>{var s=e.getCtx(),a=new t.Container(s);i.addChild(a);for(var n=e.getOptions(),o=e.__bounds,l=e.__shapeWidth,h=e.__shapeHeight,g="ie"===t.Agent.browser||"edge"===t.Agent.browser?null:v._createShape(s,0,0,l,h,r,n),d=0;d<n.max;d++){var u,c;if("vertical"==n.orientation?(u=o.x+o.w/2-l/2,c=o.y+o.h-(d+1)*h):t.Agent.isRightToLeft(s)?(u=o.x+o.w-(d+1)*l,c=o.y+o.h/2-h/2):(u=o.x+d*l,c=o.y+o.h/2-h/2),"ie"===t.Agent.browser||"edge"===t.Agent.browser){var p=v._createShape(s,u,c,l,h,r,n);p&&a.addChild(p)}else if(g){var _=new t.Use(s,u,c,g);a.addChild(_)}}},_createShape:(e,i,r,s,a,n,o)=>{var l;if(n.source)l=new t.ImageMarker(e,i+s/2,r+a/2,s,a,null,n.source),"none"===o.preserveAspectRatio&&l.setPreserveAspectRatio("none");else if("none"!=n.type){if(l=new c(e,null,null,!0),0!=i&&0!=r&&l.setTranslate(i,r),o.disabled||t.Agent.isHighContrast()){var h=`oj-rating-gauge-${"unselected"===n.state?"unselected":"selected"}${o.disabled?"-disabled":""}`;o.disabled?(n.svgClassName=h,n.svgStyle=null):n.svgClassName=`${n.svgClassName||""} ${h}`.trim(),t.Agent.isHighContrast()&&l.addClassName("oj-hicontrast")}l.render(n,s,a)}return l}};class f extends g{constructor(e){super({alta:{angleExtent:360,borderRadius:"auto",color:"#393737",indicatorSize:1,innerRadius:.7,metricLabel:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),position:"auto"},orientation:"horizontal",plotArea:{color:"#E4E8EA",rendered:"auto",borderRadius:"auto"},startAngle:90,thresholdDisplay:"onIndicator"}},e)}}class y extends(i.DataAxisInfoMixin(i.BaseAxisInfo)){}const C={calcPointOnArc:(e,t,i)=>({x:Math.cos(i)*t+e.w/2+e.x,y:Math.sin(i)*t+e.h/2+e.y}),createCircularPathCmd:(e,i,r,s,a)=>{var n,o,l,h,g;return r<t.Math.TWO_PI?(o=C.calcPointOnArc(e,a,i),l=C.calcPointOnArc(e,a,i+r),h=C.calcPointOnArc(e,s,i+r),g=C.calcPointOnArc(e,s,i),n=t.PathUtils.moveTo(o.x,o.y)+t.PathUtils.arcTo(a,a,r,1,l.x,l.y)+t.PathUtils.lineTo(h.x,h.y)+t.PathUtils.arcTo(s,s,r,0,g.x,g.y)+t.PathUtils.closePath()):(o=C.calcPointOnArc(e,a,i),l=C.calcPointOnArc(e,a,i+r/2),h=C.calcPointOnArc(e,s,i),g=C.calcPointOnArc(e,s,i+r/2),n=t.PathUtils.moveTo(o.x,o.y)+t.PathUtils.arcTo(a,a,r/2,1,l.x,l.y)+t.PathUtils.arcTo(a,a,r/2,1,o.x,o.y),s>0&&(n+=t.PathUtils.moveTo(g.x,g.y)+t.PathUtils.arcTo(s,s,r/2,0,h.x,h.y)+t.PathUtils.arcTo(s,s,r/2,0,g.x,g.y)),n+=t.PathUtils.closePath()),n}};class x extends t.Path{constructor(e,t,i,r,s,a){super(e),this.setPath(t,i,r,s,a)}setPath(e,i,r,s,a){e&&e instanceof t.Rectangle?this._bounds=e:e=this._bounds,this._startAngle=i,this._angleExtent=r,this._innerRadius=s,this._outerRadius=a,this.setCmds(C.createCircularPathCmd(e,i,r,s,a))}getAnimParams(){return[this._bounds,this._startAngle,this._angleExtent,this._innerRadius,this._outerRadius]}setAnimParams(e){e&&5==e.length&&this.setPath(e[0],e[1],e[2],e[3],e[4])}}class S extends t.Path{constructor(e,t,i,r,s,a){super(t),this._gauge=e,this.setCoords(i,r,s,a)}setCoords(e,i,r,s){this._x1=e,this._x2=i,this._y1=r,this._y2=s;var a=Math.min(e,i),n=Math.min(r,s),o=Math.abs(e-i),l=Math.abs(s-r),h=this._gauge.getOptions(),g="vertical"==h.orientation?o:l,d=t.PathUtils.rectangleWithBorderRadius(a,n,o,l,h.borderRadius,g,"15%");this.setCmds(d)}getAnimParams(){return[this._x1,this._x2,this._y1,this._y2]}setAnimParams(e){e&&4===e.length&&this.setCoords(e[0],e[1],e[2],e[3])}}const b={render:(e,i,a,n)=>{if(r.hasData(e)){var o=e.getOptions(),l=o.__layout.outerGap,h=new t.Rectangle(l,l,a-2*l,n-2*l);"horizontal"==o.orientation||"vertical"==o.orientation?(b._hasMetricLabelOutsidePlotArea(o)&&b._renderMetricLabelOutsidePlotArea(e,i,h),b._renderShape(e,i,h)):"circular"==o.orientation&&b._renderCircularGauge(e,i,h)}else s.renderEmptyText(e,i,new t.Rectangle(0,0,a,n))},_renderCircularGauge:(e,i,r)=>{var a,n=e.getOptions(),o=r.clone(),h=t.Agent.isRightToLeft(e.getCtx()),g=0,d=null,u=n.value,c=n.innerRadius,p=n.thresholds,_=null,m=t.Math.TWO_PI-t.Math.degreesToRads(n.startAngle),v=t.Math.degreesToRads(n.angleExtent),f=(m+v)%(2*Math.PI);e.cx=r.w/2,e.cy=r.h/2,v!=2*Math.PI&&(d=b._adjustCenterAndBounds(e,c,m,v,f,r,h),_=e.maxInnerDiameter);var y=.5*(a=Math.min(r.w,r.h))*c,C=.5*a,x=n.indicatorSize;if(x&&x>1){var S=(1-1/x)/2*(C-y);y+=S,C-=S}var A="middle";d||(_=Math.min(r.w,r.h)*c,d=new t.Rectangle(r.x+r.w/2-_*(3/7),r.y+r.h/2-_*(2.5/7),_*(6/7),_*(5/7)));if(n.label.text){var M="middle",T=new t.Rectangle(d.x,d.y,d.w,d.h);"off"!=n.metricLabel.rendered&&(T.y=T.y+.6*T.h,T.h=.4*T.h,M="top"),s.renderLabel(e,i,T,null,M)&&"off"!=n.metricLabel.rendered&&(d.h=.55*d.h,A="bottom")}s.renderMetricLabel(e,i,d,null,"center",A,!0);var w=m,D=g*v,O=l.getPlotAreaBorderColor(e);if(p&&"off"!=n.plotArea.rendered&&"all"==n.thresholdDisplay)for(var P=0;P<p.length;P++){var E=l.getThresholdColor(e,p[P],P),I=p[P].max<n.max&&P!=p.length-1?p[P].max:n.max,L=0==P?n.min:p[P-1].max;w=m+v*s.getFillPercentage(n,n.min,I,L),D=(g=s.getFillPercentage(n,L,I,I))*v;var R=p[P].borderColor;b._drawCircularArc(e,i,r,w,D,y,C,E,!0,R||O)}else if("off"!=n.plotArea.rendered&&"all"!=n.thresholdDisplay){var k=l.getPlotAreaColor(e);b._drawCircularArc(e,i,r,m,v,y,C,k,!0,O)}if(y=a*c*.5,C=.5*a,x&&x<1){var B=(1-x)/2*(C-y);y+=B,C-=B}D=(g=s.getFillPercentage(n,n.min,n.max,u))*v,b._drawCircularArc(e,i,r,m,D,y,C,l.getColor(e),!1);var F=n.referenceLines;if(F)for(var H=0;H<F.length;H++){var N=F[H].color?F[H].color:"black",G=F[H].lineWidth?F[H].lineWidth:2,j=F[H].lineStyle;u=F[H].value;var V=m+s.getFillPercentage(n,n.min,n.max,u)*v;b._drawCircularReferenceLine(e,i,r,V,N,G,j)}n.center.renderer&&b._renderCenterContent(e,n,r,o,_)},_renderShape:(e,i,r)=>{var s=e.getOptions(),a=t.Agent.isRightToLeft(e.getCtx()),n="vertical"==s.orientation,o={isRTL:a,layout:{gapRatio:0},timeAxisType:"disabled",position:n?"left":"bottom",min:s.min,max:s.max,dataMin:s.min,dataMax:s.max,tickLabel:{rendered:"off"},translations:s.translations},h=new y(e.getCtx(),o,r);e.__axisInfo=h;var g=0;s.max<=0?g=s.max:s.min>=0&&(g=s.min);var d=h.getCoordAt(g);"off"==s.plotArea.rendered||"auto"==s.plotArea.rendered&&"onIndicator"==s.thresholdDisplay||(d=h.getUnboundedCoordAt(s.min));var u=h.getUnboundedCoordAt(s.value);u=n?Math.max(r.y,Math.min(r.y+r.h,u)):Math.max(r.x,Math.min(r.x+r.w,u));var c,p,_,m,v,f,C,x,A=s.indicatorSize,M=0,T=A<1?1:A,w=A>1?1:A,D=Math.min(.5,(Math.abs(u-d)-.5)/2);n?(x=u>d?-1:1,c=r.x+(1-w)/2*r.w,p=r.x+r.w*(1+w)/2,m=d-x*D,_=u+x*D+.5,v=r.x+(1-1/T)/2*r.w,f=r.x+r.w*(1+1/T)/2,C=r.y,M=r.y+r.h):(x=(a?u>d:u<d)?-1:1,c=a?d-x*D+.5:d+x*D-.5,p=a?u+x*D:u-x*D,_=r.y+(1-w)/2*r.h,m=r.y+r.h*(1+w)/2,v=r.x,f=r.x+r.w,C=r.y+(1-1/T)/2*r.h,M=r.y+r.h*(1+1/T)/2);var O=!0;s.value==s.min&&(n?_=m:c=p,O=!1);var P,E,I=l.getBorderColor(e),L=l.getPlotAreaBorderColor(e),R=s.thresholds,k=n?0:270;if(R&&"off"!=s.plotArea.rendered&&"all"==s.thresholdDisplay)for(E=R.length-1;E>=0;E--){var B=E;P=b._createShape(e,e.getCtx(),v,f,C,M);var F=new t.ClipPath("pacp"+e.getId());if(E==R.length-1)!n&&a?F.addRect(h.getUnboundedCoordAt(s.max)+1,0,r.w+2,r.h+2,0,0):F.addRect(0,0,r.w+2,r.h+2,0,0);else if(n){var H=s.max-R[R.length-2-B].max;F.addRect(0,h.getUnboundedCoordAt(s.max),r.w+2,1*Math.max(0,H)/Math.abs(s.min-s.max)*r.h,0,0)}else if(a){var N=null==R[R.length-2-B].max?100:R[R.length-2-B].max;F.addRect(h.getUnboundedCoordAt(s.max),0,1*Math.max(0,s.max-N)/Math.abs(s.min-s.max)*r.w,r.h+2,0,0)}else{var G=R[B].max-s.min;F.addRect(0,0,1*Math.max(0,G)/Math.abs(s.min-s.max)*r.w,r.h+2,0,0)}P.setClipPath(F),(a||n)&&(B=R.length-1-E),P.setSolidFill(l.getThresholdColor(e,R[B],B));var j=R[B].borderColor;P.setSolidStroke(j||L),b._renderPlotAreaVisualEffects(e,i,P,l.getThresholdColor(e,R[B],B),k)}else if("off"!==s.plotArea.rendered&&("auto"!=s.plotArea.rendered||"onIndicator"!=s.thresholdDisplay)&&"all"!=s.thresholdDisplay){P=n?b._createShape(e,e.getCtx(),v,f,h.getUnboundedCoordAt(s.max),h.getUnboundedCoordAt(s.min)):b._createShape(e,e.getCtx(),h.getUnboundedCoordAt(s.min),h.getUnboundedCoordAt(s.max),C,M);var V=l.getPlotAreaColor(e);P.setSolidFill(V),P.setSolidStroke(L),b._renderPlotAreaVisualEffects(e,i,P,V,k)}var U=new S(e,e.getCtx(),c,p,_,m);e.__shapes.push(U);var W,Y,z,X,K=l.getColor(e);if("redwood"===e.getCtx().getThemeBehavior()||"none"===s.visualEffects)U.setSolidFill(K),U.setSolidStroke(K);else{var q=[t.ColorUtils.adjustHSL(K,0,-.09,.04),t.ColorUtils.adjustHSL(K,0,-.04,-.05)],Z=new t.LinearGradientFill(k,q,[1,1],[0,1]);U.setFill(Z)}I&&U.setSolidStroke(I),U.setClassName(s.svgClassName),U.setStyle(s.svgStyle),O&&i.addChild(U),b._createShape(e,e.getCtx(),c,p,_,m);var Q=s.referenceLines;if(Q)for(E=0;E<Q.length;E++){var J=Q[E].color?Q[E].color:"white",$=Q[E].value;A=s.indicatorSize,n?(X=((1-A)/2+A)*r.w,W=r.x+(1-A)/4*r.w,Y=h.getUnboundedCoordAt($),z=new t.Line(e.getCtx(),W,Y,W+X,Y)):(X=((1-A)/2+A)*r.h,W=h.getUnboundedCoordAt($),Y=r.y+(1-A)/4*r.h,z=new t.Line(e.getCtx(),W,Y,W,Y+X));var ee=Q[E].lineWidth?Q[E].lineWidth:2,te=Q[E].lineStyle,ie=new t.Stroke(J,1,ee,!1,t.Stroke.getDefaultDashProps(te,ee));if(z.setStroke(ie),i.addChild(z),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser&&"none"!=s.visualEffects){var re=new t.Shadow(.5,.5,1,"rgba(0, 0, 0, 0.8)");z.addDrawEffect(re)}}var se=s.metricLabel.position;if("on"!=s.metricLabel.rendered||b._hasMetricLabelOutsidePlotArea(s)||s.label.text)s.label.text&&b._renderLabel(e,i,r,se);else{var ae={x1:c,x2:p,y1:_,y2:m},ne={x1:v,x2:f,y1:C,y2:M};b._renderMetricLabelInsidePlotArea(e,i,r,K,se,ae,ne)}},_createShape:(e,i,r,s,a,n)=>{var o=Math.min(r,s),l=Math.min(a,n),h=Math.abs(r-s),g=Math.abs(n-a),d=e.getOptions(),u="vertical"==d.orientation?h:g,c="auto"!=d.plotArea.borderRadius?d.plotArea.borderRadius:d.borderRadius,p=t.PathUtils.rectangleWithBorderRadius(o,l,h,g,c,u,"15%");return new t.Path(i,p)},_renderPlotAreaVisualEffects:(e,i,r,s,a)=>{var n=e.getOptions();if(r.setMouseEnabled(!1),i.addChild(r),"redwood"!==e.getCtx().getThemeBehavior()&&"none"!==n.visualEffects){var o=[t.ColorUtils.adjustHSL(s,0,-.04,-.05),t.ColorUtils.adjustHSL(s,0,-.09,.04)],l=new t.LinearGradientFill(a,o,[1,1],[0,1]);r.setFill(l)}r.setClassName(n.plotArea.svgClassName),r.setStyle(n.plotArea.svgStyle)},_renderMetricLabelOutsidePlotArea:(e,i,r)=>{var a=e.getOptions(),n=t.Agent.isRightToLeft(e.getCtx()),o="vertical"==a.orientation,l=new t.OutputText(e.getCtx(),""),h=s.getFormattedMetricLabel(a.value,e),g=a.__layout.labelGap,d=a.metricLabel.style,u=d.getStyle("color");u=u||"#333333";var c,p,_,m,v,f=null;if(l.setCSSStyle(d),l.setSolidFill(u),o&&"on"==a.metricLabel.rendered){m=a.max>0?a.max:a.min,v=s.getFormattedMetricLabel(m,e),(_=new t.OutputText(e.getCtx(),v)).setCSSStyle(d);var y=new t.Rectangle(r.x,r.y+.8*r.h,r.w,.2*r.h);c=d.getStyle("font-size")||t.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),y),_.setFontSize(c),f=_.getDimensions(),r.h-=f.h,l.setFontSize(c),l.setTextString(h),l.setX(r.x+r.w/2),l.setY(r.y+r.h),r.h-=g,l.alignCenter(),t.TextUtils.fitText(l,r.w,r.h,i)}else if(!o&&"on"==a.metricLabel.rendered){var C;if(c=d.getStyle("font-size"),p=s.getFormattedMetricLabel(a.min,e),_=s.getFormattedMetricLabel(a.max,e),void 0===c&&r.h<18&&(c=s.calcLabelFontSize([h,p,_],l,r)),c=c?parseInt(c):13,l.setFontSize(c),a.max>0||"off"!=a.plotArea.rendered||"auto"!=a.plotArea.rendered||"onIndicator"!=a.thresholdDisplay){m=a.max>0?a.max:a.min,v=s.getFormattedMetricLabel(m,e),(_=new t.OutputText(e.getCtx(),v)).setCSSStyle(d),_.setFontSize(c),(f=_.getDimensions()).w=Math.min(f.w,r.w),C=n?r.x+f.w:r.x+r.w;var x=f.w;n?(r.x+=f.w+g,r.w-=f.w+g):r.w-=f.w+g}if(a.min<0&&"on"!=a.plotArea.rendered&&("auto"!=a.plotArea.rendered||"onIndicator"!=a.thresholdDisplay)){var S=s.getFormattedMetricLabel(a.min,e);(p=new t.OutputText(e.getCtx(),S)).setCSSStyle(d),p.setFontSize(c);var b=p.getDimensions();(a.value<0||a.max<=0)&&(C=n?r.x+r.w:r.x+b.w,x=b.w),n||(r.x+=b.w+g),r.w-=b.w+g}l.setTextString(h),l.setX(C),t.TextUtils.centerTextVertically(l,r.y+r.h/2),l.alignRight();var A="firefox"===t.Agent.browser?r.h+2:r.h;t.TextUtils.fitText(l,x,A,i)}},_renderMetricLabelInsidePlotArea:(e,i,r,a,n,o,l,h)=>{var g=e.getOptions(),d=t.Agent.isRightToLeft(e.getCtx()),u="vertical"==g.orientation,c="on"==g.plotArea.rendered,p="center",_="middle",m=new t.Rectangle(Math.min(o.x1,o.x2),Math.min(o.y1,o.y2),Math.abs(o.x2-o.x1),Math.abs(o.y2-o.y1)),v=g.metricLabel.style.getStyle("color");"center"==n?(v=v||t.ColorUtils.getContrastingTextColor(a),u?(m.h-=m.w,m.y+=m.w/2):(m.w-=m.h,m.x+=m.h/2)):"insideIndicatorEdge"==n?(v=v||t.ColorUtils.getContrastingTextColor(a),u?(m.h-=m.w,m.y+=m.w/2,_=!c&&o.y1>o.y2?"bottom":"top"):(m.w-=m.h,m.x+=m.h/2,p=d?!c&&o.x1<o.x2?"right":"left":!c&&o.x1>o.x2?"left":"right")):"outsideIndicatorEdge"==n&&(u?(m.h=Math.abs(l.y1-o.y1)-m.w,m.y=l.y1+m.w/2,_="bottom",!c&&o.y1>o.y2&&(m.h=Math.abs(l.y2-o.y1)-m.w,m.y=o.y1+m.w/2,_="top")):d?!c&&o.x1<o.x2?(m.w=Math.abs(l.x2-o.x2)-m.h,m.x=o.x2+m.h/2,p="left"):(m.w=Math.abs(l.x1-o.x2)-m.h,m.x=l.x1+m.h/2,p="right"):!c&&o.x1>o.x2?(m.w=Math.abs(l.x1-o.x2)-m.h,m.x=l.x1+m.h/2,p="right"):(m.w=Math.abs(l.x2-o.x2)-m.h,m.x=o.x2+m.h/2,p="left")),s.renderMetricLabel(e,i,m,v,p,_)||h||("outsideIndicatorEdge"==n?b._renderMetricLabelInsidePlotArea(e,i,r,a,"insideIndicatorEdge",o,l,!0):"insideIndicatorEdge"!=n&&"center"!=n||b._renderMetricLabelInsidePlotArea(e,i,r,a,"outsideIndicatorEdge",o,l,!0))},_renderLabel:(e,i,r,a)=>{var n=t.Agent.isRightToLeft(e.getCtx()),o=e.getOptions(),l="vertical"==o.orientation,h=new t.Rectangle(r.x,r.y,l?r.w:r.w-r.h,l?r.h-r.w:r.h),g=o.label.text;if(!b._hasMetricLabelOutsidePlotArea(o)&&"on"==o.metricLabel.rendered){var d=s.getFormattedMetricLabel(o.value,e);g=t.ResourceUtils.format(o.translations.labelAndValue,[g,d])}var u=o.label.style,c=u.clone(),p=u.getStyle("font-size");if(!p){var _=new t.OutputText(e.getCtx(),g,0,0);_.setCSSStyle(u),_.setTextString(g),p=l?t.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),new t.Rectangle(h.x,h.y,h.w,Number.MAX_VALUE)):t.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),new t.Rectangle(h.x,h.y,Number.MAX_VALUE,h.h))}var m=new t.MultilineText(e.getCtx(),g);c.setFontSize("font-size",p,e.getCtx()),m.setCSSStyle(c),t.TextUtils.fitText(m,h.w,h.h,e),"center"==o.label.position||"auto"==o.label.position&&l?(t.TextUtils.centerTextVertically(m,r.y+r.h/2),m.setX(r.x+r.w/2),m.alignCenter()):(t.TextUtils.centerTextVertically(m,r.y+r.h/2),!l&&n?(m.setX(r.x+r.w-h.h/2),m.alignRight()):l||n?l&&(m.setY(r.y+r.h-m.getDimensions().h-h.w/2),m.setX(r.x+r.w/2),m.alignCenter()):(m.setX(r.x+h.h/2),m.alignLeft())),i.addChild(m)},_drawCircularArc:(e,i,r,s,a,n,o,h,g,d)=>{var u,c=e.getCtx();t.Agent.isRightToLeft(e.getCtx())&&(s=(s=Math.PI-s-a)>0?s:s+2*Math.PI),g?u=new t.Path(c,C.createCircularPathCmd(r,s,a,n,o)):(u=new x(c,r,s,a,n,o),e.__shapes.push(u)),u.setSolidFill(h);var p=l.getBorderColor(e);p&&!g?u.setSolidStroke(p):g&&d&&u.setSolidStroke(d);var _=e.getOptions();u.setClassName(g?_.plotArea.svgClassName:_.svgClassName),u.setStyle(g?_.plotArea.svgStyle:_.svgStyle),i.addChild(u)},_drawCircularReferenceLine:(e,i,r,s,a,n,o)=>{var l=e.getCtx(),h=Math.min(r.w,r.h),g=.275*h,d=.5*h;t.Agent.isRightToLeft(e.getCtx())&&(s=(s=Math.PI-s)>0?s:s+2*Math.PI);var u=C.calcPointOnArc(r,g,s),c=C.calcPointOnArc(r,d,s),p=new t.Line(l,u.x,u.y,c.x,c.y),_=new t.Stroke(a,1,n,!1,t.Stroke.getDefaultDashProps(o,n));p.setStroke(_),i.addChild(p)},getAngleQuadrant:(e,i)=>{var r=1;return i?e>=t.Math.HALF_PI&&e<Math.PI?r=2:e>=Math.PI&&e<1.5*Math.PI?r=3:e>=1.5*Math.PI&&e<t.Math.TWO_PI&&(r=4):e>t.Math.HALF_PI&&e<=Math.PI?r=2:e>Math.PI&&e<=1.5*Math.PI?r=3:(e>1.5*Math.PI&&e<t.Math.TWO_PI||0==e)&&(r=4),r},_hasMetricLabelOutsidePlotArea:e=>{var t=e.metricLabel.position;return"auto"==t||"outsidePlotArea"==t||("withLabel"==t||"withTitle"==t)&&!e.label.text},_adjustCenterAndBounds:(e,i,r,s,a,n,o)=>{var l,h,g=null,d=b.getAngleQuadrant(r,!0),u=b.getAngleQuadrant(a,!1),c=n.w,p=n.h,_=c/2,m=p/2;if(d==u&&s<=t.Math.HALF_PI)l=2*Math.min(n.w,n.h),n.w=n.w+l/2,n.h=n.h+l/2,h=l*i,!o&&1==d||o&&2==d?(n.x-=l/2,n.y-=l/2,_=c/2-l/4+1,m=p/2-l/4+1,g=new t.Rectangle(n.x+n.w/2-1,n.y+n.h/2-1,h*(3/7)-2,h*(2.5/7)-2)):!o&&2==d||o&&1==d?(n.y-=l/2,_=c/2+l/4-1,m=p/2-l/4+1,g=new t.Rectangle(n.x+n.w/2-h*(3/7)+1,n.y+n.h/2-1,h*(3/7)-2,h*(2.5/7)-2)):!o&&3==d||o&&4==d?(_=c/2+l/4-1,m=p/2+l/4-1,g=new t.Rectangle(n.x+n.w/2-h*(3/7)+1,n.y+n.h/2-h*(2.5/7)+1,h*(3/7)-2,h*(2.5/7)-2)):(!o&&4==d||o&&3==d)&&(n.x-=l/2,_=c/2-l/4+1,m=p/2+l/4-1,g=new t.Rectangle(n.x+n.w/2-1,n.y+n.h/2-h*(2.5/7)+1,h*(3/7)-2,h*(2.5/7)-2));else if(d%4+1==u&&s<=Math.PI)1==d||3==d?(h=(l=Math.min(n.w,2*n.h))*i,n.w>n.h&&(g=new t.Rectangle(n.x+n.w/2-h*(3/7),n.y+n.h-(n.h-l/2)/2-h*(2.75/7),h*(6/7),h*(2.5/7)),1==d?(g.y=n.y+(n.h-l/2)/2+h*(.5/7),n.y-=l/2-(n.h-l/2)/2,m=p/2-l/4+1):(n.y+=(n.h-l/2)/2,m=p/2+l/4-1),n.h=l)):(h=(l=Math.min(2*n.w,n.h))*i,n.w<n.h&&(g=new t.Rectangle(n.x+n.w-(n.w-l/2)/2-h*(3.25/7),n.y+n.h/2-h*(2.5/7),h*(3/7),h*(5/7)),!o&&4==d||o&&2==d?(g.x=n.x+(n.w-l/2)/2+h*(.25/7),n.x-=l/2-(n.w-l/2)/2,_=c/2-l/4+1):(n.x+=(n.w-l/2)/2,_=c/2+l/4-1),n.w=l));else if(u%4+1==d&&s>Math.PI){var v;1==d&&n.h>n.w?(v=(h=(l=Math.min(n.w/(Math.cos(r)+1)*2,n.w/(Math.sin(a-1.5*Math.PI)+1)*2,n.h))*i)*(3/7)*(2*n.w/l-1),o?(g=new t.Rectangle(n.x+n.w-l/2-v,n.y+n.h/2-h*(2.5/7),h*(3/7)+v,h*(5/7)),n.x-=l-n.w,_=-l/2+c):(g=new t.Rectangle(n.x+l/2-h*(3/7),n.y+n.h/2-h*(2.5/7),h*(3/7)*(2*n.w/l-1+1),h*(5/7)),_=l/2),n.w=l):2==d&&n.h<n.w?(h=(l=Math.min(n.h/(Math.cos(r-t.Math.HALF_PI)+1)*2,n.h/(Math.sin(a)+1)*2,n.w))*i,g=new t.Rectangle(n.x+n.w/2-h*(3/7),n.y+l/2-h*(2.5/7),h*(6/7),h*(2.5/7)*(2*n.h/l-1+1)),n.h=l,m=l/2):3==d&&n.h>n.w?(v=(h=(l=Math.min(n.w/(Math.cos(r-Math.PI)+1)*2,n.w/(Math.sin(a-t.Math.HALF_PI)+1)*2,n.h))*i)*(3/7)*(2*n.w/l-1),o?(g=new t.Rectangle(n.x+l/2-h*(3/7),n.y+n.h/2-h*(2.5/7),h*(3/7)*(2*n.w/l-1+1),h*(5/7)),_=l/2):(g=new t.Rectangle(n.x+n.w-l/2-v,n.y+n.h/2-h*(2.5/7),h*(3/7)+v,h*(5/7)),n.x-=l-n.w,_=-l/2+c),n.w=l):4==d&&n.h<n.w&&(v=(h=(l=Math.min(n.h/(Math.cos(r-1.5*Math.PI)+1)*2,n.h/(Math.sin(t.Math.TWO_PI-a)+1)*2,n.w))*i)*(2.5/7)*(2*n.h/l-1),g=new t.Rectangle(n.x+n.w/2-h*(3/7),n.y+n.h-l/2-v,h*(6/7),h*(2.5/7)+v),n.y-=l-n.h,n.h=l,m=-l/2+p)}return e.cx=_,e.cy=m,e.maxInnerDiameter=h,g},_renderCenterContent:(e,i,r,a,n)=>{var o=new t.Rectangle(r.x+.5*(r.w-n),r.y+.5*(r.h-n),n,n);o=o.getIntersection(a);var l=new t.Rectangle(r.x+.5*(r.w-n/Math.sqrt(2)),r.y+.5*(r.h-n/Math.sqrt(2)),n/Math.sqrt(2),n/Math.sqrt(2));l=l.getIntersection(a);var h=i.center.renderer;if(h){var g={outerBounds:{x:o.x,y:o.y,width:o.w,height:o.h},innerBounds:{x:l.x,y:l.y,width:l.w,height:l.h},metricLabel:s.getFormattedMetricLabel(i.value,e),component:i._widgetConstructor},d=e.getCtx();g=d.fixRendererContext(g);var u=d.getContainer(),c=e.centerDiv;c&&u.removeChild(c);var p=h(g);if(!p)return;var _=d.createOverlayDiv();Array.isArray(p)?p.forEach(e=>{_.appendChild(e)}):_.appendChild(p),e.centerDiv=_,u.appendChild(_);var m=d.getOverlayAttachedCallback();m&&m(_)}}};e.LedGauge=c,e.RatingGauge=class extends h{constructor(e,t,i){super(e,t,i),this.type="rating",this.Defaults=new p(e)}SetOptions(e){(e=t.JsonUtils.clone(e)).changedState&&(e.changedState.className&&(e.changedState.svgClassName=e.changedState.className),e.changedState.style&&(e.changedState.svgStyle=e.changedState.style)),e.hoverState&&(e.hoverState.className&&(e.hoverState.svgClassName=e.hoverState.className),e.hoverState.style&&(e.hoverState.svgStyle=e.hoverState.style)),e.selectedState&&(e.selectedState.className&&(e.selectedState.svgClassName=e.selectedState.className),e.selectedState.style&&(e.selectedState.svgStyle=e.selectedState.style)),e.unselectedState&&(e.unselectedState.className&&(e.unselectedState.svgClassName=e.unselectedState.className),e.unselectedState.style&&(e.unselectedState.svgStyle=e.unselectedState.style)),this.getCtx().isCustomElement()&&(e.readOnly=e.readonly);var i=this.getCtx().getSvgDocument();"fit"!==e.size?(this.getCtx().removeSizingSvg(),i.style.height=e._height+"px",i.style.width=e._width+"px"):(this.getCtx().addSizingSvg(),i.style.height="",i.style.width=""),super.SetOptions(this.Defaults.calcOptions(e))}Render(e,i,r){var s=this.Options.__layout.outerGap,a=this.Options.max,n=this.Options.size,o="vertical"==this.Options.orientation,l=this.Options.selectedState.source,h="none"!=this.Options.preserveAspectRatio;if(l&&h&&"fit"===n){return t.ImageLoader.loadImage(this.Options.selectedState.source,n=>{if("ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||11!=t.Agent.version||!n||0!=n.width||0!=n.height||(n.width=1,n.height=1),n&&n.width&&n.height){var l=n.width/n.height;this.__shapeWidth=o?Math.min(i-2*s,(r-2*s)*l/a):Math.min((r-2*s)*l,(i-2*s)/a),this.__shapeHeight=this.__shapeWidth/l,this.__bounds=o?new t.Rectangle(s,(r-this.__shapeHeight*a)/2,i-2*s,this.__shapeHeight*a):new t.Rectangle((i-this.__shapeWidth*a)/2,s,this.__shapeWidth*a,r-2*s),v.render(this,e,i,r)}this.PostRender(this.Options,e)}),!1}return s="fit"===n?s:0,h?(this.__shapeWidth=o?Math.min(i-2*s,(r-2*s)/a):Math.min(r-2*s,(i-2*s)/a),this.__shapeHeight=this.__shapeWidth):(this.__shapeWidth=o?i-2*s:(i-2*s)/a,this.__shapeHeight=o?(r-2*s)/a:r-2*s),this.__bounds=o?new t.Rectangle(s,(r-this.__shapeHeight*a)/2,i-2*s,this.__shapeHeight*a):new t.Rectangle((i-this.__shapeWidth*a)/2,s,this.__shapeWidth*a,r-2*s),v.render(this,e,i,r),!0}__getLogicalObject(){var e=this.Options.tooltip,i=e?e.renderer:null,r=l.getColor(this);if(i){var a={component:this.Options._widgetConstructor,label:s.getFormattedMetricLabel(this.Options.value,this),color:r};return new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),i,r,a)}return new m(this)}GetValueAt(e,i){var a,n="vertical"==this.Options.orientation?this.__shapeHeight:this.__shapeWidth;return r.hasData(this)?("vertical"==this.Options.orientation?(i=Math.max(Math.min(i,this.__bounds.y+this.__bounds.h),this.__bounds.y),a=Math.max((this.__bounds.y+this.__bounds.h-i)/n,this.Options.min)):(e=Math.max(Math.min(e,this.__bounds.x+this.__bounds.w),this.__bounds.x),a=0,a=t.Agent.isRightToLeft(this.getCtx())?Math.max((this.__bounds.x+this.__bounds.w-e)/n,this.Options.min):Math.max((e-this.__bounds.x)/n,this.Options.min)),s.adjustForStep(this.Options,a)):null}__processHoverEnd(e,i){this.__updateClipRects(this.Options.value,"render"),this.dispatchEvent(t.EventFactory.newValueChangeEvent(this.Options.value,this.Options.value,!1))}__processValueChangeStart(e,t){this.__processValueChangeMove(e,t)}__processValueChangeMove(e,i){var r=this.GetValueAt(e,i);this.__updateClipRects(r,"hover"),this.dispatchEvent(t.EventFactory.newValueChangeEvent(this.Options.value,r,!1))}__processValueChangeEnd(e,i){var r=this.Options.value;this.Options.value=this.GetValueAt(e,i),this.Options.changed=!0,this.render(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(r,this.Options.value,!1)),this.dispatchEvent(t.EventFactory.newValueChangeEvent(r,this.Options.value,!0))}__updateClipRects(e,i,s){if(r.hasData(this)){s||(s=this._container);var a,n,o,l,h,g,d=t.Agent.isRightToLeft(this.getCtx()),u="vertical"==this.Options.orientation,c=u?this.__shapeHeight:this.__shapeWidth,p=0,_=(e=Math.max(Math.min(e,this.Options.max),0))*c,m=e*c;"render"===i&&(p=e*c,_=0),u?(a=s.getChildAt(0),(n=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,this.__bounds.w,this.__bounds.h-m),a.setClipPath(n),o=s.getChildAt(1),(l=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y+this.__bounds.h-p,this.__bounds.w,p),o.setClipPath(l),(h=s.getChildAt(2))&&((g=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y+this.__bounds.h-_,this.__bounds.w,_),h.setClipPath(g))):d?(a=s.getChildAt(0),(n=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,this.__bounds.w-m,this.__bounds.h),a.setClipPath(n),o=s.getChildAt(1),(l=new t.ClipPath).addRect(this.__bounds.x+this.__bounds.w-m,this.__bounds.y,p,this.__bounds.h),o.setClipPath(l),(h=s.getChildAt(2))&&((g=new t.ClipPath).addRect(this.__bounds.x+this.__bounds.w-m,this.__bounds.y,_,this.__bounds.h),h.setClipPath(g))):(a=s.getChildAt(0),(n=new t.ClipPath).addRect(this.__bounds.x+m,this.__bounds.y,this.__bounds.w-m,this.__bounds.h),a.setClipPath(n),o=s.getChildAt(1),(l=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,p,this.__bounds.h),o.setClipPath(l),(h=s.getChildAt(2))&&((g=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,_,this.__bounds.h),h.setClipPath(g)))}}__getRatingGaugeItem(e){return this._container.getChildAt(0).getChildAt(e)}CreateEventManager(){return new _(this)}IsInteractive(){return!this.Options.disabled&&super.IsInteractive(this)}},e.StatusMeterGauge=class extends h{constructor(e,t,i){super(e,t,i),this.type="statusMeter",this.Defaults=new f(e),this.__axisInfo=null}SetOptions(e){(e=t.JsonUtils.clone(e)).title&&(e.label=e.title),e.plotArea&&(e.plotArea.className&&(e.plotArea.svgClassName=e.plotArea.className),e.plotArea.style&&(e.plotArea.svgStyle=e.plotArea.style)),this.getCtx().isCustomElement()&&(e.readOnly=e.readonly),super.SetOptions(this.Defaults.calcOptions(e))}Render(e,t,i){b.render(this,e,t,i)}CreateAnimOnDisplay(e,i,r){for(var s=[],a=0;a<e.length;a++){var n=e[a],o=n.getAnimParams();"horizontal"==this.Options.orientation?n.setAnimParams([o[0],o[0],o[2],o[3]]):"vertical"==this.Options.orientation?n.setAnimParams([o[0],o[1],o[3],o[3]]):"circular"==this.Options.orientation&&n.setAnimParams([o[0],o[1],0,o[3],o[4]]);var l=new t.CustomAnimation(this.getCtx(),n,r);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,n,n.getAnimParams,n.setAnimParams,o),l.getAnimator().setEasing(function(e){return t.Easing.backOut(e,.7)}),s.push(l)}return new t.ParallelPlayable(this.getCtx(),s)}GetValueAt(e,i){var r=this.Options,s=t.Agent.isRightToLeft(this.getCtx());if("horizontal"==r.orientation)return this.__axisInfo.getBoundedValAt(e);if("vertical"==r.orientation)return this.__axisInfo.getBoundedValAt(i);if("circular"==r.orientation){var a=r.angleExtent,n=Math.atan2(i-this.cy,e-this.cx),o=s?180-(t.Math.radsToDegrees(n)-r.startAngle):t.Math.radsToDegrees(n)-(360-r.startAngle),l=(o=(o+720)%360)/a,h=r.min,g=r.max,d=l*(g-h)+h;return o>a&&(d=(o-a)/(360-a)>.5?0:g),d}return null}},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojchart",["ojs/ojcore-base","ojs/ojdvt-base","ojs/ojcomponentcore","jquery","ojs/ojconverterutils-i18n","ojs/ojconverter-number","ojs/ojlogger","ojs/ojchart-toolkit"],function(e,t,i,r,s,a,n,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var l={properties:{animationOnDataChange:{type:"string",enumValues:["auto","none","slideToLeft","slideToRight"],value:"none"},animationOnDisplay:{type:"string",enumValues:["alphaFade","auto","none","zoom"],value:"none"},as:{type:"string",value:""},comboSeriesOrder:{type:"string",enumValues:["data","seriesType"],value:"seriesType"},coordinateSystem:{type:"string",enumValues:["cartesian","polar"],value:"cartesian"},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},dataCursor:{type:"string",enumValues:["auto","off","on"],value:"auto"},dataCursorBehavior:{type:"string",enumValues:["auto","smooth","snap"],value:"auto"},dataCursorPosition:{type:"object",writeback:!0,properties:{x:{type:"number|string"},y:{type:"number"},y2:{type:"number"}}},dataLabel:{type:"function"},dnd:{type:"object",properties:{drag:{type:"object",properties:{groups:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},series:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{legend:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},plotArea:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},xAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},y2Axis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},yAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}}}},dragMode:{type:"string",enumValues:["off","pan","select","user","zoom"],value:"user"},drilling:{type:"string",enumValues:["groupsOnly","off","on","seriesOnly"],value:"off"},groupComparator:{type:"function"},groups:{type:"Array<string>|Array<Object>|Promise"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["none","withRescale","withoutRescale"],value:"none"},highlightMatch:{type:"string",enumValues:["all","any"],value:"all"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},initialZooming:{type:"string",enumValues:["first","last","none"],value:"none"},legend:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},maxSize:{type:"string"},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjectSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sectionTitleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},sectionTitleStyle:{type:"object",value:{}},sections:{type:"Array<Object>",value:[]},seriesSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},size:{type:"string"},symbolHeight:{type:"number"},symbolWidth:{type:"number"},textStyle:{type:"object",value:{}},title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"]},titleStyle:{type:"object",value:{}}}},multiSeriesDrilling:{type:"string",enumValues:["off","on"],value:"off"},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},otherThreshold:{type:"number",value:0},overview:{type:"object",properties:{content:{type:"object",value:{}},height:{type:"string"},rendered:{type:"string",enumValues:["off","on"],value:"off"}}},pieCenter:{type:"object",properties:{converter:{type:"object"},label:{type:"number|string"},labelStyle:{type:"object",value:{}},renderer:{type:"function"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},plotArea:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},borderWidth:{type:"number"},rendered:{type:"string",enumValues:["off","on"],value:"on"}}},polarGridShape:{type:"string",enumValues:["circle","polygon"],value:"circle"},selection:{type:"Array<any>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["multiple","none","single"],value:"none"},series:{type:"Array<Object>|Promise"},seriesComparator:{type:"function"},sorting:{type:"string",enumValues:["ascending","descending","off"],value:"off"},splitDualY:{type:"string",enumValues:["auto","off","on"],value:"auto"},splitterPosition:{type:"number",value:.5},stack:{type:"string",enumValues:["off","on"],value:"off"},stackLabel:{type:"string",enumValues:["off","on"],value:"off"},stackLabelProvider:{type:"function"},styleDefaults:{type:"object",properties:{animationDownColor:{type:"string"},animationDuration:{type:"number"},animationIndicators:{type:"string",enumValues:["all","none"],value:"all"},animationUpColor:{type:"string"},barGapRatio:{type:"number"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string",value:""},medianSvgStyle:{type:"object",value:{}},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string",value:""},whiskerEndSvgStyle:{type:"object",value:{}},whiskerSvgClassName:{type:"string",value:""},whiskerSvgStyle:{type:"object",value:{}}}},colors:{type:"Array<string>"},dataCursor:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"on"},markerSize:{type:"number"}}},dataItemGaps:{type:"string"},dataLabelCollision:{type:"string",enumValues:["fitInBounds","none"],value:"none"},dataLabelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"],value:"auto"},dataLabelStyle:{type:"object|Array<Object>"},funnelBackgroundColor:{type:"string"},groupSeparators:{type:"object",properties:{color:{type:"string"},rendered:{type:"string",enumValues:["auto","off"],value:"auto"}}},hoverBehaviorDelay:{type:"number"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"auto"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"],value:"auto"},markerShape:{type:"string",value:"auto"},markerSize:{type:"number"},marqueeBorderColor:{type:"string"},marqueeColor:{type:"string"},maxBarWidth:{type:"number"},otherColor:{type:"string"},patterns:{type:"Array<string>"},pieFeelerColor:{type:"string"},pieInnerRadius:{type:"number",value:0},selectionEffect:{type:"string",enumValues:["explode","highlight","highlightAndExplode"],value:"highlight"},seriesEffect:{type:"string",enumValues:["color","gradient","pattern"],value:"color"},shapes:{type:"Array<string>"},stackLabelStyle:{type:"object",value:{}},stockFallingColor:{type:"string"},stockRangeColor:{type:"string"},stockRisingColor:{type:"string"},stockVolumeColor:{type:"string"},threeDEffect:{type:"string",enumValues:["off","on"],value:"off"},tooltipLabelStyle:{type:"object",value:{}},tooltipValueStyle:{type:"object",value:{}}}},timeAxisType:{type:"string",enumValues:["auto","disabled","enabled","mixedFrequency","skipGaps"],value:"auto"},tooltip:{type:"object",properties:{renderer:{type:"function"}}},touchResponse:{type:"string",enumValues:["auto","touchStart"],value:"auto"},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelClose:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelDate:{type:"string"},labelDefaultGroupName:{type:"string"},labelGroup:{type:"string"},labelHigh:{type:"string"},labelInvalidData:{type:"string"},labelLow:{type:"string"},labelNoData:{type:"string"},labelOpen:{type:"string"},labelOther:{type:"string"},labelPercentage:{type:"string"},labelQ1:{type:"string"},labelQ2:{type:"string"},labelQ3:{type:"string"},labelSeries:{type:"string"},labelTargetValue:{type:"string"},labelValue:{type:"string"},labelVolume:{type:"string"},labelX:{type:"string"},labelY:{type:"string"},labelZ:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateLoaded:{type:"string"},stateLoading:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipPan:{type:"string"},tooltipSelect:{type:"string"},tooltipZoom:{type:"string"}}},type:{type:"string",enumValues:["area","bar","boxPlot","bubble","combo","funnel","line","lineWithArea","pie","pyramid","scatter","stock"],value:"bar"},valueFormats:{type:"object",properties:{close:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},group:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string|Array<string>"}}},high:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},label:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},low:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},open:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q1:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q3:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},series:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},targetValue:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},value:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},volume:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},x:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},z:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}}}},xAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number|string"},maxSize:{type:"string"},min:{type:"number|string"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},rendered:{type:"string",enumValues:["off","on"],value:"on"},rotation:{type:"string",enumValues:["auto","none"],value:"auto"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportEndGroup:{type:"number|string"},viewportMax:{type:"number|string"},viewportMin:{type:"number|string"},viewportStartGroup:{type:"number|string"}}},y2Axis:{type:"object",properties:{alignTickMarks:{type:"string",enumValues:["off","on"],value:"on"},axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}}}},yAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportMax:{type:"number"},viewportMin:{type:"number"}}},zoomAndScroll:{type:"string",enumValues:["delayed","delayedScrollOnly","live","liveScrollOnly","off"],value:"off"},zoomDirection:{type:"string",enumValues:["auto","x","y"],value:"auto"}},methods:{getAutomation:{},getContextByNode:{},getDataItem:{},getGroup:{},getGroupCount:{},getLegend:{},getPlotArea:{},getProperty:{},getSeries:{},getSeriesCount:{},getValuesAt:{},getXAxis:{},getY2Axis:{},getYAxis:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojDrill:{},ojGroupDrill:{},ojItemDrill:{},ojMultiSeriesDrill:{},ojSelectInput:{},ojSeriesDrill:{},ojViewportChange:{},ojViewportChangeInput:{}},extension:{}};!function(){l.extension._WIDGET_NAME="ojChart";var i=t.shapeParseFunction({"style-defaults.marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0});e.CustomElementBridge.register("oj-chart",{metadata:l,parseFunction:function(e,t,r,s){return"number|string"===r.type?isNaN(e)?e:Number(e):"style-defaults.data-label-style"===t?JSON.parse(e):i(e,t,r,s)}})}();var h={properties:{borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},close:{type:"number"},color:{type:"string"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},groupId:{type:"Array<(string|number)>"},high:{type:"number"},items:{type:"Array<Object>|Array<number>"},label:{type:"string|Array<string>"},labelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"]},labelStyle:{type:"object|Array<Object>"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["auto","off","on"]},markerShape:{type:"string"},markerSize:{type:"number"},open:{type:"number"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},q1:{type:"number"},q2:{type:"number"},q3:{type:"number"},seriesId:{type:"string|number"},shortDesc:{type:"string|function"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},targetValue:{type:"number"},value:{type:"number"},volume:{type:"number"},x:{type:"number|string"},y:{type:"number"},z:{type:"number"}},extension:{}};!function(){h.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-item",{metadata:h,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var g={properties:{areaColor:{type:"string"},areaSvgClassName:{type:"string"},areaSvgStyle:{type:"object"},assignedToY2:{type:"string",enumValues:["off","on"],value:"off"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},color:{type:"string"},displayInLegend:{type:"string",enumValues:["auto","off","on"],value:"auto"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"]},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"]},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"]},markerShape:{type:"string"},markerSize:{type:"number"},markerSvgClassName:{type:"string"},markerSvgStyle:{type:"object"},name:{type:"string"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},pieSliceExplode:{type:"number",value:0},shortDesc:{type:"string"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},stackCategory:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},type:{type:"string",enumValues:["area","auto","bar","boxPlot","candlestick","line","lineWithArea"],value:"auto"}},extension:{}};!function(){g.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-series",{metadata:g,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var d={properties:{drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},labelStyle:{type:"object"},name:{type:"string"},shortDesc:{type:"string"}},extension:{}};d.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-chart-group",{metadata:d});var u={properties:{animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"],value:"none"},animationOnDisplay:{type:"string",enumValues:["auto","none"],value:"none"},areaColor:{type:"string",value:""},areaSvgClassName:{type:"string",value:""},areaSvgStyle:{type:"object",value:{}},as:{type:"string",value:""},barGapRatio:{type:"number",value:.25},baselineScaling:{type:"string",enumValues:["min","zero"],value:"min"},color:{type:"string"},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},firstColor:{type:"string",value:""},highColor:{type:"string",value:""},items:{type:"Array<Object>|Array<number>|Promise"},lastColor:{type:"string",value:""},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"straight"},lineWidth:{type:"number",value:1},lowColor:{type:"string",value:""},markerShape:{type:"string",value:"auto"},markerSize:{type:"number",value:5},referenceObjects:{type:"Array<Object>",value:[]},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},type:{type:"string",enumValues:["area","bar","line","lineWithArea"],value:"line"},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getDataItem:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){u.extension._WIDGET_NAME="ojSparkChart";e.CustomElementBridge.register("oj-spark-chart",{metadata:u,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var c={properties:{borderColor:{type:"string",value:""},color:{type:"string",value:""},date:{type:"string",value:""},high:{type:"number"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"off"},markerShape:{type:"string"},markerSize:{type:"number"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},value:{type:"number"}},extension:{}};c.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-spark-chart-item",{metadata:c});const p=(e,t,i,r)=>{const s=e.element[0],a=e._TemplateHandler,o=a.getTemplates(),l=o.seriesTemplate?o.seriesTemplate[0]:null,h=o.groupTemplate?o.groupTemplate[0]:null,g=e.options.seriesComparator,d=e.options.groupComparator,u=new Map,c=h||d?new Map:null,p=new Map,_=(e,n)=>{const o=[...e.keys()],l=new Map,g=o.map((o,g)=>{let u;const p=e.get(o),m=p.value,v=p.groups;let f;return(h||d)&&(f=((e,t,r,a)=>{const n={ids:t,componentElement:s,depth:t.length,leaf:a,index:r};return Object.defineProperty(n,"items",{get:()=>c.get(e).map(e=>{const t=i[e];return{data:t._itemData,key:t.id,index:e}})}),n})(m,[...n,o],g,!v),l.set(o,f)),u=h?a.processNodeTemplate(r,t,h,"oj-chart-group",f,m):{},u.id=o,u.name=null==u.name?o:u.name,v?u.groups=_(v,[...n,o]):Object.defineProperty(u,"symbol",{value:m,enumerable:!1}),u});return d&&g.sort((e,t)=>d(l.get(e.id),l.get(t.id))),g},m=e=>{const t=[];return e.forEach(e=>{e.groups?t.push(...m(e.groups)):t.push(e.symbol)}),t};i.forEach((e,t)=>{const i=(e=>{let t=u;const i=[];for(let r=0;r<e.length;r++){const s=e[r];let a=t.get(s);a||(a={value:Symbol(s)},r!==e.length-1&&(a.groups=new Map),t.set(s,a)),i.push(a.value),t=a.groups}return i})(e.groupId);((e,t,i)=>{let r=p.get(e);r||(r=new Map,p.set(e,r));const s=t[t.length-1];void 0===r.get(s)&&(r.set(s,i),c&&t.forEach(e=>{let t=c.get(e);t||(t=[],c.set(e,t)),t.push(i)}))})(e.seriesId,i,t)});const v=(()=>{try{return _(u,[])}catch(e){return n.error(e),[]}})(),f=(e=>{let o;try{const n=new Map,h=m(e);o=[...p.keys()].map((e,o)=>{const d=p.get(e);let u,c;return(l||g)&&(u=((e,t,r,a)=>{const n={componentElement:s,id:e,index:t};return Object.defineProperty(n,"items",{get:()=>{const e=[];return r.forEach(t=>{const r=a.get(t);if(null!=r){const t=i[r];e.push({data:t._itemData,key:t.id,index:r})}}),e}}),n})(e,o,h,d),n.set(e,u)),c=l?a.processNodeTemplate(r,t,l,"oj-chart-series",u,e):{},c.id=e,c.name=null==c.name?String(e):c.name,c.items=h.map(e=>{let t=null;const r=d.get(e);return null!=r&&(t=i[r]),t}),c}),g&&o.sort((e,t)=>g(n.get(e.id),n.get(t.id)))}catch(e){n.error(e),o=[]}return o})(v);return{groups:v,series:f}};e.__registerWidget("oj.ojChart",r.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{data:null,series:null,groups:null,selectInput:null,tooltip:{renderer:null},viewportChange:null,viewportChangeInput:null,drill:null,itemDrill:null,groupDrill:null,seriesDrill:null,multiSeriesDrill:null,comboSeriesOrder:"seriesType"},_ComponentCreate:function(){this._super(),this._SetLocaleHelpers(a,s)},_CreateDvtComponent:function(e,t,i){return new o.Chart(e,t,i)},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-chart-item"===t?t="dataItem["+e.seriesIndex+"]["+e.itemIndex+"]":"oj-chart-group"===t?t="group"+this._GetStringFromIndexPath(e.indexPath):"oj-chart-series"===t?t="series["+e.index+"]":"oj-chart-axis-title"===t?t=e.axis+":title":"oj-chart-reference-object"===t?t=e.axis+":referenceObject["+e.index+"]":"oj-legend-item"===t?(t="legend:section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-chart-tooltip"===t?t="tooltip":"oj-chart-pie-center-label"===t&&(t="pieCenterLabel"),t},_IsLoadingSkeletonSupported:function(){return!0},_GetLoadingSkeletonMaskStyleClass:function(){return{bar:"oj-chart-bar-skeleton-container",boxPlot:"oj-chart-boxplot-skeleton-container",stock:"oj-chart-boxplot-skeleton-container",bubble:"oj-chart-bubble-skeleton-container",scatter:"oj-chart-bubble-skeleton-container",area:"oj-chart-area-skeleton-container",lineWithArea:"oj-chart-area-skeleton-container",line:"oj-chart-line-skeleton-container",combo:"oj-chart-combo-skeleton-container",pie:"oj-chart-pie-skeleton-container",polar:"oj-chart-pie-skeleton-container",funnel:"oj-chart-funnel-skeleton-container",pyramid:"oj-chart-pyramid-skeleton-container"}["polar"!==this.options.coordinateSystem?this.options.type||"bar":"polar"]},_ProcessTemplates:function(e,t,i,r,s,a,n){var o=a?this._TemplateHandler.getComponentResults(e):null;if(!o){var l=this._super(e,t,i,r,s,a,n),h=p(this,i,l.values[0],e);o={paths:["series","groups"],values:[h.series,h.groups]},a&&this._TemplateHandler.setComponentResults(e,o)}return o},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-chart-item",resultPath:"_item",derivedTemplates:["seriesTemplate","groupTemplate"]}}},_UseObjectAssignForShapedData:function(){return!0},_ProcessOptions:function(){this._super();var e=this.options.pieCenter;e&&e._renderer&&(e.renderer=this._GetTemplateRenderer(e._renderer,"center"));var t=this.options.selection;this._IsCustomElement()&&t&&"object"==typeof t[0]&&!this.options.data&&(this.options.selection=null)},_ConvertSubIdToLocator:function(e){var t={};if(0===e.indexOf("dataItem")){var i=this._GetIndexPath(e);t.subId="oj-chart-item",t.seriesIndex=i[0],t.itemIndex=i[1]}else if(0===e.indexOf("group"))t.subId="oj-chart-group",t.indexPath=this._GetIndexPath(e);else if(0===e.indexOf("series"))t.subId="oj-chart-series",t.index=this._GetFirstIndex(e);else if(e.indexOf("Axis:title")>0)t.subId="oj-chart-axis-title",t.axis=e.substring(0,e.indexOf(":"));else if(e.indexOf("Axis:referenceObject")>0)t.subId="oj-chart-reference-object",t.axis=e.substring(0,e.indexOf(":")),t.index=this._GetFirstIndex(e);else if(0===e.indexOf("legend")){if(e.indexOf(":item")>0){var r=e.indexOf(":item"),s=e.substring(0,r),a=e.substring(r);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(s),t.itemIndex=this._GetFirstIndex(a)}}else"tooltip"===e?t.subId="oj-chart-tooltip":"pieCenterLabel"===e&&(t.subId="oj-chart-pie-center-label");return t},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"},{path:"pieCenter/renderer",slot:"pieCenterTemplate"}]},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-chart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-chart-data-label"]={path:"styleDefaults/_dataLabelStyle",property:"TEXT"},e["oj-chart-data-cursor-line"]=[{path:"styleDefaults/dataCursor/lineColor",property:"color"},{path:"styleDefaults/dataCursor/lineWidth",property:"width"}],e["oj-chart-stack-label"]={path:"styleDefaults/stackLabelStyle",property:"TEXT"},e["oj-chart-pie-center-label"]={path:"pieCenter/labelStyle",property:"TEXT"},e["oj-chart-slice-label"]={path:"styleDefaults/sliceLabelStyle",property:"TEXT"},e["oj-chart-stock-falling"]={path:"styleDefaults/stockFallingColor",property:"background-color"},e["oj-chart-stock-range"]={path:"styleDefaults/stockRangeColor",property:"background-color"},e["oj-chart-stock-rising"]={path:"styleDefaults/stockRisingColor",property:"background-color"},e["oj-chart-xaxis-tick-label"]={path:"xAxis/tickLabel/style",property:"TEXT"},e["oj-chart-xaxis-title"]={path:"xAxis/titleStyle",property:"TEXT"},e["oj-chart-yaxis-tick-label"]={path:"yAxis/tickLabel/style",property:"TEXT"},e["oj-chart-yaxis-title"]={path:"yAxis/titleStyle",property:"TEXT"},e["oj-chart-y2axis-tick-label"]={path:"y2Axis/tickLabel/style",property:"TEXT"},e["oj-chart-y2axis-title"]={path:"y2Axis/titleStyle",property:"TEXT"},e["oj-chart-reference-object-line"]=[{path:"_defaultReferenceObjectLineColor",property:"color"},{path:"_defaultReferenceObjectLineWidth",property:"width"}],e["oj-chart-reference-object-area"]={path:"_defaultReferenceObjectAreaColor",property:"color"},e["oj-legend"]={path:"legend/textStyle",property:"TEXT"},e["oj-legend-title"]={path:"legend/titleStyle",property:"TEXT"},e["oj-legend-section-title"]=[{path:"legend/_sectionTitleStyle",property:"TEXT"},{path:"legend/sectionTitleStyle",property:"TEXT"}],e["oj-legend-hover"]={path:"legend/_hoverBorderRadius",property:"border-radius"},e["oj-dvt-color-ramp"]={path:"styleDefaults/colors",property:"COLOR"},e},_GetEventTypes:function(){return["drill","groupDrill","itemDrill","seriesDrill","multiSeriesDrill","optionChange","selectInput","viewportChange","viewportChangeInput"]},_HandleEvent:function(e){var t=e.type;if("selection"===t){var i=e.selection;if(i){for(var r=[],s=[],a=0;a<i.length;a++){var n;n=this._IsCustomElement()?i[a].id:{id:i[a].id,series:i[a].series,group:i[a].group};var o={data:i[a].data,seriesData:i[a].seriesData,groupData:i[a].groupData,itemData:i[a].itemData};r.push(n),s.push(o)}var l={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin,y2Max:e.y2Max,y2Min:e.y2Min,selectionData:s};this._IsCustomElement()||(l.component=e.component),e.complete?this._UserOptionChange("selection",r,l):(l.items=r,this._trigger("selectInput",null,l))}}else if("viewportChange"===t){var h={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin};e.complete&&(this.options.xAxis||(this.options.xAxis={}),this.options.yAxis||(this.options.yAxis={}),this.options.xAxis.viewportStartGroup=null,this.options.xAxis.viewportEndGroup=null,null!=e.xMin&&null!=e.xMax&&(this.options.xAxis.viewportMin=e.xMin,this.options.xAxis.viewportMax=e.xMax),null!=e.yMin&&null!=e.yMax&&(this.options.yAxis.viewportMin=e.yMin,this.options.yAxis.viewportMax=e.yMax)),this._trigger(e.complete?"viewportChange":"viewportChangeInput",null,h)}else if("drill"===t)if(e.subType){if(this._IsCustomElement()){var g=e.subType;"item"===g?this._trigger("itemDrill",null,{id:e.id,series:e.series,group:e.group,data:e.data,itemData:e.itemData,seriesData:e.seriesData,groupData:e.groupData}):"group"===g?this._trigger("groupDrill",null,{group:e.group,groupData:e.groupData,id:e.id,items:e.items}):"series"===g?this._trigger("seriesDrill",null,{id:e.id,items:e.items,series:e.series,seriesData:e.seriesData}):"multiSeries"===g&&this._trigger("multiSeriesDrill",null,{items:e.items,series:e.series,seriesData:e.seriesData})}}else this._trigger("drill",null,{id:e.id,series:e.series,group:e.group,data:e.data,seriesData:e.seriesData,groupData:e.groupData,itemData:e.itemData,component:e.component});else this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources;e.overviewGrippy="oj-fwk-icon oj-fwk-icon-drag-horizontal",e.pan="oj-fwk-icon oj-fwk-icon-pan",e.select="oj-fwk-icon oj-fwk-icon-marquee",e.zoom="oj-fwk-icon oj-fwk-icon-magnifier"},getTitle:function(){return this._component.getAutomation().getTitle()},getGroup:function(e){return this._component.getAutomation().getGroup(e)},getSeries:function(e){return this._component.getAutomation().getSeries(e)},getGroupCount:function(){return this._component.getAutomation().getGroupCount()},getSeriesCount:function(){return this._component.getAutomation().getSeriesCount()},getDataItem:function(e,t){return this._component.getAutomation().getDataItem(e,t)},getLegend:function(){return this._component.getAutomation().getLegend()},getPlotArea:function(){return this._component.getAutomation().getPlotArea()},getXAxis:function(){return this._component.getAutomation().getXAxis()},getYAxis:function(){return this._component.getAutomation().getYAxis()},getY2Axis:function(){return this._component.getAutomation().getY2Axis()},getValuesAt:function(e,t){return this._component.getValsAt(e,t)},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-chart-tooltip"!==t.subId?t:null},getAutomation:function(){return this._component.getAutomation()},_GetComponentNoClonePaths:function(){var e=this._super();return e.pieCenter={converter:!0},e.xAxis={tickLabel:{converter:!0}},e.yAxis={tickLabel:{converter:!0}},e.y2Axis={tickLabel:{converter:!0}},e.valueFormats={close:{converter:!0},high:{converter:!0},label:{converter:!0},low:{converter:!0},open:{converter:!0},q1:{converter:!0},q2:{converter:!0},q3:{converter:!0},targetValue:{converter:!0},value:{converter:!0},volume:{converter:!0},x:{converter:!0},y:{converter:!0},y2:{converter:!0},z:{converter:!0}},e},_GetComponentDeferredDataPaths:function(){return{root:["groups","series","data"]}},_CompareOptionValues:function(t,i,r){return"dataCursorPosition"===t?e.Object.compareValues(i,r):this._super(t,i,r)}}),e.__registerWidget("oj.ojSparkChart",r.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{as:"",data:null,items:null,referenceObjects:[],tooltip:{renderer:null},type:"line",color:"",areaColor:"",areaSvgClassName:"",areaSvgStyle:{},svgClassName:"",svgStyle:{},firstColor:"",lastColor:"",highColor:"",lowColor:"",animationDuration:void 0,animationOnDataChange:"none",animationOnDisplay:"none",visualEffects:"auto",baselineScaling:"min",lineWidth:1,lineStyle:"solid",lineType:"straight",markerShape:"auto",markerSize:5,barGapRatio:.25},_CreateDvtComponent:function(e,t,i){return this._focusable({element:this.element,applyHighlight:!0}),new o.SparkChart(e,t,i)},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-sparkchart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-sparkchart"]={path:"animationDuration",property:"ANIM_DUR"},e["oj-spark-chart-item"]={path:"color",property:"color"},e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getDataItem:function(e){var t=this._component.getAutomation().getDataItem(e);return this._AddAutomationGetters(t),t&&(t.getFloatValue=t.getLow),t},_GetComponentDeferredDataPaths:function(){return{root:["items","data"]}},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-spark-chart-item",resultPath:"items"}}},_AddAutomationGetters:function(e){if(e){for(var t={},i=Object.keys(e),r=0;r<i.length;r++)this._addGetter(e,i[r],t);Object.defineProperties(e,t)}},_addGetter:function(e,t,i){i[("selected"===t?"is":"get")+t.charAt(0).toUpperCase()+t.slice(1)]={value:function(){return e[t]}}}})}),define("ojs/ojlegend",["ojs/ojcore-base","ojs/ojcomponentcore","ojs/ojdvt-base","jquery","ojs/ojlegend-toolkit","ojs/ojkeyset"],function(e,t,i,r,s,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var n={properties:{as:{type:"string",value:""},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},drilling:{type:"string",enumValues:["off","on"],value:"off"},expanded:{type:"KeySet",writeback:!0},halign:{type:"string",enumValues:["center","end","start"],value:"start"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["off","on"],value:"off"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},hoverBehaviorDelay:{type:"number",value:200},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sectionTitleHalign:{type:"string",enumValues:["center","end","start"]},sectionTitleStyle:{type:"object",value:{}},sections:{type:"Array<Object>"},symbolHeight:{type:"number",value:0},symbolWidth:{type:"number",value:0},textStyle:{type:"object",value:{}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipCollapse:{type:"string"},tooltipExpand:{type:"string"}}},valign:{type:"string",enumValues:["bottom","middle","top"],value:"top"}},methods:{getContextByNode:{},getItem:{},getPreferredSize:{},getProperty:{},getSection:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojDrill:{}},extension:{}};n.extension._WIDGET_NAME="ojLegend",e.CustomElementBridge.register("oj-legend",{metadata:n});var o={properties:{borderColor:{type:"string",value:""},categories:{type:"Array<string>",value:[]},categoryVisibility:{type:"string",enumValues:["hidden","visible"],value:"visible"},color:{type:"string"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},markerColor:{type:"string"},markerShape:{type:"string",value:"square"},markerSvgClassName:{type:"string",value:""},markerSvgStyle:{type:"object"},pattern:{type:"string",enumValues:["largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","none","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"none"},shortDesc:{type:"string",value:""},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object"},symbolType:{type:"string",enumValues:["image","line","lineWithMarker","marker"],value:"marker"},text:{type:"string",value:""}},extension:{}};!function(){o.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-legend-item",{metadata:o,parseFunction:i.shapeParseFunction({"marker-shape":!0},{circle:!0,ellipse:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,rectangle:!0,star:!0,square:!0})})}();var l={properties:{collapsible:{type:"string",enumValues:["off","on"],value:"off"},text:{type:"string",value:""},textHalign:{type:"string",enumValues:["center","end","start"]},textStyle:{type:"object",value:{}}},extension:{}};l.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-legend-section",{metadata:l}),e.__registerWidget("oj.ojLegend",r.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{as:"",data:null,drilling:"off",halign:"start",hiddenCategories:[],hideAndShowBehavior:"off",highlightedCategories:[],hoverBehavior:"none",hoverBehaviorDelay:200,orientation:"vertical",scrolling:"asNeeded",sections:null,symbolHeight:0,symbolWidth:0,textStyle:{},valign:"top",drill:null,trackResize:"on",sectionTitleStyle:{},sectionTitleHalign:"start"},_CreateDvtComponent:function(e,t,i){return new s.Legend(e,t,i)},_InitOptions:function(e,t){this._super(e,t);var i=this.options.expanded;this.options.expanded=i},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-legend-item"===t?(t="section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-legend-tooltip"===t&&(t="tooltip"),t},_ConvertSubIdToLocator:function(e){var t={};if(e.indexOf(":item")>0){var i=e.indexOf(":item"),r=e.substring(0,i),s=e.substring(i);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(r),t.itemIndex=this._GetFirstIndex(s)}else"tooltip"===e&&(t.subId="oj-legend-tooltip");return t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-legend"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-legend"]={path:"textStyle",property:"TEXT"},e["oj-legend-section-title"]={path:"_sectionTitleStyle",property:"TEXT"},e["oj-legend-hover"]={path:"_hoverBorderRadius",property:"border-radius"},e},_GetEventTypes:function(){return["drill","expand","collapse"]},_HandleEvent:function(e){var t=e.type;"drill"===t?this._trigger("drill",null,{id:e.id}):"expand"===t||"collapse"===t?this._UserOptionChange("expanded",e.expanded):this._super(e)},_RemoveKeys:function(e){var t;this._super(e);var i=this.options.expanded;i&&!i.isAddAll()&&(e.forEach(function(e){i.has(e)&&(i=i.delete([e]),t=!0)}),t&&this._UserOptionChange("expanded",i))},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources,t="rtl"===this._GetReadingDirection();e.closed="oj-fwk-icon oj-fwk-icon-arrow-"+(t?"w":"e"),e.open="oj-fwk-icon oj-fwk-icon-arrow-"+(t?"sw":"se")},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:function(e){return e&&e.children?"sectionTemplate":"itemTemplate"},templateElementName:function(e){return e&&e.children?"oj-legend-section":"oj-legend-item"},resultPath:"sections",getAliasedPropertyNames:function(e){return"oj-legend-section"===e?{text:"title",textHalign:"titleHalign",textStyle:"titleStyle"}:{}},processChildrenData:function(e,t,i){e.sections=[],e.items=[];for(var r=0;r<i.length;r++){var s=i[r];t.children[r].children?e.sections.push(s):e.items.push(s)}},expandedKeySet:new a.AllKeySetImpl,processOptionData:function(e){for(var t={sections:[],items:[]},i=0;i<e.length;i++)e[i].items||e[i].sections?t.sections.push(e[i]):t.items.push(e[i]);return t.items.length>0?[t]:e}}}},_Render:function(){this._super()},getTitle:function(){return this._component.getAutomation().getTitle()},getSection:function(e){var t=this._component.getAutomation().getSection(e);return t&&(t.getSection=function(e){return t.sections?t.sections[e]:null},t.getItem=function(e){return t.items?t.items[e]:null}),t},getItem:function(e){return this._component.getAutomation().getItem(e)},getPreferredSize:function(e,t){var i=!1;if(this.options.data&&this._DataProviderHandler.isDataProvider(this.options.data))i=!0;else for(var r=this.options.sections?this.options.sections:[],s=0;s<r.length;s++){var a=r[s].items;a&&a.then&&(i=!0)}var n=i?null:this.options,o=this._component.getPreferredSize(n,e,t);return{width:o.w,height:o.h}},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-legend-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{sections:["items"],root:["data"]}},_GetComponentNoClonePaths:function(){var e=this._super();return e.sections={items:!0},e},_GetTranslationsSectionName:function(){return"oj-ojLegend"}}),t.setDefaultOptions({ojLegend:{expanded:t.createDynamicPropertyGetter(function(e){return e.isCustomElement&&e.element.getAttribute("data")?new a.AllKeySetImpl:null})}})}),define("ojs/ojgauge",["ojs/ojcomponentcore","ojs/ojcore-base","ojs/ojdvt-base","jquery","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojconverter-number","ojs/ojlabelledbyutils","ojs/ojgauge-toolkit"],function(e,t,i,r,s,a,n,o,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var h={properties:{borderColor:{type:"string"},color:{type:"string"},label:{type:"object",properties:{style:{type:"object",value:{}},text:{type:"string",value:""}}},markerSize:{type:"string",enumValues:["fit","lg","md","sm"],value:"fit"},max:{type:"number",value:100},metricLabel:{type:"object",properties:{converter:{type:"object"},rendered:{type:"string",enumValues:["off","on"],value:"off"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}},text:{type:"string",value:""},textType:{type:"string",enumValues:["number","percent"],value:"number"}}},min:{type:"number",value:0},rotation:{type:"number",enumValues:["0","180","270","90"],value:0},size:{type:"number",value:1},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},thresholds:{type:"Array<Object>",value:[]},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},type:{type:"string",value:"circle"},value:{type:"number",writeback:!0},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getMetricLabel:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){h.extension._WIDGET_NAME="ojLedGauge";t.CustomElementBridge.register("oj-led-gauge",{metadata:h,parseFunction:i.shapeParseFunction({type:!0},{arrow:!0,square:!0,rectangle:!0,circle:!0,diamond:!0,triangle:!0,human:!0,star:!0})})}();var g={properties:{changed:{type:"boolean",writeback:!0,value:!1},changedState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},hoverState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},labelledBy:{type:"string"},max:{type:"number",value:5},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},preserveAspectRatio:{type:"string",enumValues:["meet","none"],value:"meet"},readonly:{type:"boolean",value:!1},selectedState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},size:{type:"string",enumValues:["fit","large","lg","md","medium","sm","small"],value:"fit"},step:{type:"number",value:1},thresholds:{type:"Array<Object>",value:[]},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},unselectedState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},value:{type:"number",writeback:!0},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){g.extension._WIDGET_NAME="ojRatingGauge",g.extension._ALIASED_PROPS={transientValue:"rawValue"};var e=/\d/,i={circle:!0,square:!0,diamond:!0,triangle:!0,human:!0,star:!0},r={circle:!0,square:!0,diamond:!0,triangle:!0,human:!0,star:!0,dot:!0,none:!0},s={"changed-state.shape":!0,"hover-state.shape":!0,"selected-state.shape":!0,"unselected-state.shape":!0};t.CustomElementBridge.register("oj-rating-gauge",{metadata:g,parseFunction:function(t,a,n,o){if(s[a]||"unselected-state.shape"===a){if(e.test(t))return t;if(s[a]&&!i[a])throw new Error("Found: "+t+". Expected: "+i.toString());if("unselected-state.shape"!==a||r[a])return t;throw new Error("Found: "+t+". Expected: "+r.toString())}return o(t)}})}();var d={properties:{angleExtent:{type:"number",value:360},animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"],value:"none"},animationOnDisplay:{type:"string",enumValues:["auto","none"],value:"none"},borderColor:{type:"string"},borderRadius:{type:"string",value:"auto"},center:{type:"object",properties:{renderer:{type:"function"}}},color:{type:"string"},describedBy:{type:"string"},indicatorSize:{type:"number",value:1},innerRadius:{type:"number",value:.7},label:{type:"object",properties:{position:{type:"string",enumValues:["auto","center","start"],value:"auto"},style:{type:"object",value:{}},text:{type:"string",value:""}}},labelledBy:{type:"string"},max:{type:"number",value:100},metricLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["auto","center","insideIndicatorEdge","outsideIndicatorEdge","outsidePlotArea","withLabel"],value:"auto"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}},text:{type:"string",value:""},textType:{type:"string",enumValues:["number","percent"],value:"number"}}},min:{type:"number",value:0},orientation:{type:"string",enumValues:["circular","horizontal","vertical"],value:"horizontal"},plotArea:{type:"object",properties:{borderColor:{type:"string"},borderRadius:{type:"string",value:"auto"},color:{type:"string"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},readonly:{type:"boolean",value:!1},referenceLines:{type:"Array<Object>",value:[]},size:{type:"string",enumValues:["fit","lg","md","sm"],value:"fit"},startAngle:{type:"number",value:90},step:{type:"number"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},thresholdDisplay:{type:"string",enumValues:["all","currentOnly","onIndicator"],value:"onIndicator"},thresholds:{type:"Array<Object>",value:[]},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},value:{type:"number",writeback:!0},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getMetricLabel:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};d.extension._WIDGET_NAME="ojStatusMeterGauge",d.extension._ALIASED_PROPS={transientValue:"rawValue"},t.CustomElementBridge.register("oj-status-meter-gauge",{metadata:d}),t.__registerWidget("oj.dvtBaseGauge",r.oj.dvtBaseComponent,{_labelledByUpdatedForSet:o._labelledByUpdatedForSet,_describedByUpdated:o._describedByUpdated,_ComponentCreate:function(){this._SetSizeClass(),this._super(),this._SetLocaleHelpers(n,a)},_OptionChangeHandler:function(e){this._SetSizeClass(),this._super(e)},_GetSizeClass:function(){},_SetSizeClass:function(){var e=this._GetSizeClass();e!==this._sizeClass&&(this.element.removeClass(this._sizeClass),this._sizeClass=e,this.element.addClass(e))},_ProcessStyles:function(e){var t=e;this._super(t),t._thresholdColors=[t._threshold1,t._threshold2,t._threshold3],t._threshold1=null,t._threshold2=null,t._threshold3=null},_AfterCreate:function(){this._super();if(this.option("rawValue",this.options.value,{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),this._SupportsOjLabel()){var e=this.options.labelledBy,t=this.options.describedBy;this._labelledByUpdatedForSet(this.element[0].id,null,e,this.element),this._describedByUpdated(null,t,this.element)}},_GetContentElement:function(){return this.element},_GetChildStyleClasses:function(){var e=this._super();return e["oj-gauge-metric-label"]={path:"metricLabel/style",property:"TEXT"},e["oj-gauge-label"]={path:"label/style",property:"TEXT"},e["oj-gauge-threshold1"]={path:"_threshold1",property:"color"},e["oj-gauge-threshold2"]={path:"_threshold2",property:"color"},e["oj-gauge-threshold3"]={path:"_threshold3",property:"color"},e},_GetEventTypes:function(){return["input","optionChange"]},_HandleEvent:function(e){if("valueChange"===e.type){var t=e.newValue;e.complete?this._UserOptionChange("value",t):(this._trigger("input",null,{value:t}),this._UserOptionChange("rawValue",t))}else this._super(e)},_SupportsOjLabel:function(){return!1},_setOption:function(e,t,i){var r=this.options[e];if("rawValue"!==e){if("value"===e){this.option("rawValue",t,{_context:{writeback:!0,internalSet:!0,readOnly:!0}})}var a;if(this._SupportsOjLabel())"labelledBy"===e&&(a=this.element,this._labelledByUpdatedForSet(a[0].id,r,t,a)),"describedBy"===e&&this._describedByUpdated(r,t);this._super(e,t,i)}else s.error("'rawValue' is a read-only option and cannot be set")},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-ledgauge-tooltip"!==t&&"oj-ratinggauge-tooltip"!==t&&"oj-statusmetergauge-tooltip"!==t||(t="tooltip"),"oj-ratinggauge-item"===t&&null!=e.index&&(t="item["+e.index+"]"),t}},!0),t.__registerWidget("oj.ojLedGauge",r.oj.dvtBaseGauge,{widgetEventPrefix:"oj",options:{borderColor:"",color:"#393737",label:{style:{},text:""},metricLabel:{converter:null,rendered:"off",scaling:"auto",style:{},text:"",textType:"number"},markerSize:"fit",max:100,min:0,rotation:0,size:1,svgClassName:"",svgStyle:{},thresholds:[],tooltip:{renderer:null},type:"circle",value:null,visualEffects:"auto"},_CreateDvtComponent:function(e,t,i){return this._focusable({element:this.element,applyHighlight:!0}),new l.LedGauge(e,t,i)},_ConvertSubIdToLocator:function(e){var t={};return"tooltip"===e&&(t.subId="oj-ledgauge-tooltip"),t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-ledgauge"),e.push(this._sizeClass),e},_GetSizeClass:function(){return`oj-ledgauge-${this.options.markerSize}`},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getMetricLabel:function(){return this._component.getAutomation().getMetricLabel()}});const u="oj-rating-gauge-fit";t.__registerWidget("oj.ojRatingGauge",r.oj.dvtBaseGauge,{widgetEventPrefix:"oj",options:{changed:!1,changedState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},hoverState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},labelledBy:null,describedBy:null,max:5,min:0,orientation:"horizontal",preserveAspectRatio:"meet",rawValue:null,readonly:!1,disabled:!1,size:"fit",selectedState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},step:1,thresholds:[],tooltip:{renderer:null},unselectedState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},value:null,visualEffects:"auto"},_CreateDvtComponent:function(e,t,i){return this._focusable({element:this.element,applyHighlight:!0}),new l.RatingGauge(e,t,i)},_ConvertSubIdToLocator:function(e){var t={};return"tooltip"===e?t.subId="oj-ratinggauge-tooltip":0===e.indexOf("item")&&(t.subId="oj-ratinggauge-item",t.index=this._GetFirstIndex(e)),t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-ratinggauge"),"fit"===this.options.size&&e.push(u),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-rating-gauge-hover"]=[{path:"hoverState/color",property:"fill"},{path:"hoverState/borderColor",property:"stroke"}],e["oj-rating-gauge-selected "+(this.options.readonly?"oj-rating-gauge-readonly":"")]=[{path:"selectedState/color",property:"fill"},{path:"selectedState/borderColor",property:"stroke"}],e["oj-rating-gauge-unselected "+(this.options.readonly?"oj-rating-gauge-readonly":"")]=[{path:"unselectedState/color",property:"fill"},{path:"unselectedState/borderColor",property:"stroke"}],e["oj-rating-gauge-changed"]=[{path:"changedState/color",property:"fill"},{path:"changedState/borderColor",property:"stroke"}],e["oj-rating-gauge-shape-sm"]={path:"_shapeSize/sm",property:"width"},e["oj-rating-gauge-shape-md"]={path:"_shapeSize/md",property:"width"},e["oj-rating-gauge-shape-lg"]={path:"_shapeSize/lg",property:"width"},e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},_SupportsOjLabel:function(){return this._IsCustomElement()},_GetTranslationsSectionName:function(){return"oj-ojRatingGauge"},_ProcessStyles:function(e){var t=e;this._super(t);var i={small:"sm",medium:"md",large:"lg"}[t.size]||t.size;if("fit"!==i){var r=parseInt(t._shapeSize[i],10),s="horizontal"===t.orientation;t._width=s?r*t.max:r,t._height=s?r:r*t.max,this._width=t._width,this._height=t._height}},_ProcessOptions:function(){this._super(),"fit"===this.options.size?this.element.addClass(u):this.element.removeClass(u)},_UserOptionChange:function(e,t){this._superApply(arguments),"value"===e&&this._UserOptionChange("changed",!0)}}),t.__registerWidget("oj.ojStatusMeterGauge",r.oj.dvtBaseGauge,{widgetEventPrefix:"oj",options:{angleExtent:360,animationOnDataChange:"none",animationOnDisplay:"none",animationDuration:void 0,borderColor:"",borderRadius:"auto",center:{renderer:null},color:"#393737",indicatorSize:1,innerRadius:.7,label:{position:"auto",style:{},text:""},labelledBy:null,describedBy:null,max:100,metricLabel:{converter:null,position:"auto",rendered:"auto",scaling:"auto",style:{},text:"",textType:"number"},min:0,orientation:"horizontal",size:"fit",plotArea:{borderColor:void 0,borderRadius:"auto",color:void 0,rendered:"auto",svgClassName:"",svgStyle:{}},rawValue:null,readonly:!1,referenceLines:[],startAngle:90,step:null,svgClassName:"",svgStyle:{},tooltip:{renderer:null},thresholdDisplay:"onIndicator",thresholds:[],value:null,visualEffects:"auto"},_GetTranslationsSectionName:function(){return"oj-ojStatusMeterGauge"},_CreateDvtComponent:function(e,t,i){return this._focusable({element:this.element,applyHighlight:!0}),new l.StatusMeterGauge(e,t,i)},_ConvertSubIdToLocator:function(e){var t={};return"tooltip"===e&&(t.subId="oj-statusmetergauge-tooltip"),t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-statusmetergauge"),e.push(this._sizeClass),e},_GetSizeClass:function(){return`oj-statusmetergauge-${this.options.orientation}-${this.options.size}`},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"},{path:"center/renderer",slot:"centerTemplate"}]},_SupportsOjLabel:function(){return this._IsCustomElement()},_ProcessOptions:function(){this._super();var e=this.options.center;e&&e._renderer&&(e.renderer=this._GetTemplateRenderer(e._renderer,"center"))},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-statusmetergauge"]={path:"animationDuration",property:"ANIM_DUR"},e["oj-statusmeter-gauge-plotarea"]=[{path:"plotArea/borderColor",property:"border-color"},{path:"plotArea/color",property:"color"}],e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getMetricLabel:function(){return this._component.getAutomation().getMetricLabel()}})}),define("bundles/ojchartbundle",function(){});
//# sourceMappingURL=ojchartbundle.js.map